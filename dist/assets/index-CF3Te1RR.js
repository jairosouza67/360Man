function CS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mb={exports:{}},nh={},pb={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),AS=Symbol.for("react.portal"),PS=Symbol.for("react.fragment"),RS=Symbol.for("react.strict_mode"),DS=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),MS=Symbol.for("react.context"),VS=Symbol.for("react.forward_ref"),LS=Symbol.for("react.suspense"),FS=Symbol.for("react.memo"),US=Symbol.for("react.lazy"),Cv=Symbol.iterator;function zS(t){return t===null||typeof t!="object"?null:(t=Cv&&t[Cv]||t["@@iterator"],typeof t=="function"?t:null)}var gb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vb=Object.assign,yb={};function _o(t,e,n){this.props=t,this.context=e,this.refs=yb,this.updater=n||gb}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xb(){}xb.prototype=_o.prototype;function Dp(t,e,n){this.props=t,this.context=e,this.refs=yb,this.updater=n||gb}var Op=Dp.prototype=new xb;Op.constructor=Dp;vb(Op,_o.prototype);Op.isPureReactComponent=!0;var Av=Array.isArray,wb=Object.prototype.hasOwnProperty,Mp={current:null},bb={key:!0,ref:!0,__self:!0,__source:!0};function _b(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)wb.call(e,r)&&!bb.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:vc,type:t,key:i,ref:a,props:s,_owner:Mp.current}}function $S(t,e){return{$$typeof:vc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vp(t){return typeof t=="object"&&t!==null&&t.$$typeof===vc}function BS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pv=/\/+/g;function af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BS(""+t.key):e.toString(36)}function Tu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case vc:case AS:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+af(a,0):r,Av(s)?(n="",t!=null&&(n=t.replace(Pv,"$&/")+"/"),Tu(s,e,n,"",function(d){return d})):s!=null&&(Vp(s)&&(s=$S(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Pv,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Av(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+af(i,l);a+=Tu(i,e,n,c,s)}else if(c=zS(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+af(i,l++),a+=Tu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zc(t,e,n){if(t==null)return t;var r=[],s=0;return Tu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function qS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},ju={transition:null},WS={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:ju,ReactCurrentOwner:Mp};function Eb(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!Vp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=_o;Te.Fragment=PS;Te.Profiler=DS;Te.PureComponent=Dp;Te.StrictMode=RS;Te.Suspense=LS;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WS;Te.act=Eb;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vb({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Mp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)wb.call(e,c)&&!bb.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:vc,type:t.type,key:s,ref:i,props:r,_owner:a}};Te.createContext=function(t){return t={$$typeof:MS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OS,_context:t},t.Consumer=t};Te.createElement=_b;Te.createFactory=function(t){var e=_b.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:VS,render:t}};Te.isValidElement=Vp;Te.lazy=function(t){return{$$typeof:US,_payload:{_status:-1,_result:t},_init:qS}};Te.memo=function(t,e){return{$$typeof:FS,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};Te.unstable_act=Eb;Te.useCallback=function(t,e){return un.current.useCallback(t,e)};Te.useContext=function(t){return un.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Te.useEffect=function(t,e){return un.current.useEffect(t,e)};Te.useId=function(){return un.current.useId()};Te.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return un.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Te.useRef=function(t){return un.current.useRef(t)};Te.useState=function(t){return un.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return un.current.useTransition()};Te.version="18.3.1";pb.exports=Te;var M=pb.exports;const $=th(M),HS=CS({__proto__:null,default:$},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS=M,KS=Symbol.for("react.element"),QS=Symbol.for("react.fragment"),YS=Object.prototype.hasOwnProperty,XS=GS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZS={key:!0,ref:!0,__self:!0,__source:!0};function Nb(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)YS.call(e,r)&&!ZS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:KS,type:t,key:i,ref:a,props:s,_owner:XS.current}}nh.Fragment=QS;nh.jsx=Nb;nh.jsxs=Nb;mb.exports=nh;var o=mb.exports,Yf={},kb={exports:{}},Dn={},Sb={exports:{}},Tb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,F){var Y=q.length;q.push(F);e:for(;0<Y;){var le=Y-1>>>1,ie=q[le];if(0<s(ie,F))q[le]=F,q[Y]=ie,Y=le;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var F=q[0],Y=q.pop();if(Y!==F){q[0]=Y;e:for(var le=0,ie=q.length,he=ie>>>1;le<he;){var ke=2*(le+1)-1,De=q[ke],At=ke+1,je=q[At];if(0>s(De,Y))At<ie&&0>s(je,De)?(q[le]=je,q[At]=Y,le=At):(q[le]=De,q[ke]=Y,le=ke);else if(At<ie&&0>s(je,Y))q[le]=je,q[At]=Y,le=At;else break e}}return F}function s(q,F){var Y=q.sortIndex-F.sortIndex;return Y!==0?Y:q.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,m=null,p=3,g=!1,T=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var F=n(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=q)r(d),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(d)}}function P(q){if(k=!1,b(q),!T)if(n(c)!==null)T=!0,me(R);else{var F=n(d);F!==null&&W(P,F.startTime-q)}}function R(q,F){T=!1,k&&(k=!1,w(x),x=-1),g=!0;var Y=p;try{for(b(F),m=n(c);m!==null&&(!(m.expirationTime>F)||q&&!C());){var le=m.callback;if(typeof le=="function"){m.callback=null,p=m.priorityLevel;var ie=le(m.expirationTime<=F);F=t.unstable_now(),typeof ie=="function"?m.callback=ie:m===n(c)&&r(c),b(F)}else r(c);m=n(c)}if(m!==null)var he=!0;else{var ke=n(d);ke!==null&&W(P,ke.startTime-F),he=!1}return he}finally{m=null,p=Y,g=!1}}var O=!1,N=null,x=-1,E=5,_=-1;function C(){return!(t.unstable_now()-_<E)}function A(){if(N!==null){var q=t.unstable_now();_=q;var F=!0;try{F=N(!0,q)}finally{F?j():(O=!1,N=null)}}else O=!1}var j;if(typeof y=="function")j=function(){y(A)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,te=ne.port2;ne.port1.onmessage=A,j=function(){te.postMessage(null)}}else j=function(){I(A,0)};function me(q){N=q,O||(O=!0,j())}function W(q,F){x=I(function(){q(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,me(R))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var Y=p;p=F;try{return q()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,F){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=p;p=q;try{return F()}finally{p=Y}},t.unstable_scheduleCallback=function(q,F,Y){var le=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Y+ie,q={id:h++,callback:F,priorityLevel:q,startTime:Y,expirationTime:ie,sortIndex:-1},Y>le?(q.sortIndex=Y,e(d,q),n(c)===null&&q===n(d)&&(k?(w(x),x=-1):k=!0,W(P,Y-le))):(q.sortIndex=ie,e(c,q),T||g||(T=!0,me(R))),q},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(q){var F=p;return function(){var Y=p;p=F;try{return q.apply(this,arguments)}finally{p=Y}}}})(Tb);Sb.exports=Tb;var JS=Sb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2=M,Pn=JS;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jb=new Set,Vl={};function ra(t,e){Ja(t,e),Ja(t+"Capture",e)}function Ja(t,e){for(Vl[t]=e,t=0;t<e.length;t++)jb.add(e[t])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=Object.prototype.hasOwnProperty,t2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rv={},Dv={};function n2(t){return Xf.call(Dv,t)?!0:Xf.call(Rv,t)?!1:t2.test(t)?Dv[t]=!0:(Rv[t]=!0,!1)}function r2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function s2(t,e,n,r){if(e===null||typeof e>"u"||r2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lp=/[\-:]([a-z])/g;function Fp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lp,Fp);Wt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lp,Fp);Wt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lp,Fp);Wt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Up(t,e,n,r){var s=Wt.hasOwnProperty(e)?Wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(s2(e,n,s,r)&&(n=null),r||s===null?n2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var os=e2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jc=Symbol.for("react.element"),Ta=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),Ib=Symbol.for("react.provider"),Cb=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),Ab=Symbol.for("react.offscreen"),Ov=Symbol.iterator;function Wo(t){return t===null||typeof t!="object"?null:(t=Ov&&t[Ov]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,of;function ll(t){if(of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);of=e&&e[1]||""}return`
`+of+t}var lf=!1;function cf(t,e){if(!t||lf)return"";lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{lf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ll(t):""}function i2(t){switch(t.tag){case 5:return ll(t.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return t=cf(t.type,!1),t;case 11:return t=cf(t.type.render,!1),t;case 1:return t=cf(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ja:return"Fragment";case Ta:return"Portal";case Zf:return"Profiler";case zp:return"StrictMode";case Jf:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cb:return(t.displayName||"Context")+".Consumer";case Ib:return(t._context.displayName||"Context")+".Provider";case $p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bp:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function a2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o2(t){var e=Pb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eu(t){t._valueTracker||(t._valueTracker=o2(t))}function Rb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Db(t,e){e=e.checked,e!=null&&Up(t,"checked",e,!1)}function rm(t,e){Db(t,e);var n=Js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&sm(t,e.type,Js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sm(t,e,n){(e!=="number"||Zu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cl=Array.isArray;function Fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Js(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(cl(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Js(n)}}function Ob(t,e){var n=Js(e.value),r=Js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function am(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tu,Vb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tu=tu||document.createElement("div"),tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l2=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(t){l2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xl[e]=xl[t]})});function Lb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xl.hasOwnProperty(t)&&xl[t]?(""+e).trim():e+"px"}function Fb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var c2=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(t,e){if(e){if(c2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=null;function qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var um=null,Ua=null,za=null;function Uv(t){if(t=wc(t)){if(typeof um!="function")throw Error(G(280));var e=t.stateNode;e&&(e=oh(e),um(t.stateNode,t.type,e))}}function Ub(t){Ua?za?za.push(t):za=[t]:Ua=t}function zb(){if(Ua){var t=Ua,e=za;if(za=Ua=null,Uv(t),e)for(t=0;t<e.length;t++)Uv(e[t])}}function $b(t,e){return t(e)}function Bb(){}var uf=!1;function qb(t,e,n){if(uf)return t(e,n);uf=!0;try{return $b(t,e,n)}finally{uf=!1,(Ua!==null||za!==null)&&(Bb(),zb())}}function Fl(t,e){var n=t.stateNode;if(n===null)return null;var r=oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var dm=!1;if(Zr)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){dm=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{dm=!1}function u2(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var wl=!1,Ju=null,ed=!1,hm=null,d2={onError:function(t){wl=!0,Ju=t}};function h2(t,e,n,r,s,i,a,l,c){wl=!1,Ju=null,u2.apply(d2,arguments)}function f2(t,e,n,r,s,i,a,l,c){if(h2.apply(this,arguments),wl){if(wl){var d=Ju;wl=!1,Ju=null}else throw Error(G(198));ed||(ed=!0,hm=d)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zv(t){if(sa(t)!==t)throw Error(G(188))}function m2(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zv(s),t;if(i===r)return zv(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Hb(t){return t=m2(t),t!==null?Gb(t):null}function Gb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gb(t);if(e!==null)return e;t=t.sibling}return null}var Kb=Pn.unstable_scheduleCallback,$v=Pn.unstable_cancelCallback,p2=Pn.unstable_shouldYield,g2=Pn.unstable_requestPaint,gt=Pn.unstable_now,v2=Pn.unstable_getCurrentPriorityLevel,Wp=Pn.unstable_ImmediatePriority,Qb=Pn.unstable_UserBlockingPriority,td=Pn.unstable_NormalPriority,y2=Pn.unstable_LowPriority,Yb=Pn.unstable_IdlePriority,rh=null,Sr=null;function x2(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(rh,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:_2,w2=Math.log,b2=Math.LN2;function _2(t){return t>>>=0,t===0?32:31-(w2(t)/b2|0)|0}var nu=64,ru=4194304;function ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ul(l):(i&=a,i!==0&&(r=ul(i)))}else a=n&~s,a!==0?r=ul(a):i!==0&&(r=ul(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),s=1<<n,r|=t[n],e&=~s;return r}function E2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-lr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=E2(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xb(){var t=nu;return nu<<=1,!(nu&4194240)&&(nu=64),t}function df(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function k2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Be=0;function Zb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jb,Gp,e_,t_,n_,mm=!1,su=[],Fs=null,Us=null,zs=null,Ul=new Map,zl=new Map,Ss=[],S2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bv(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function Go(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=wc(e),e!==null&&Gp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function T2(t,e,n,r,s){switch(e){case"focusin":return Fs=Go(Fs,t,e,n,r,s),!0;case"dragenter":return Us=Go(Us,t,e,n,r,s),!0;case"mouseover":return zs=Go(zs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ul.set(i,Go(Ul.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zl.set(i,Go(zl.get(i)||null,t,e,n,r,s)),!0}return!1}function r_(t){var e=Ri(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=Wb(n),e!==null){t.blockedOn=e,n_(t.priority,function(){e_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cm=r,n.target.dispatchEvent(r),cm=null}else return e=wc(n),e!==null&&Gp(e),t.blockedOn=n,!1;e.shift()}return!0}function qv(t,e,n){Iu(t)&&n.delete(e)}function j2(){mm=!1,Fs!==null&&Iu(Fs)&&(Fs=null),Us!==null&&Iu(Us)&&(Us=null),zs!==null&&Iu(zs)&&(zs=null),Ul.forEach(qv),zl.forEach(qv)}function Ko(t,e){t.blockedOn===e&&(t.blockedOn=null,mm||(mm=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,j2)))}function $l(t){function e(s){return Ko(s,t)}if(0<su.length){Ko(su[0],t);for(var n=1;n<su.length;n++){var r=su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fs!==null&&Ko(Fs,t),Us!==null&&Ko(Us,t),zs!==null&&Ko(zs,t),Ul.forEach(e),zl.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)r_(n),n.blockedOn===null&&Ss.shift()}var $a=os.ReactCurrentBatchConfig,rd=!0;function I2(t,e,n,r){var s=Be,i=$a.transition;$a.transition=null;try{Be=1,Kp(t,e,n,r)}finally{Be=s,$a.transition=i}}function C2(t,e,n,r){var s=Be,i=$a.transition;$a.transition=null;try{Be=4,Kp(t,e,n,r)}finally{Be=s,$a.transition=i}}function Kp(t,e,n,r){if(rd){var s=pm(t,e,n,r);if(s===null)bf(t,e,r,sd,n),Bv(t,r);else if(T2(s,t,e,n,r))r.stopPropagation();else if(Bv(t,r),e&4&&-1<S2.indexOf(t)){for(;s!==null;){var i=wc(s);if(i!==null&&Jb(i),i=pm(t,e,n,r),i===null&&bf(t,e,r,sd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bf(t,e,r,null,n)}}var sd=null;function pm(t,e,n,r){if(sd=null,t=qp(r),t=Ri(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sd=t,null}function s_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v2()){case Wp:return 1;case Qb:return 4;case td:case y2:return 16;case Yb:return 536870912;default:return 16}default:return 16}}var Rs=null,Qp=null,Cu=null;function i_(){if(Cu)return Cu;var t,e=Qp,n=e.length,r,s="value"in Rs?Rs.value:Rs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Cu=s.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function iu(){return!0}function Wv(){return!1}function On(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?iu:Wv,this.isPropagationStopped=Wv,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yp=On(Eo),xc=at({},Eo,{view:0,detail:0}),A2=On(xc),hf,ff,Qo,sh=at({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qo&&(Qo&&t.type==="mousemove"?(hf=t.screenX-Qo.screenX,ff=t.screenY-Qo.screenY):ff=hf=0,Qo=t),hf)},movementY:function(t){return"movementY"in t?t.movementY:ff}}),Hv=On(sh),P2=at({},sh,{dataTransfer:0}),R2=On(P2),D2=at({},xc,{relatedTarget:0}),mf=On(D2),O2=at({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),M2=On(O2),V2=at({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L2=On(V2),F2=at({},Eo,{data:0}),Gv=On(F2),U2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$2[t])?!!e[t]:!1}function Xp(){return B2}var q2=at({},xc,{key:function(t){if(t.key){var e=U2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W2=On(q2),H2=at({},sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kv=On(H2),G2=at({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),K2=On(G2),Q2=at({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y2=On(Q2),X2=at({},sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z2=On(X2),J2=[9,13,27,32],Zp=Zr&&"CompositionEvent"in window,bl=null;Zr&&"documentMode"in document&&(bl=document.documentMode);var eT=Zr&&"TextEvent"in window&&!bl,a_=Zr&&(!Zp||bl&&8<bl&&11>=bl),Qv=" ",Yv=!1;function o_(t,e){switch(t){case"keyup":return J2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function tT(t,e){switch(t){case"compositionend":return l_(e);case"keypress":return e.which!==32?null:(Yv=!0,Qv);case"textInput":return t=e.data,t===Qv&&Yv?null:t;default:return null}}function nT(t,e){if(Ia)return t==="compositionend"||!Zp&&o_(t,e)?(t=i_(),Cu=Qp=Rs=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a_&&e.locale!=="ko"?null:e.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rT[t.type]:e==="textarea"}function c_(t,e,n,r){Ub(r),e=id(e,"onChange"),0<e.length&&(n=new Yp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,Bl=null;function sT(t){w_(t,0)}function ih(t){var e=Pa(t);if(Rb(e))return t}function iT(t,e){if(t==="change")return e}var u_=!1;if(Zr){var pf;if(Zr){var gf="oninput"in document;if(!gf){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),gf=typeof Zv.oninput=="function"}pf=gf}else pf=!1;u_=pf&&(!document.documentMode||9<document.documentMode)}function Jv(){_l&&(_l.detachEvent("onpropertychange",d_),Bl=_l=null)}function d_(t){if(t.propertyName==="value"&&ih(Bl)){var e=[];c_(e,Bl,t,qp(t)),qb(sT,e)}}function aT(t,e,n){t==="focusin"?(Jv(),_l=e,Bl=n,_l.attachEvent("onpropertychange",d_)):t==="focusout"&&Jv()}function oT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(Bl)}function lT(t,e){if(t==="click")return ih(e)}function cT(t,e){if(t==="input"||t==="change")return ih(e)}function uT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:uT;function ql(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xf.call(e,s)||!dr(t[s],e[s]))return!1}return!0}function ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ty(t,e){var n=ey(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ey(n)}}function h_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f_(){for(var t=window,e=Zu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zu(t.document)}return e}function Jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dT(t){var e=f_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h_(n.ownerDocument.documentElement,n)){if(r!==null&&Jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ty(n,i);var a=ty(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hT=Zr&&"documentMode"in document&&11>=document.documentMode,Ca=null,gm=null,El=null,vm=!1;function ny(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vm||Ca==null||Ca!==Zu(r)||(r=Ca,"selectionStart"in r&&Jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),El&&ql(El,r)||(El=r,r=id(gm,"onSelect"),0<r.length&&(e=new Yp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ca)))}function au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Aa={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},vf={},m_={};Zr&&(m_=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function ah(t){if(vf[t])return vf[t];if(!Aa[t])return t;var e=Aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m_)return vf[t]=e[n];return t}var p_=ah("animationend"),g_=ah("animationiteration"),v_=ah("animationstart"),y_=ah("transitionend"),x_=new Map,ry="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){x_.set(t,e),ra(e,[t])}for(var yf=0;yf<ry.length;yf++){var xf=ry[yf],fT=xf.toLowerCase(),mT=xf[0].toUpperCase()+xf.slice(1);li(fT,"on"+mT)}li(p_,"onAnimationEnd");li(g_,"onAnimationIteration");li(v_,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(y_,"onTransitionEnd");Ja("onMouseEnter",["mouseout","mouseover"]);Ja("onMouseLeave",["mouseout","mouseover"]);Ja("onPointerEnter",["pointerout","pointerover"]);Ja("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function sy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,f2(r,e,void 0,t),t.currentTarget=null}function w_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;sy(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;sy(s,l,d),i=c}}}if(ed)throw t=hm,ed=!1,hm=null,t}function Xe(t,e){var n=e[_m];n===void 0&&(n=e[_m]=new Set);var r=t+"__bubble";n.has(r)||(b_(e,t,2,!1),n.add(r))}function wf(t,e,n){var r=0;e&&(r|=4),b_(n,t,r,e)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Wl(t){if(!t[ou]){t[ou]=!0,jb.forEach(function(n){n!=="selectionchange"&&(pT.has(n)||wf(n,!1,t),wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ou]||(e[ou]=!0,wf("selectionchange",!1,e))}}function b_(t,e,n,r){switch(s_(e)){case 1:var s=I2;break;case 4:s=C2;break;default:s=Kp}n=s.bind(null,e,n,t),s=void 0,!dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ri(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}qb(function(){var d=i,h=qp(n),m=[];e:{var p=x_.get(t);if(p!==void 0){var g=Yp,T=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":g=W2;break;case"focusin":T="focus",g=mf;break;case"focusout":T="blur",g=mf;break;case"beforeblur":case"afterblur":g=mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=R2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=K2;break;case p_:case g_:case v_:g=M2;break;case y_:g=Y2;break;case"scroll":g=A2;break;case"wheel":g=Z2;break;case"copy":case"cut":case"paste":g=L2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Kv}var k=(e&4)!==0,I=!k&&t==="scroll",w=k?p!==null?p+"Capture":null:p;k=[];for(var y=d,b;y!==null;){b=y;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,w!==null&&(P=Fl(y,w),P!=null&&k.push(Hl(y,P,b)))),I)break;y=y.return}0<k.length&&(p=new g(p,T,null,n,h),m.push({event:p,listeners:k}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==cm&&(T=n.relatedTarget||n.fromElement)&&(Ri(T)||T[Jr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=d,T=T?Ri(T):null,T!==null&&(I=sa(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=d),g!==T)){if(k=Hv,P="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=Kv,P="onPointerLeave",w="onPointerEnter",y="pointer"),I=g==null?p:Pa(g),b=T==null?p:Pa(T),p=new k(P,y+"leave",g,n,h),p.target=I,p.relatedTarget=b,P=null,Ri(h)===d&&(k=new k(w,y+"enter",T,n,h),k.target=b,k.relatedTarget=I,P=k),I=P,g&&T)t:{for(k=g,w=T,y=0,b=k;b;b=ya(b))y++;for(b=0,P=w;P;P=ya(P))b++;for(;0<y-b;)k=ya(k),y--;for(;0<b-y;)w=ya(w),b--;for(;y--;){if(k===w||w!==null&&k===w.alternate)break t;k=ya(k),w=ya(w)}k=null}else k=null;g!==null&&iy(m,p,g,k,!1),T!==null&&I!==null&&iy(m,I,T,k,!0)}}e:{if(p=d?Pa(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var R=iT;else if(Xv(p))if(u_)R=cT;else{R=oT;var O=aT}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=lT);if(R&&(R=R(t,d))){c_(m,R,n,h);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&sm(p,"number",p.value)}switch(O=d?Pa(d):window,t){case"focusin":(Xv(O)||O.contentEditable==="true")&&(Ca=O,gm=d,El=null);break;case"focusout":El=gm=Ca=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,ny(m,n,h);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":ny(m,n,h)}var N;if(Zp)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ia?o_(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(a_&&n.locale!=="ko"&&(Ia||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ia&&(N=i_()):(Rs=h,Qp="value"in Rs?Rs.value:Rs.textContent,Ia=!0)),O=id(d,x),0<O.length&&(x=new Gv(x,t,null,n,h),m.push({event:x,listeners:O}),N?x.data=N:(N=l_(n),N!==null&&(x.data=N)))),(N=eT?tT(t,n):nT(t,n))&&(d=id(d,"onBeforeInput"),0<d.length&&(h=new Gv("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=N))}w_(m,e)})}function Hl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function id(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fl(t,n),i!=null&&r.unshift(Hl(t,i,s)),i=Fl(t,e),i!=null&&r.push(Hl(t,i,s))),t=t.return}return r}function ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iy(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Fl(n,i),c!=null&&a.unshift(Hl(n,c,l))):s||(c=Fl(n,i),c!=null&&a.push(Hl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var gT=/\r\n?/g,vT=/\u0000|\uFFFD/g;function ay(t){return(typeof t=="string"?t:""+t).replace(gT,`
`).replace(vT,"")}function lu(t,e,n){if(e=ay(e),ay(t)!==e&&n)throw Error(G(425))}function ad(){}var ym=null,xm=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bm=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(t){return oy.resolve(null).then(t).catch(wT)}:bm;function wT(t){setTimeout(function(){throw t})}function _f(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$l(e)}function $s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ly(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),_r="__reactFiber$"+No,Gl="__reactProps$"+No,Jr="__reactContainer$"+No,_m="__reactEvents$"+No,bT="__reactListeners$"+No,_T="__reactHandles$"+No;function Ri(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ly(t);t!==null;){if(n=t[_r])return n;t=ly(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[_r]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function oh(t){return t[Gl]||null}var Em=[],Ra=-1;function ci(t){return{current:t}}function Je(t){0>Ra||(t.current=Em[Ra],Em[Ra]=null,Ra--)}function Qe(t,e){Ra++,Em[Ra]=t.current,t.current=e}var ei={},tn=ci(ei),xn=ci(!1),qi=ei;function eo(t,e){var n=t.type.contextTypes;if(!n)return ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wn(t){return t=t.childContextTypes,t!=null}function od(){Je(xn),Je(tn)}function cy(t,e,n){if(tn.current!==ei)throw Error(G(168));Qe(tn,e),Qe(xn,n)}function __(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,a2(t)||"Unknown",s));return at({},n,r)}function ld(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ei,qi=tn.current,Qe(tn,t),Qe(xn,xn.current),!0}function uy(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=__(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,Je(xn),Je(tn),Qe(tn,t)):Je(xn),Qe(xn,n)}var zr=null,lh=!1,Ef=!1;function E_(t){zr===null?zr=[t]:zr.push(t)}function ET(t){lh=!0,E_(t)}function ui(){if(!Ef&&zr!==null){Ef=!0;var t=0,e=Be;try{var n=zr;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,lh=!1}catch(s){throw zr!==null&&(zr=zr.slice(t+1)),Kb(Wp,ui),s}finally{Be=e,Ef=!1}}return null}var Da=[],Oa=0,cd=null,ud=0,Un=[],zn=0,Wi=null,Br=1,qr="";function Ii(t,e){Da[Oa++]=ud,Da[Oa++]=cd,cd=t,ud=e}function N_(t,e,n){Un[zn++]=Br,Un[zn++]=qr,Un[zn++]=Wi,Wi=t;var r=Br;t=qr;var s=32-lr(r)-1;r&=~(1<<s),n+=1;var i=32-lr(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Br=1<<32-lr(e)+s|n<<s|r,qr=i+t}else Br=1<<i|n<<s|r,qr=t}function eg(t){t.return!==null&&(Ii(t,1),N_(t,1,0))}function tg(t){for(;t===cd;)cd=Da[--Oa],Da[Oa]=null,ud=Da[--Oa],Da[Oa]=null;for(;t===Wi;)Wi=Un[--zn],Un[zn]=null,qr=Un[--zn],Un[zn]=null,Br=Un[--zn],Un[zn]=null}var An=null,jn=null,tt=!1,rr=null;function k_(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,jn=$s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wi!==null?{id:Br,overflow:qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,jn=null,!0):!1;default:return!1}}function Nm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function km(t){if(tt){var e=jn;if(e){var n=e;if(!dy(t,e)){if(Nm(t))throw Error(G(418));e=$s(n.nextSibling);var r=An;e&&dy(t,e)?k_(r,n):(t.flags=t.flags&-4097|2,tt=!1,An=t)}}else{if(Nm(t))throw Error(G(418));t.flags=t.flags&-4097|2,tt=!1,An=t}}}function hy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function cu(t){if(t!==An)return!1;if(!tt)return hy(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=jn)){if(Nm(t))throw S_(),Error(G(418));for(;e;)k_(t,e),e=$s(e.nextSibling)}if(hy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=$s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=An?$s(t.stateNode.nextSibling):null;return!0}function S_(){for(var t=jn;t;)t=$s(t.nextSibling)}function to(){jn=An=null,tt=!1}function ng(t){rr===null?rr=[t]:rr.push(t)}var NT=os.ReactCurrentBatchConfig;function Yo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function uu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fy(t){var e=t._init;return e(t._payload)}function T_(t){function e(w,y){if(t){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Hs(w,y),w.index=0,w.sibling=null,w}function i(w,y,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,P){return y===null||y.tag!==6?(y=Cf(b,w.mode,P),y.return=w,y):(y=s(y,b),y.return=w,y)}function c(w,y,b,P){var R=b.type;return R===ja?h(w,y,b.props.children,P,b.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Es&&fy(R)===y.type)?(P=s(y,b.props),P.ref=Yo(w,y,b),P.return=w,P):(P=Lu(b.type,b.key,b.props,null,w.mode,P),P.ref=Yo(w,y,b),P.return=w,P)}function d(w,y,b,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Af(b,w.mode,P),y.return=w,y):(y=s(y,b.children||[]),y.return=w,y)}function h(w,y,b,P,R){return y===null||y.tag!==7?(y=Ui(b,w.mode,P,R),y.return=w,y):(y=s(y,b),y.return=w,y)}function m(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Cf(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jc:return b=Lu(y.type,y.key,y.props,null,w.mode,b),b.ref=Yo(w,null,y),b.return=w,b;case Ta:return y=Af(y,w.mode,b),y.return=w,y;case Es:var P=y._init;return m(w,P(y._payload),b)}if(cl(y)||Wo(y))return y=Ui(y,w.mode,b,null),y.return=w,y;uu(w,y)}return null}function p(w,y,b,P){var R=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:l(w,y,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:return b.key===R?c(w,y,b,P):null;case Ta:return b.key===R?d(w,y,b,P):null;case Es:return R=b._init,p(w,y,R(b._payload),P)}if(cl(b)||Wo(b))return R!==null?null:h(w,y,b,P,null);uu(w,b)}return null}function g(w,y,b,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(b)||null,l(y,w,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Jc:return w=w.get(P.key===null?b:P.key)||null,c(y,w,P,R);case Ta:return w=w.get(P.key===null?b:P.key)||null,d(y,w,P,R);case Es:var O=P._init;return g(w,y,b,O(P._payload),R)}if(cl(P)||Wo(P))return w=w.get(b)||null,h(y,w,P,R,null);uu(y,P)}return null}function T(w,y,b,P){for(var R=null,O=null,N=y,x=y=0,E=null;N!==null&&x<b.length;x++){N.index>x?(E=N,N=null):E=N.sibling;var _=p(w,N,b[x],P);if(_===null){N===null&&(N=E);break}t&&N&&_.alternate===null&&e(w,N),y=i(_,y,x),O===null?R=_:O.sibling=_,O=_,N=E}if(x===b.length)return n(w,N),tt&&Ii(w,x),R;if(N===null){for(;x<b.length;x++)N=m(w,b[x],P),N!==null&&(y=i(N,y,x),O===null?R=N:O.sibling=N,O=N);return tt&&Ii(w,x),R}for(N=r(w,N);x<b.length;x++)E=g(N,w,x,b[x],P),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?x:E.key),y=i(E,y,x),O===null?R=E:O.sibling=E,O=E);return t&&N.forEach(function(C){return e(w,C)}),tt&&Ii(w,x),R}function k(w,y,b,P){var R=Wo(b);if(typeof R!="function")throw Error(G(150));if(b=R.call(b),b==null)throw Error(G(151));for(var O=R=null,N=y,x=y=0,E=null,_=b.next();N!==null&&!_.done;x++,_=b.next()){N.index>x?(E=N,N=null):E=N.sibling;var C=p(w,N,_.value,P);if(C===null){N===null&&(N=E);break}t&&N&&C.alternate===null&&e(w,N),y=i(C,y,x),O===null?R=C:O.sibling=C,O=C,N=E}if(_.done)return n(w,N),tt&&Ii(w,x),R;if(N===null){for(;!_.done;x++,_=b.next())_=m(w,_.value,P),_!==null&&(y=i(_,y,x),O===null?R=_:O.sibling=_,O=_);return tt&&Ii(w,x),R}for(N=r(w,N);!_.done;x++,_=b.next())_=g(N,w,x,_.value,P),_!==null&&(t&&_.alternate!==null&&N.delete(_.key===null?x:_.key),y=i(_,y,x),O===null?R=_:O.sibling=_,O=_);return t&&N.forEach(function(A){return e(w,A)}),tt&&Ii(w,x),R}function I(w,y,b,P){if(typeof b=="object"&&b!==null&&b.type===ja&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:e:{for(var R=b.key,O=y;O!==null;){if(O.key===R){if(R=b.type,R===ja){if(O.tag===7){n(w,O.sibling),y=s(O,b.props.children),y.return=w,w=y;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Es&&fy(R)===O.type){n(w,O.sibling),y=s(O,b.props),y.ref=Yo(w,O,b),y.return=w,w=y;break e}n(w,O);break}else e(w,O);O=O.sibling}b.type===ja?(y=Ui(b.props.children,w.mode,P,b.key),y.return=w,w=y):(P=Lu(b.type,b.key,b.props,null,w.mode,P),P.ref=Yo(w,y,b),P.return=w,w=P)}return a(w);case Ta:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(w,y.sibling),y=s(y,b.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Af(b,w.mode,P),y.return=w,w=y}return a(w);case Es:return O=b._init,I(w,y,O(b._payload),P)}if(cl(b))return T(w,y,b,P);if(Wo(b))return k(w,y,b,P);uu(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,b),y.return=w,w=y):(n(w,y),y=Cf(b,w.mode,P),y.return=w,w=y),a(w)):n(w,y)}return I}var no=T_(!0),j_=T_(!1),dd=ci(null),hd=null,Ma=null,rg=null;function sg(){rg=Ma=hd=null}function ig(t){var e=dd.current;Je(dd),t._currentValue=e}function Sm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ba(t,e){hd=t,rg=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(rg!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(hd===null)throw Error(G(308));Ma=t,hd.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var Di=null;function ag(t){Di===null?Di=[t]:Di.push(t)}function I_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ag(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ns=!1;function og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,ag(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function Pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hp(t,n)}}function my(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fd(t,e,n,r){var s=t.updateQueue;Ns=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;a=0,h=d=c=null,l=i;do{var p=l.lane,g=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,k=l;switch(p=e,g=n,k.tag){case 1:if(T=k.payload,typeof T=="function"){m=T.call(g,m,p);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=k.payload,p=typeof T=="function"?T.call(g,m,p):T,p==null)break e;m=at({},m,p);break e;case 2:Ns=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,c=m):h=h.next=g,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Gi|=a,t.lanes=a,t.memoizedState=m}}function py(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var bc={},Tr=ci(bc),Kl=ci(bc),Ql=ci(bc);function Oi(t){if(t===bc)throw Error(G(174));return t}function lg(t,e){switch(Qe(Ql,e),Qe(Kl,t),Qe(Tr,bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:am(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=am(e,t)}Je(Tr),Qe(Tr,e)}function ro(){Je(Tr),Je(Kl),Je(Ql)}function A_(t){Oi(Ql.current);var e=Oi(Tr.current),n=am(e,t.type);e!==n&&(Qe(Kl,t),Qe(Tr,n))}function cg(t){Kl.current===t&&(Je(Tr),Je(Kl))}var st=ci(0);function md(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nf=[];function ug(){for(var t=0;t<Nf.length;t++)Nf[t]._workInProgressVersionPrimary=null;Nf.length=0}var Ru=os.ReactCurrentDispatcher,kf=os.ReactCurrentBatchConfig,Hi=0,it=null,jt=null,Dt=null,pd=!1,Nl=!1,Yl=0,kT=0;function Qt(){throw Error(G(321))}function dg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function hg(t,e,n,r,s,i){if(Hi=i,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ru.current=t===null||t.memoizedState===null?IT:CT,t=n(r,s),Nl){i=0;do{if(Nl=!1,Yl=0,25<=i)throw Error(G(301));i+=1,Dt=jt=null,e.updateQueue=null,Ru.current=AT,t=n(r,s)}while(Nl)}if(Ru.current=gd,e=jt!==null&&jt.next!==null,Hi=0,Dt=jt=it=null,pd=!1,e)throw Error(G(300));return t}function fg(){var t=Yl!==0;return Yl=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?it.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Gn(){if(jt===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Dt===null?it.memoizedState:Dt.next;if(e!==null)Dt=e,jt=t;else{if(t===null)throw Error(G(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Dt===null?it.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Xl(t,e){return typeof e=="function"?e(t):e}function Sf(t){var e=Gn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var h=d.lane;if((Hi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,a=r):c=c.next=m,it.lanes|=h,Gi|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,dr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,it.lanes|=i,Gi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tf(t){var e=Gn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);dr(i,e.memoizedState)||(yn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function P_(){}function R_(t,e){var n=it,r=Gn(),s=e(),i=!dr(r.memoizedState,s);if(i&&(r.memoizedState=s,yn=!0),r=r.queue,mg(M_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Zl(9,O_.bind(null,n,r,s,e),void 0,null),Ot===null)throw Error(G(349));Hi&30||D_(n,e,s)}return s}function D_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O_(t,e,n,r){e.value=n,e.getSnapshot=r,V_(e)&&L_(t)}function M_(t,e,n){return n(function(){V_(e)&&L_(t)})}function V_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function L_(t){var e=es(t,1);e!==null&&cr(e,t,1,-1)}function gy(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:t},e.queue=t,t=t.dispatch=jT.bind(null,it,t),[e.memoizedState,t]}function Zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function F_(){return Gn().memoizedState}function Du(t,e,n,r){var s=wr();it.flags|=t,s.memoizedState=Zl(1|e,n,void 0,r===void 0?null:r)}function ch(t,e,n,r){var s=Gn();r=r===void 0?null:r;var i=void 0;if(jt!==null){var a=jt.memoizedState;if(i=a.destroy,r!==null&&dg(r,a.deps)){s.memoizedState=Zl(e,n,i,r);return}}it.flags|=t,s.memoizedState=Zl(1|e,n,i,r)}function vy(t,e){return Du(8390656,8,t,e)}function mg(t,e){return ch(2048,8,t,e)}function U_(t,e){return ch(4,2,t,e)}function z_(t,e){return ch(4,4,t,e)}function $_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B_(t,e,n){return n=n!=null?n.concat([t]):null,ch(4,4,$_.bind(null,e,t),n)}function pg(){}function q_(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function W_(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function H_(t,e,n){return Hi&21?(dr(n,e)||(n=Xb(),it.lanes|=n,Gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function ST(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=kf.transition;kf.transition={};try{t(!1),e()}finally{Be=n,kf.transition=r}}function G_(){return Gn().memoizedState}function TT(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},K_(t))Q_(e,n);else if(n=I_(t,e,n,r),n!==null){var s=on();cr(n,t,r,s),Y_(n,e,r)}}function jT(t,e,n){var r=Ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(K_(t))Q_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,dr(l,a)){var c=e.interleaved;c===null?(s.next=s,ag(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=I_(t,e,s,r),n!==null&&(s=on(),cr(n,t,r,s),Y_(n,e,r))}}function K_(t){var e=t.alternate;return t===it||e!==null&&e===it}function Q_(t,e){Nl=pd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hp(t,n)}}var gd={readContext:Hn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},IT={readContext:Hn,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Du(4194308,4,$_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Du(4194308,4,t,e)},useInsertionEffect:function(t,e){return Du(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TT.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:gy,useDebugValue:pg,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=gy(!1),e=t[0];return t=ST.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,s=wr();if(tt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Ot===null)throw Error(G(349));Hi&30||D_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,vy(M_.bind(null,r,i,t),[t]),r.flags|=2048,Zl(9,O_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wr(),e=Ot.identifierPrefix;if(tt){var n=qr,r=Br;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CT={readContext:Hn,useCallback:q_,useContext:Hn,useEffect:mg,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:z_,useMemo:W_,useReducer:Sf,useRef:F_,useState:function(){return Sf(Xl)},useDebugValue:pg,useDeferredValue:function(t){var e=Gn();return H_(e,jt.memoizedState,t)},useTransition:function(){var t=Sf(Xl)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:P_,useSyncExternalStore:R_,useId:G_,unstable_isNewReconciler:!1},AT={readContext:Hn,useCallback:q_,useContext:Hn,useEffect:mg,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:z_,useMemo:W_,useReducer:Tf,useRef:F_,useState:function(){return Tf(Xl)},useDebugValue:pg,useDeferredValue:function(t){var e=Gn();return jt===null?e.memoizedState=t:H_(e,jt.memoizedState,t)},useTransition:function(){var t=Tf(Xl)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:P_,useSyncExternalStore:R_,useId:G_,unstable_isNewReconciler:!1};function tr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uh={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),s=Ws(t),i=Qr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(cr(e,t,s,r),Pu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),s=Ws(t),i=Qr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(cr(e,t,s,r),Pu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Ws(t),s=Qr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bs(t,s,r),e!==null&&(cr(e,t,r,n),Pu(e,t,r))}};function yy(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!ql(n,r)||!ql(s,i):!0}function X_(t,e,n){var r=!1,s=ei,i=e.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(s=wn(e)?qi:tn.current,r=e.contextTypes,i=(r=r!=null)?eo(t,s):ei),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uh.enqueueReplaceState(e,e.state,null)}function jm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},og(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hn(i):(i=wn(e)?qi:tn.current,s.context=eo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&uh.enqueueReplaceState(s,s.state,null),fd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e){try{var n="",r=e;do n+=i2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function jf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PT=typeof WeakMap=="function"?WeakMap:Map;function Z_(t,e,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yd||(yd=!0,Fm=r),Im(t,e)},n}function J_(t,e,n){n=Qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Im(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Im(t,e),typeof r!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function wy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=HT.bind(null,t,e,n),e.then(t,t))}function by(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _y(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qr(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var RT=os.ReactCurrentOwner,yn=!1;function an(t,e,n,r){e.child=t===null?j_(e,null,n,r):no(e,t.child,n,r)}function Ey(t,e,n,r,s){n=n.render;var i=e.ref;return Ba(e,s),r=hg(t,e,n,r,i,s),n=fg(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(tt&&n&&eg(e),e.flags|=1,an(t,e,r,s),e.child)}function Ny(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Eg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,e1(t,e,i,r,s)):(t=Lu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ql,n(a,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Hs(i,r),t.ref=e.ref,t.return=e,e.child=t}function e1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ql(i,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,ts(t,e,s)}return Cm(t,e,n,r,s)}function t1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(La,Sn),Sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(La,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Qe(La,Sn),Sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Qe(La,Sn),Sn|=r;return an(t,e,s,n),e.child}function n1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cm(t,e,n,r,s){var i=wn(n)?qi:tn.current;return i=eo(e,i),Ba(e,s),n=hg(t,e,n,r,i,s),r=fg(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(tt&&r&&eg(e),e.flags|=1,an(t,e,n,s),e.child)}function ky(t,e,n,r,s){if(wn(n)){var i=!0;ld(e)}else i=!1;if(Ba(e,s),e.stateNode===null)Ou(t,e),X_(e,n,r),jm(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Hn(d):(d=wn(n)?qi:tn.current,d=eo(e,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&xy(e,a,r,d),Ns=!1;var p=e.memoizedState;a.state=p,fd(e,r,a,s),c=e.memoizedState,l!==r||p!==c||xn.current||Ns?(typeof h=="function"&&(Tm(e,n,h,r),c=e.memoizedState),(l=Ns||yy(e,n,l,r,p,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,C_(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:tr(e.type,l),a.props=d,m=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=wn(n)?qi:tn.current,c=eo(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||p!==c)&&xy(e,a,r,c),Ns=!1,p=e.memoizedState,a.state=p,fd(e,r,a,s);var T=e.memoizedState;l!==m||p!==T||xn.current||Ns?(typeof g=="function"&&(Tm(e,n,g,r),T=e.memoizedState),(d=Ns||yy(e,n,d,r,p,T,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,T,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,T,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),a.props=r,a.state=T,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Am(t,e,n,r,i,s)}function Am(t,e,n,r,s,i){n1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&uy(e,n,!1),ts(t,e,i);r=e.stateNode,RT.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=no(e,t.child,null,i),e.child=no(e,null,l,i)):an(t,e,l,i),e.memoizedState=r.state,s&&uy(e,n,!0),e.child}function r1(t){var e=t.stateNode;e.pendingContext?cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cy(t,e.context,!1),lg(t,e.containerInfo)}function Sy(t,e,n,r,s){return to(),ng(s),e.flags|=256,an(t,e,n,r),e.child}var Pm={dehydrated:null,treeContext:null,retryLane:0};function Rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function s1(t,e,n){var r=e.pendingProps,s=st.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qe(st,s&1),t===null)return km(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=fh(a,r,0,null),t=Ui(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rm(n),e.memoizedState=Pm,t):gg(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return DT(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Hs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Hs(l,i):(i=Ui(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Rm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Pm,r}return i=t.child,t=i.sibling,r=Hs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gg(t,e){return e=fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function du(t,e,n,r){return r!==null&&ng(r),no(e,t.child,null,n),t=gg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DT(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=jf(Error(G(422))),du(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fh({mode:"visible",children:r.children},s,0,null),i=Ui(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&no(e,t.child,null,a),e.child.memoizedState=Rm(a),e.memoizedState=Pm,i);if(!(e.mode&1))return du(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(G(419)),r=jf(i,r,void 0),du(t,e,a,r)}if(l=(a&t.childLanes)!==0,yn||l){if(r=Ot,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),cr(r,t,s,-1))}return _g(),r=jf(Error(G(421))),du(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=GT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,jn=$s(s.nextSibling),An=e,tt=!0,rr=null,t!==null&&(Un[zn++]=Br,Un[zn++]=qr,Un[zn++]=Wi,Br=t.id,qr=t.overflow,Wi=e),e=gg(e,r.children),e.flags|=4096,e)}function Ty(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sm(t.return,e,n)}function If(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function i1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(an(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,n,e);else if(t.tag===19)Ty(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&md(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),If(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&md(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}If(e,!0,n,null,i);break;case"together":If(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ou(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OT(t,e,n){switch(e.tag){case 3:r1(e),to();break;case 5:A_(e);break;case 1:wn(e.type)&&ld(e);break;case 4:lg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Qe(dd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?s1(t,e,n):(Qe(st,st.current&1),t=ts(t,e,n),t!==null?t.sibling:null);Qe(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,t1(t,e,n)}return ts(t,e,n)}var a1,Dm,o1,l1;a1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dm=function(){};o1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Oi(Tr.current);var i=null;switch(n){case"input":s=nm(t,s),r=nm(t,r),i=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),i=[];break;case"textarea":s=im(t,s),r=im(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ad)}om(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Xe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};l1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xo(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MT(t,e,n){var r=e.pendingProps;switch(tg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return wn(e.type)&&od(),Yt(e),null;case 3:return r=e.stateNode,ro(),Je(xn),Je(tn),ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&($m(rr),rr=null))),Dm(t,e),Yt(e),null;case 5:cg(e);var s=Oi(Ql.current);if(n=e.type,t!==null&&e.stateNode!=null)o1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Yt(e),null}if(t=Oi(Tr.current),cu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_r]=e,r[Gl]=i,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<dl.length;s++)Xe(dl[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Mv(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":Lv(r,i),Xe("invalid",r)}om(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&lu(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&lu(r.textContent,l,t),s=["children",""+l]):Vl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Xe("scroll",r)}switch(n){case"input":eu(r),Vv(r,i,!0);break;case"textarea":eu(r),Fv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ad)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[_r]=e,t[Gl]=r,a1(t,e,!1,!1),e.stateNode=t;e:{switch(a=lm(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<dl.length;s++)Xe(dl[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":Mv(t,r),s=nm(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":Lv(t,r),s=im(t,r),Xe("invalid",t);break;default:s=r}om(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Fb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ll(t,c):typeof c=="number"&&Ll(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xe("scroll",t):c!=null&&Up(t,i,c,a))}switch(n){case"input":eu(t),Vv(t,r,!1);break;case"textarea":eu(t),Fv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Js(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)l1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Oi(Ql.current),Oi(Tr.current),cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(i=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Yt(e),null;case 13:if(Je(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&jn!==null&&e.mode&1&&!(e.flags&128))S_(),to(),e.flags|=98560,i=!1;else if(i=cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[_r]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),i=!1}else rr!==null&&($m(rr),rr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?It===0&&(It=3):_g())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return ro(),Dm(t,e),t===null&&Wl(e.stateNode.containerInfo),Yt(e),null;case 10:return ig(e.type._context),Yt(e),null;case 17:return wn(e.type)&&od(),Yt(e),null;case 19:if(Je(st),i=e.memoizedState,i===null)return Yt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Xo(i,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=md(t),a!==null){for(e.flags|=128,Xo(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(st,st.current&1|2),e.child}t=t.sibling}i.tail!==null&&gt()>io&&(e.flags|=128,r=!0,Xo(i,!1),e.lanes=4194304)}else{if(!r)if(t=md(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!tt)return Yt(e),null}else 2*gt()-i.renderingStartTime>io&&n!==1073741824&&(e.flags|=128,r=!0,Xo(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=gt(),e.sibling=null,n=st.current,Qe(st,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return bg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function VT(t,e){switch(tg(e),e.tag){case 1:return wn(e.type)&&od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ro(),Je(xn),Je(tn),ug(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cg(e),null;case 13:if(Je(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(st),null;case 4:return ro(),null;case 10:return ig(e.type._context),null;case 22:case 23:return bg(),null;case 24:return null;default:return null}}var hu=!1,Jt=!1,LT=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Om(t,e,n){try{n()}catch(r){ct(t,e,r)}}var jy=!1;function FT(t,e){if(ym=rd,t=f_(),Jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,m=t,p=null;t:for(;;){for(var g;m!==n||s!==0&&m.nodeType!==3||(l=a+s),m!==i||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++d===s&&(l=a),p===i&&++h===r&&(c=a),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xm={focusedElem:t,selectionRange:n},rd=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var k=T.memoizedProps,I=T.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?k:tr(e.type,k),I);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(P){ct(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return T=jy,jy=!1,T}function kl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Om(e,n,i)}s=s.next}while(s!==r)}}function dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c1(t){var e=t.alternate;e!==null&&(t.alternate=null,c1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[Gl],delete e[_m],delete e[bT],delete e[_T])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u1(t){return t.tag===5||t.tag===3||t.tag===4}function Iy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ad));else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}function Lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,n),t=t.sibling;t!==null;)Lm(t,e,n),t=t.sibling}var Ut=null,nr=!1;function ws(t,e,n){for(n=n.child;n!==null;)d1(t,e,n),n=n.sibling}function d1(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(rh,n)}catch{}switch(n.tag){case 5:Jt||Va(n,e);case 6:var r=Ut,s=nr;Ut=null,ws(t,e,n),Ut=r,nr=s,Ut!==null&&(nr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(nr?(t=Ut,n=n.stateNode,t.nodeType===8?_f(t.parentNode,n):t.nodeType===1&&_f(t,n),$l(t)):_f(Ut,n.stateNode));break;case 4:r=Ut,s=nr,Ut=n.stateNode.containerInfo,nr=!0,ws(t,e,n),Ut=r,nr=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Om(n,e,a),s=s.next}while(s!==r)}ws(t,e,n);break;case 1:if(!Jt&&(Va(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ct(n,e,l)}ws(t,e,n);break;case 21:ws(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,ws(t,e,n),Jt=r):ws(t,e,n);break;default:ws(t,e,n)}}function Cy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LT),e.forEach(function(r){var s=KT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,nr=!1;break e;case 3:Ut=l.stateNode.containerInfo,nr=!0;break e;case 4:Ut=l.stateNode.containerInfo,nr=!0;break e}l=l.return}if(Ut===null)throw Error(G(160));d1(i,a,s),Ut=null,nr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ct(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h1(e,t),e=e.sibling}function h1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),xr(t),r&4){try{kl(3,t,t.return),dh(3,t)}catch(k){ct(t,t.return,k)}try{kl(5,t,t.return)}catch(k){ct(t,t.return,k)}}break;case 1:Jn(e,t),xr(t),r&512&&n!==null&&Va(n,n.return);break;case 5:if(Jn(e,t),xr(t),r&512&&n!==null&&Va(n,n.return),t.flags&32){var s=t.stateNode;try{Ll(s,"")}catch(k){ct(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Db(s,i),lm(l,a);var d=lm(l,i);for(a=0;a<c.length;a+=2){var h=c[a],m=c[a+1];h==="style"?Fb(s,m):h==="dangerouslySetInnerHTML"?Vb(s,m):h==="children"?Ll(s,m):Up(s,h,m,d)}switch(l){case"input":rm(s,i);break;case"textarea":Ob(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Fa(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fa(s,!!i.multiple,i.defaultValue,!0):Fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gl]=i}catch(k){ct(t,t.return,k)}}break;case 6:if(Jn(e,t),xr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){ct(t,t.return,k)}}break;case 3:if(Jn(e,t),xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(k){ct(t,t.return,k)}break;case 4:Jn(e,t),xr(t);break;case 13:Jn(e,t),xr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xg=gt())),r&4&&Cy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(d=Jt)||h,Jn(e,t),Jt=d):Jn(e,t),xr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ae=t,h=t.child;h!==null;){for(m=ae=h;ae!==null;){switch(p=ae,g=p.child,p.tag){case 0:case 11:case 14:case 15:kl(4,p,p.return);break;case 1:Va(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(k){ct(r,n,k)}}break;case 5:Va(p,p.return);break;case 22:if(p.memoizedState!==null){Py(m);continue}}g!==null?(g.return=p,ae=g):Py(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Lb("display",a))}catch(k){ct(t,t.return,k)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(k){ct(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Jn(e,t),xr(t),r&4&&Cy(t);break;case 21:break;default:Jn(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u1(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ll(s,""),r.flags&=-33);var i=Iy(t);Lm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Iy(t);Vm(t,l,a);break;default:throw Error(G(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UT(t,e,n){ae=t,f1(t)}function f1(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||hu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Jt;l=hu;var d=Jt;if(hu=a,(Jt=c)&&!d)for(ae=s;ae!==null;)a=ae,c=a.child,a.tag===22&&a.memoizedState!==null?Ry(s):c!==null?(c.return=a,ae=c):Ry(s);for(;i!==null;)ae=i,f1(i),i=i.sibling;ae=s,hu=l,Jt=d}Ay(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):Ay(t)}}function Ay(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||dh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&py(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}py(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&$l(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Jt||e.flags&512&&Mm(e)}catch(p){ct(e,e.return,p)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Py(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Ry(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dh(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ct(e,s,c)}}var i=e.return;try{Mm(e)}catch(c){ct(e,i,c)}break;case 5:var a=e.return;try{Mm(e)}catch(c){ct(e,a,c)}}}catch(c){ct(e,e.return,c)}if(e===t){ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ae=l;break}ae=e.return}}var zT=Math.ceil,vd=os.ReactCurrentDispatcher,vg=os.ReactCurrentOwner,qn=os.ReactCurrentBatchConfig,Ve=0,Ot=null,Et=null,Bt=0,Sn=0,La=ci(0),It=0,Jl=null,Gi=0,hh=0,yg=0,Sl=null,gn=null,xg=0,io=1/0,Ur=null,yd=!1,Fm=null,qs=null,fu=!1,Ds=null,xd=0,Tl=0,Um=null,Mu=-1,Vu=0;function on(){return Ve&6?gt():Mu!==-1?Mu:Mu=gt()}function Ws(t){return t.mode&1?Ve&2&&Bt!==0?Bt&-Bt:NT.transition!==null?(Vu===0&&(Vu=Xb()),Vu):(t=Be,t!==0||(t=window.event,t=t===void 0?16:s_(t.type)),t):1}function cr(t,e,n,r){if(50<Tl)throw Tl=0,Um=null,Error(G(185));yc(t,n,r),(!(Ve&2)||t!==Ot)&&(t===Ot&&(!(Ve&2)&&(hh|=n),It===4&&Ts(t,Bt)),bn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(io=gt()+500,lh&&ui()))}function bn(t,e){var n=t.callbackNode;N2(t,e);var r=nd(t,t===Ot?Bt:0);if(r===0)n!==null&&$v(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$v(n),e===1)t.tag===0?ET(Dy.bind(null,t)):E_(Dy.bind(null,t)),xT(function(){!(Ve&6)&&ui()}),n=null;else{switch(Zb(r)){case 1:n=Wp;break;case 4:n=Qb;break;case 16:n=td;break;case 536870912:n=Yb;break;default:n=td}n=b1(n,m1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function m1(t,e){if(Mu=-1,Vu=0,Ve&6)throw Error(G(327));var n=t.callbackNode;if(qa()&&t.callbackNode!==n)return null;var r=nd(t,t===Ot?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wd(t,r);else{e=r;var s=Ve;Ve|=2;var i=g1();(Ot!==t||Bt!==e)&&(Ur=null,io=gt()+500,Fi(t,e));do try{qT();break}catch(l){p1(t,l)}while(!0);sg(),vd.current=i,Ve=s,Et!==null?e=0:(Ot=null,Bt=0,e=It)}if(e!==0){if(e===2&&(s=fm(t),s!==0&&(r=s,e=zm(t,s))),e===1)throw n=Jl,Fi(t,0),Ts(t,r),bn(t,gt()),n;if(e===6)Ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!$T(s)&&(e=wd(t,r),e===2&&(i=fm(t),i!==0&&(r=i,e=zm(t,i))),e===1))throw n=Jl,Fi(t,0),Ts(t,r),bn(t,gt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Ci(t,gn,Ur);break;case 3:if(Ts(t,r),(r&130023424)===r&&(e=xg+500-gt(),10<e)){if(nd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=bm(Ci.bind(null,t,gn,Ur),e);break}Ci(t,gn,Ur);break;case 4:if(Ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-lr(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zT(r/1960))-r,10<r){t.timeoutHandle=bm(Ci.bind(null,t,gn,Ur),r);break}Ci(t,gn,Ur);break;case 5:Ci(t,gn,Ur);break;default:throw Error(G(329))}}}return bn(t,gt()),t.callbackNode===n?m1.bind(null,t):null}function zm(t,e){var n=Sl;return t.current.memoizedState.isDehydrated&&(Fi(t,e).flags|=256),t=wd(t,e),t!==2&&(e=gn,gn=n,e!==null&&$m(e)),t}function $m(t){gn===null?gn=t:gn.push.apply(gn,t)}function $T(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~yg,e&=~hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function Dy(t){if(Ve&6)throw Error(G(327));qa();var e=nd(t,0);if(!(e&1))return bn(t,gt()),null;var n=wd(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=zm(t,r))}if(n===1)throw n=Jl,Fi(t,0),Ts(t,e),bn(t,gt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ci(t,gn,Ur),bn(t,gt()),null}function wg(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(io=gt()+500,lh&&ui())}}function Ki(t){Ds!==null&&Ds.tag===0&&!(Ve&6)&&qa();var e=Ve;Ve|=1;var n=qn.transition,r=Be;try{if(qn.transition=null,Be=1,t)return t()}finally{Be=r,qn.transition=n,Ve=e,!(Ve&6)&&ui()}}function bg(){Sn=La.current,Je(La)}function Fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yT(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(tg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&od();break;case 3:ro(),Je(xn),Je(tn),ug();break;case 5:cg(r);break;case 4:ro();break;case 13:Je(st);break;case 19:Je(st);break;case 10:ig(r.type._context);break;case 22:case 23:bg()}n=n.return}if(Ot=t,Et=t=Hs(t.current,null),Bt=Sn=e,It=0,Jl=null,yg=hh=Gi=0,gn=Sl=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Di=null}return t}function p1(t,e){do{var n=Et;try{if(sg(),Ru.current=gd,pd){for(var r=it.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pd=!1}if(Hi=0,Dt=jt=it=null,Nl=!1,Yl=0,vg.current=null,n===null||n.return===null){It=1,Jl=e,Et=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=by(a);if(g!==null){g.flags&=-257,_y(g,a,l,i,e),g.mode&1&&wy(i,d,e),e=g,c=d;var T=e.updateQueue;if(T===null){var k=new Set;k.add(c),e.updateQueue=k}else T.add(c);break e}else{if(!(e&1)){wy(i,d,e),_g();break e}c=Error(G(426))}}else if(tt&&l.mode&1){var I=by(a);if(I!==null){!(I.flags&65536)&&(I.flags|=256),_y(I,a,l,i,e),ng(so(c,l));break e}}i=c=so(c,l),It!==4&&(It=2),Sl===null?Sl=[i]:Sl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Z_(i,c,e);my(i,w);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qs===null||!qs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=J_(i,l,e);my(i,P);break e}}i=i.return}while(i!==null)}y1(n)}catch(R){e=R,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function g1(){var t=vd.current;return vd.current=gd,t===null?gd:t}function _g(){(It===0||It===3||It===2)&&(It=4),Ot===null||!(Gi&268435455)&&!(hh&268435455)||Ts(Ot,Bt)}function wd(t,e){var n=Ve;Ve|=2;var r=g1();(Ot!==t||Bt!==e)&&(Ur=null,Fi(t,e));do try{BT();break}catch(s){p1(t,s)}while(!0);if(sg(),Ve=n,vd.current=r,Et!==null)throw Error(G(261));return Ot=null,Bt=0,It}function BT(){for(;Et!==null;)v1(Et)}function qT(){for(;Et!==null&&!p2();)v1(Et)}function v1(t){var e=w1(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?y1(t):Et=e,vg.current=null}function y1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VT(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,Et=null;return}}else if(n=MT(n,e,Sn),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);It===0&&(It=5)}function Ci(t,e,n){var r=Be,s=qn.transition;try{qn.transition=null,Be=1,WT(t,e,n,r)}finally{qn.transition=s,Be=r}return null}function WT(t,e,n,r){do qa();while(Ds!==null);if(Ve&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(k2(t,i),t===Ot&&(Et=Ot=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fu||(fu=!0,b1(td,function(){return qa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qn.transition,qn.transition=null;var a=Be;Be=1;var l=Ve;Ve|=4,vg.current=null,FT(t,n),h1(n,t),dT(xm),rd=!!ym,xm=ym=null,t.current=n,UT(n),g2(),Ve=l,Be=a,qn.transition=i}else t.current=n;if(fu&&(fu=!1,Ds=t,xd=s),i=t.pendingLanes,i===0&&(qs=null),x2(n.stateNode),bn(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yd)throw yd=!1,t=Fm,Fm=null,t;return xd&1&&t.tag!==0&&qa(),i=t.pendingLanes,i&1?t===Um?Tl++:(Tl=0,Um=t):Tl=0,ui(),null}function qa(){if(Ds!==null){var t=Zb(xd),e=qn.transition,n=Be;try{if(qn.transition=null,Be=16>t?16:t,Ds===null)var r=!1;else{if(t=Ds,Ds=null,xd=0,Ve&6)throw Error(G(331));var s=Ve;for(Ve|=4,ae=t.current;ae!==null;){var i=ae,a=i.child;if(ae.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ae=d;ae!==null;){var h=ae;switch(h.tag){case 0:case 11:case 15:kl(8,h,i)}var m=h.child;if(m!==null)m.return=h,ae=m;else for(;ae!==null;){h=ae;var p=h.sibling,g=h.return;if(c1(h),h===d){ae=null;break}if(p!==null){p.return=g,ae=p;break}ae=g}}}var T=i.alternate;if(T!==null){var k=T.child;if(k!==null){T.child=null;do{var I=k.sibling;k.sibling=null,k=I}while(k!==null)}}ae=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ae=a;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ae=w;break e}ae=i.return}}var y=t.current;for(ae=y;ae!==null;){a=ae;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ae=b;else e:for(a=y;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dh(9,l)}}catch(R){ct(l,l.return,R)}if(l===a){ae=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,ae=P;break e}ae=l.return}}if(Ve=s,ui(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(rh,t)}catch{}r=!0}return r}finally{Be=n,qn.transition=e}}return!1}function Oy(t,e,n){e=so(n,e),e=Z_(t,e,1),t=Bs(t,e,1),e=on(),t!==null&&(yc(t,1,e),bn(t,e))}function ct(t,e,n){if(t.tag===3)Oy(t,t,n);else for(;e!==null;){if(e.tag===3){Oy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qs===null||!qs.has(r))){t=so(n,t),t=J_(e,t,1),e=Bs(e,t,1),t=on(),e!==null&&(yc(e,1,t),bn(e,t));break}}e=e.return}}function HT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Bt&n)===n&&(It===4||It===3&&(Bt&130023424)===Bt&&500>gt()-xg?Fi(t,0):yg|=n),bn(t,e)}function x1(t,e){e===0&&(t.mode&1?(e=ru,ru<<=1,!(ru&130023424)&&(ru=4194304)):e=1);var n=on();t=es(t,e),t!==null&&(yc(t,e,n),bn(t,n))}function GT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),x1(t,n)}function KT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),x1(t,n)}var w1;w1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,OT(t,e,n);yn=!!(t.flags&131072)}else yn=!1,tt&&e.flags&1048576&&N_(e,ud,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ou(t,e),t=e.pendingProps;var s=eo(e,tn.current);Ba(e,n),s=hg(null,e,r,t,s,n);var i=fg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(i=!0,ld(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,og(e),s.updater=uh,e.stateNode=s,s._reactInternals=e,jm(e,r,t,n),e=Am(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&eg(e),an(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ou(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=YT(r),t=tr(r,t),s){case 0:e=Cm(null,e,r,t,n);break e;case 1:e=ky(null,e,r,t,n);break e;case 11:e=Ey(null,e,r,t,n);break e;case 14:e=Ny(null,e,r,tr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),Cm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),ky(t,e,r,s,n);case 3:e:{if(r1(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,C_(t,e),fd(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=so(Error(G(423)),e),e=Sy(t,e,r,n,s);break e}else if(r!==s){s=so(Error(G(424)),e),e=Sy(t,e,r,n,s);break e}else for(jn=$s(e.stateNode.containerInfo.firstChild),An=e,tt=!0,rr=null,n=j_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),r===s){e=ts(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return A_(e),t===null&&km(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,wm(r,s)?a=null:i!==null&&wm(r,i)&&(e.flags|=32),n1(t,e),an(t,e,a,n),e.child;case 6:return t===null&&km(e),null;case 13:return s1(t,e,n);case 4:return lg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),Ey(t,e,r,s,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Qe(dd,r._currentValue),r._currentValue=a,i!==null)if(dr(i.value,a)){if(i.children===s.children&&!xn.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Qr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Sm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(G(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Sm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}an(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ba(e,n),s=Hn(s),r=r(s),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,s=tr(r,e.pendingProps),s=tr(r.type,s),Ny(t,e,r,s,n);case 15:return e1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),Ou(t,e),e.tag=1,wn(r)?(t=!0,ld(e)):t=!1,Ba(e,n),X_(e,r,s),jm(e,r,s,n),Am(null,e,r,!0,t,n);case 19:return i1(t,e,n);case 22:return t1(t,e,n)}throw Error(G(156,e.tag))};function b1(t,e){return Kb(t,e)}function QT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new QT(t,e,n,r)}function Eg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YT(t){if(typeof t=="function")return Eg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$p)return 11;if(t===Bp)return 14}return 2}function Hs(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lu(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Eg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ja:return Ui(n.children,s,i,e);case zp:a=8,s|=8;break;case Zf:return t=Bn(12,n,e,s|2),t.elementType=Zf,t.lanes=i,t;case Jf:return t=Bn(13,n,e,s),t.elementType=Jf,t.lanes=i,t;case em:return t=Bn(19,n,e,s),t.elementType=em,t.lanes=i,t;case Ab:return fh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ib:a=10;break e;case Cb:a=9;break e;case $p:a=11;break e;case Bp:a=14;break e;case Es:a=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Bn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ui(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function fh(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=Ab,t.lanes=n,t.stateNode={isHidden:!1},t}function Cf(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function Af(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ng(t,e,n,r,s,i,a,l,c){return t=new XT(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},og(i),t}function ZT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ta,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _1(t){if(!t)return ei;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(wn(n))return __(t,n,e)}return e}function E1(t,e,n,r,s,i,a,l,c){return t=Ng(n,r,!0,t,s,i,a,l,c),t.context=_1(null),n=t.current,r=on(),s=Ws(n),i=Qr(r,s),i.callback=e??null,Bs(n,i,s),t.current.lanes=s,yc(t,s,r),bn(t,r),t}function mh(t,e,n,r){var s=e.current,i=on(),a=Ws(s);return n=_1(n),e.context===null?e.context=n:e.pendingContext=n,e=Qr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(s,e,a),t!==null&&(cr(t,s,a,i),Pu(t,s,a)),a}function bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function My(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kg(t,e){My(t,e),(t=t.alternate)&&My(t,e)}function JT(){return null}var N1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sg(t){this._internalRoot=t}ph.prototype.render=Sg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));mh(t,e,null,null)};ph.prototype.unmount=Sg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){mh(null,t,null,null)}),e[Jr]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=t_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&r_(t)}};function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function ej(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=bd(a);i.call(d)}}var a=E1(e,r,t,0,null,!1,!1,"",Vy);return t._reactRootContainer=a,t[Jr]=a.current,Wl(t.nodeType===8?t.parentNode:t),Ki(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=bd(c);l.call(d)}}var c=Ng(t,0,!1,null,null,!1,!1,"",Vy);return t._reactRootContainer=c,t[Jr]=c.current,Wl(t.nodeType===8?t.parentNode:t),Ki(function(){mh(e,c,n,r)}),c}function vh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=bd(a);l.call(c)}}mh(e,a,t,s)}else a=ej(n,e,t,s,r);return bd(a)}Jb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ul(e.pendingLanes);n!==0&&(Hp(e,n|1),bn(e,gt()),!(Ve&6)&&(io=gt()+500,ui()))}break;case 13:Ki(function(){var r=es(t,1);if(r!==null){var s=on();cr(r,t,1,s)}}),kg(t,1)}};Gp=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=on();cr(e,t,134217728,n)}kg(t,134217728)}};e_=function(t){if(t.tag===13){var e=Ws(t),n=es(t,e);if(n!==null){var r=on();cr(n,t,e,r)}kg(t,e)}};t_=function(){return Be};n_=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};um=function(t,e,n){switch(e){case"input":if(rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=oh(r);if(!s)throw Error(G(90));Rb(r),rm(r,s)}}}break;case"textarea":Ob(t,n);break;case"select":e=n.value,e!=null&&Fa(t,!!n.multiple,e,!1)}};$b=wg;Bb=Ki;var tj={usingClientEntryPoint:!1,Events:[wc,Pa,oh,Ub,zb,wg]},Zo={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nj={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hb(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||JT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{rh=mu.inject(nj),Sr=mu}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tj;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(e))throw Error(G(200));return ZT(t,e,null,n)};Dn.createRoot=function(t,e){if(!Tg(t))throw Error(G(299));var n=!1,r="",s=N1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ng(t,1,!1,null,null,n,!1,r,s),t[Jr]=e.current,Wl(t.nodeType===8?t.parentNode:t),new Sg(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Hb(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Ki(t)};Dn.hydrate=function(t,e,n){if(!gh(e))throw Error(G(200));return vh(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!Tg(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=N1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=E1(e,null,t,1,n??null,s,!1,i,a),t[Jr]=e.current,Wl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ph(e)};Dn.render=function(t,e,n){if(!gh(e))throw Error(G(200));return vh(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!gh(t))throw Error(G(40));return t._reactRootContainer?(Ki(function(){vh(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Dn.unstable_batchedUpdates=wg;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return vh(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function k1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k1)}catch(t){console.error(t)}}k1(),kb.exports=Dn;var S1=kb.exports;const rj=th(S1);var Ly=S1;Yf.createRoot=Ly.createRoot,Yf.hydrateRoot=Ly.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)}var Os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Os||(Os={}));const Fy="popstate";function sj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Bm("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_d(s)}return aj(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ij(){return Math.random().toString(36).substr(2,8)}function Uy(t,e){return{usr:t.state,key:t.key,idx:e}}function Bm(t,e,n,r){return n===void 0&&(n=null),ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ko(e):e,{state:n,key:e&&e.key||r||ij()})}function _d(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Os.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(ec({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function m(){l=Os.Pop;let I=h(),w=I==null?null:I-d;d=I,c&&c({action:l,location:k.location,delta:w})}function p(I,w){l=Os.Push;let y=Bm(k.location,I,w);d=h()+1;let b=Uy(y,d),P=k.createHref(y);try{a.pushState(b,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(P)}i&&c&&c({action:l,location:k.location,delta:1})}function g(I,w){l=Os.Replace;let y=Bm(k.location,I,w);d=h();let b=Uy(y,d),P=k.createHref(y);a.replaceState(b,"",P),i&&c&&c({action:l,location:k.location,delta:0})}function T(I){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof I=="string"?I:_d(I);return y=y.replace(/ $/,"%20"),vt(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let k={get action(){return l},get location(){return t(s,a)},listen(I){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Fy,m),c=I,()=>{s.removeEventListener(Fy,m),c=null}},createHref(I){return e(s,I)},createURL:T,encodeLocation(I){let w=T(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(I){return a.go(I)}};return k}var zy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zy||(zy={}));function oj(t,e,n){return n===void 0&&(n="/"),lj(t,e,n)}function lj(t,e,n,r){let s=typeof e=="string"?ko(e):e,i=Ig(s.pathname||"/",n);if(i==null)return null;let a=T1(t);cj(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=bj(i);l=yj(a[c],d)}return l}function T1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Gs([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),T1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:gj(d,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of j1(i.path))s(i,a,c)}),e}function j1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=j1(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function cj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uj=/^:[\w-]+$/,dj=3,hj=2,fj=1,mj=10,pj=-2,$y=t=>t==="*";function gj(t,e){let n=t.split("/"),r=n.length;return n.some($y)&&(r+=pj),e&&(r+=hj),n.filter(s=>!$y(s)).reduce((s,i)=>s+(uj.test(i)?dj:i===""?fj:mj),r)}function vj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yj(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=xj({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:Gs([i,m.pathname]),pathnameBase:Sj(Gs([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Gs([i,m.pathnameBase]))}return a}function xj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let k=l[m]||"";a=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const T=l[m];return g&&!T?d[p]=void 0:d[p]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function wj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ig(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const _j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ej=t=>_j.test(t);function Nj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ko(t):t,i;if(n)if(Ej(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),jg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=By(n.substring(1),"/"):i=By(n,e)}else i=e;return{pathname:i,search:Tj(r),hash:jj(s)}}function By(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cg(t,e){let n=kj(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ag(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ko(t):(s=ec({},t),vt(!s.pathname||!s.pathname.includes("?"),Pf("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Pf("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Pf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=Nj(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Gs=t=>t.join("/").replace(/\/\/+/g,"/"),Sj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ij(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I1=["post","put","patch","delete"];new Set(I1);const Cj=["get",...I1];new Set(Cj);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}const Pg=M.createContext(null),Aj=M.createContext(null),di=M.createContext(null),yh=M.createContext(null),ls=M.createContext({outlet:null,matches:[],isDataRoute:!1}),C1=M.createContext(null);function Pj(t,e){let{relative:n}=e===void 0?{}:e;So()||vt(!1);let{basename:r,navigator:s}=M.useContext(di),{hash:i,pathname:a,search:l}=P1(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Gs([r,a])),s.createHref({pathname:c,search:l,hash:i})}function So(){return M.useContext(yh)!=null}function To(){return So()||vt(!1),M.useContext(yh).location}function A1(t){M.useContext(di).static||M.useLayoutEffect(t)}function xh(){let{isDataRoute:t}=M.useContext(ls);return t?Gj():Rj()}function Rj(){So()||vt(!1);let t=M.useContext(Pg),{basename:e,future:n,navigator:r}=M.useContext(di),{matches:s}=M.useContext(ls),{pathname:i}=To(),a=JSON.stringify(Cg(s,n.v7_relativeSplatPath)),l=M.useRef(!1);return A1(()=>{l.current=!0}),M.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Ag(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Gs([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,a,i,t])}const Dj=M.createContext(null);function Oj(t){let e=M.useContext(ls).outlet;return e&&M.createElement(Dj.Provider,{value:t},e)}function P1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(di),{matches:s}=M.useContext(ls),{pathname:i}=To(),a=JSON.stringify(Cg(s,r.v7_relativeSplatPath));return M.useMemo(()=>Ag(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function Mj(t,e){return Vj(t,e)}function Vj(t,e,n,r){So()||vt(!1);let{navigator:s}=M.useContext(di),{matches:i}=M.useContext(ls),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=To(),h;if(e){var m;let I=typeof e=="string"?ko(e):e;c==="/"||(m=I.pathname)!=null&&m.startsWith(c)||vt(!1),h=I}else h=d;let p=h.pathname||"/",g=p;if(c!=="/"){let I=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=oj(t,{pathname:g}),k=$j(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:Gs([c,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:Gs([c,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n,r);return e&&k?M.createElement(yh.Provider,{value:{location:tc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Os.Pop}},k):k}function Lj(){let t=Hj(),e=Ij(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,null)}const Fj=M.createElement(Lj,null);class Uj extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(ls.Provider,{value:this.props.routeContext},M.createElement(C1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zj(t){let{routeContext:e,match:n,children:r}=t,s=M.useContext(Pg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(ls.Provider,{value:e},r)}function $j(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||vt(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:g}=n,T=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let g,T=!1,k=null,I=null;n&&(g=l&&m.route.id?l[m.route.id]:void 0,k=m.route.errorElement||Fj,c&&(d<0&&p===0?(Kj("route-fallback"),T=!0,I=null):d===p&&(T=!0,I=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),y=()=>{let b;return g?b=k:T?b=I:m.route.Component?b=M.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=h,M.createElement(zj,{match:m,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?M.createElement(Uj,{location:n.location,revalidation:n.revalidation,component:k,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var R1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(R1||{}),D1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(D1||{});function Bj(t){let e=M.useContext(Pg);return e||vt(!1),e}function qj(t){let e=M.useContext(Aj);return e||vt(!1),e}function Wj(t){let e=M.useContext(ls);return e||vt(!1),e}function O1(t){let e=Wj(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function Hj(){var t;let e=M.useContext(C1),n=qj(),r=O1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Gj(){let{router:t}=Bj(R1.UseNavigateStable),e=O1(D1.UseNavigateStable),n=M.useRef(!1);return A1(()=>{n.current=!0}),M.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,tc({fromRouteId:e},i)))},[t,e])}const qy={};function Kj(t,e,n){qy[t]||(qy[t]=!0)}function Qj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ji(t){let{to:e,replace:n,state:r,relative:s}=t;So()||vt(!1);let{future:i,static:a}=M.useContext(di),{matches:l}=M.useContext(ls),{pathname:c}=To(),d=xh(),h=Ag(e,Cg(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(h);return M.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:s}),[d,m,s,n,r]),null}function Yj(t){return Oj(t.context)}function nt(t){vt(!1)}function Xj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Os.Pop,navigator:i,static:a=!1,future:l}=t;So()&&vt(!1);let c=e.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:i,static:a,future:tc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=ko(r));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:T="default"}=r,k=M.useMemo(()=>{let I=Ig(h,c);return I==null?null:{location:{pathname:I,search:m,hash:p,state:g,key:T},navigationType:s}},[c,h,m,p,g,T,s]);return k==null?null:M.createElement(di.Provider,{value:d},M.createElement(yh.Provider,{children:n,value:k}))}function Zj(t){let{children:e,location:n}=t;return Mj(qm(e),n)}new Promise(()=>{});function qm(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,s)=>{if(!M.isValidElement(r))return;let i=[...e,s];if(r.type===M.Fragment){n.push.apply(n,qm(r.props.children,i));return}r.type!==nt&&vt(!1),!r.props.index||!r.props.children||vt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=qm(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}function Jj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tI(t,e){return t.button===0&&(!e||e==="_self")&&!eI(t)}const nI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rI="6";try{window.__reactRouterVersion=rI}catch{}const sI="startTransition",Wy=HS[sI];function iI(t){let{basename:e,children:n,future:r,window:s}=t,i=M.useRef();i.current==null&&(i.current=sj({window:s,v5Compat:!0}));let a=i.current,[l,c]=M.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=M.useCallback(m=>{d&&Wy?Wy(()=>c(m)):c(m)},[c,d]);return M.useLayoutEffect(()=>a.listen(h),[a,h]),M.useEffect(()=>Qj(r),[r]),M.createElement(Xj,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const aI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zi=M.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,p=Jj(e,nI),{basename:g}=M.useContext(di),T,k=!1;if(typeof d=="string"&&oI.test(d)&&(T=d,aI))try{let b=new URL(window.location.href),P=d.startsWith("//")?new URL(b.protocol+d):new URL(d),R=Ig(P.pathname,g);P.origin===b.origin&&R!=null?d=R+P.search+P.hash:k=!0}catch{}let I=Pj(d,{relative:s}),w=lI(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});function y(b){r&&r(b),b.defaultPrevented||w(b)}return M.createElement("a",Wm({},p,{href:T||I,onClick:k||i?r:y,ref:n,target:c}))});var Hy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var Gy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gy||(Gy={}));function lI(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=xh(),d=To(),h=P1(t,{relative:a});return M.useCallback(m=>{if(tI(m,n)){m.preventDefault();let p=r!==void 0?r:_d(d)===_d(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,h,r,s,n,t,i,a,l])}const cI={},Ky=t=>{let e;const n=new Set,r=(h,m)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const g=e;e=m??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(T=>T(e,g))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(cI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,c);return c},uI=t=>t?Ky(t):Ky;var M1={exports:{}},V1={},L1={exports:{}},F1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=M;function dI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hI=typeof Object.is=="function"?Object.is:dI,fI=ao.useState,mI=ao.useEffect,pI=ao.useLayoutEffect,gI=ao.useDebugValue;function vI(t,e){var n=e(),r=fI({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return pI(function(){s.value=n,s.getSnapshot=e,Rf(s)&&i({inst:s})},[t,n,e]),mI(function(){return Rf(s)&&i({inst:s}),t(function(){Rf(s)&&i({inst:s})})},[t]),gI(n),n}function Rf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hI(t,n)}catch{return!0}}function yI(t,e){return e()}var xI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yI:vI;F1.useSyncExternalStore=ao.useSyncExternalStore!==void 0?ao.useSyncExternalStore:xI;L1.exports=F1;var wI=L1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=M,bI=wI;function _I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var EI=typeof Object.is=="function"?Object.is:_I,NI=bI.useSyncExternalStore,kI=wh.useRef,SI=wh.useEffect,TI=wh.useMemo,jI=wh.useDebugValue;V1.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=kI(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=TI(function(){function c(g){if(!d){if(d=!0,h=g,g=r(g),s!==void 0&&a.hasValue){var T=a.value;if(s(T,g))return m=T}return m=g}if(T=m,EI(h,g))return T;var k=r(g);return s!==void 0&&s(T,k)?(h=g,T):(h=g,m=k)}var d=!1,h,m,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,s]);var l=NI(t,i[0],i[1]);return SI(function(){a.hasValue=!0,a.value=l},[l]),jI(l),l};M1.exports=V1;var II=M1.exports;const CI=th(II),U1={},{useDebugValue:AI}=$,{useSyncExternalStoreWithSelector:PI}=CI;let Qy=!1;const RI=t=>t;function DI(t,e=RI,n){(U1?"production":void 0)!=="production"&&n&&!Qy&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qy=!0);const r=PI(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return AI(r),r}const Yy=t=>{(U1?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?uI(t):t,n=(r,s)=>DI(e,r,s);return Object.assign(n,e),n},z1=t=>t?Yy(t):Yy;var Xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},OI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},B1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,m=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,g=d&63;c||(g=64,a||(p=64)),r.push(n[h],n[m],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new MI;const p=i<<2|l>>4;if(r.push(p),d!==64){const g=l<<4&240|d>>2;if(r.push(g),m!==64){const T=d<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(t){const e=$1(t);return B1.encodeByteArray(e,!0)},Ed=function(t){return VI(t).replace(/\./g,"")},q1=function(t){try{return B1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=()=>LI().__FIREBASE_DEFAULTS__,UI=()=>{if(typeof process>"u"||typeof Xy>"u")return;const t=Xy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q1(t[1]);return e&&JSON.parse(e)},bh=()=>{try{return FI()||UI()||zI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},W1=t=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H1=t=>{const e=W1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G1=()=>{var t;return(t=bh())===null||t===void 0?void 0:t.config},K1=t=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ed(JSON.stringify(n)),Ed(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function qI(){var t;const e=(t=bh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KI(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QI(){return!qI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YI(){try{return typeof indexedDB=="object"}catch{return!1}}function XI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZI,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?JI(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Or(s,l,r)}}function JI(t,e){return t.replace(eC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const eC=/\{\$([^}]+)}/g;function tC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Zy(i)&&Zy(a)){if(!Nd(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Zy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function fl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nC(t,e){const n=new rC(t,e);return n.subscribe.bind(n)}class rC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Df),s.error===void 0&&(s.error=Df),s.complete===void 0&&(s.complete=Df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $I;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oC(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aC(t){return t===Ai?void 0:t}function oC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const cC={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},uC=Ce.INFO,dC={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},hC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=dC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=uC,this._logHandler=hC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const fC=(t,e)=>e.some(n=>t instanceof n);let Jy,ex;function mC(){return Jy||(Jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pC(){return ex||(ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y1=new WeakMap,Hm=new WeakMap,X1=new WeakMap,Of=new WeakMap,Dg=new WeakMap;function gC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Ks(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Y1.set(n,t)}).catch(()=>{}),Dg.set(e,t),e}function vC(t){if(Hm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Hm.set(t,e)}let Gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||X1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yC(t){Gm=t(Gm)}function xC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return X1.set(r,e.sort?e.sort():[e]),Ks(r)}:pC().includes(t)?function(...e){return t.apply(Mf(this),e),Ks(Y1.get(this))}:function(...e){return Ks(t.apply(Mf(this),e))}}function wC(t){return typeof t=="function"?xC(t):(t instanceof IDBTransaction&&vC(t),fC(t,mC())?new Proxy(t,Gm):t)}function Ks(t){if(t instanceof IDBRequest)return gC(t);if(Of.has(t))return Of.get(t);const e=wC(t);return e!==t&&(Of.set(t,e),Dg.set(e,t)),e}const Mf=t=>Dg.get(t);function bC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Ks(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ks(a.result),c.oldVersion,c.newVersion,Ks(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const _C=["get","getKey","getAll","getAllKeys","count"],EC=["put","add","delete","clear"],Vf=new Map;function tx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=EC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_C.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Vf.set(e,i),i}yC(t=>({...t,get:(e,n,r)=>tx(e,n)||t.get(e,n,r),has:(e,n)=>!!tx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",nx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Rg("@firebase/app"),SC="@firebase/app-compat",TC="@firebase/analytics-compat",jC="@firebase/analytics",IC="@firebase/app-check-compat",CC="@firebase/app-check",AC="@firebase/auth",PC="@firebase/auth-compat",RC="@firebase/database",DC="@firebase/data-connect",OC="@firebase/database-compat",MC="@firebase/functions",VC="@firebase/functions-compat",LC="@firebase/installations",FC="@firebase/installations-compat",UC="@firebase/messaging",zC="@firebase/messaging-compat",$C="@firebase/performance",BC="@firebase/performance-compat",qC="@firebase/remote-config",WC="@firebase/remote-config-compat",HC="@firebase/storage",GC="@firebase/storage-compat",KC="@firebase/firestore",QC="@firebase/vertexai-preview",YC="@firebase/firestore-compat",XC="firebase",ZC="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="[DEFAULT]",JC={[Km]:"fire-core",[SC]:"fire-core-compat",[jC]:"fire-analytics",[TC]:"fire-analytics-compat",[CC]:"fire-app-check",[IC]:"fire-app-check-compat",[AC]:"fire-auth",[PC]:"fire-auth-compat",[RC]:"fire-rtdb",[DC]:"fire-data-connect",[OC]:"fire-rtdb-compat",[MC]:"fire-fn",[VC]:"fire-fn-compat",[LC]:"fire-iid",[FC]:"fire-iid-compat",[UC]:"fire-fcm",[zC]:"fire-fcm-compat",[$C]:"fire-perf",[BC]:"fire-perf-compat",[qC]:"fire-rc",[WC]:"fire-rc-compat",[HC]:"fire-gcs",[GC]:"fire-gcs-compat",[KC]:"fire-fst",[YC]:"fire-fst-compat",[QC]:"fire-vertex","fire-js":"fire-js",[XC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,eA=new Map,Ym=new Map;function rx(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qi(t){const e=t.name;if(Ym.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,t);for(const n of kd.values())rx(n,t);for(const n of eA.values())rx(n,t);return!0}function _h(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new _c("app","Firebase",tA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=ZC;function Z1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Qs.create("bad-app-name",{appName:String(s)});if(n||(n=G1()),!n)throw Qs.create("no-options");const i=kd.get(s);if(i){if(Nd(n,i.options)&&Nd(r,i.config))return i;throw Qs.create("duplicate-app",{appName:s})}const a=new lC(s);for(const c of Ym.values())a.addComponent(c);const l=new nA(n,r,a);return kd.set(s,l),l}function Og(t=Qm){const e=kd.get(t);if(!e&&t===Qm&&G1())return Z1();if(!e)throw Qs.create("no-app",{appName:t});return e}function jr(t,e,n){var r;let s=(r=JC[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(l.join(" "));return}Qi(new ti(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebase-heartbeat-database",sA=1,nc="firebase-heartbeat-store";let Lf=null;function J1(){return Lf||(Lf=bC(rA,sA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),Lf}async function iA(t){try{const n=(await J1()).transaction(nc),r=await n.objectStore(nc).get(eE(t));return await n.done,r}catch(e){if(e instanceof Or)ns.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function sx(t,e){try{const r=(await J1()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,eE(t)),await r.done}catch(n){if(n instanceof Or)ns.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function eE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=1024,oA=30*24*60*60*1e3;class lA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ix();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=oA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ix(),{heartbeatsToSend:r,unsentEntries:s}=cA(this._heartbeatsCache.heartbeats),i=Ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ns.warn(n),""}}}function ix(){return new Date().toISOString().substring(0,10)}function cA(t,e=aA){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),ax(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ax(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YI()?XI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ax(t){return Ed(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){Qi(new ti("platform-logger",e=>new NC(e),"PRIVATE")),Qi(new ti("heartbeat",e=>new lA(e),"PRIVATE")),jr(Km,nx,t),jr(Km,nx,"esm2017"),jr("fire-js","")}dA("");var hA="firebase",fA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(hA,fA,"app");function Mg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function tE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mA=tE,nE=new _c("auth","Firebase",tE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Rg("@firebase/auth");function pA(t,...e){Sd.logLevel<=Ce.WARN&&Sd.warn(`Auth (${ia}): ${t}`,...e)}function Fu(t,...e){Sd.logLevel<=Ce.ERROR&&Sd.error(`Auth (${ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw Lg(t,...e)}function ur(t,...e){return Lg(t,...e)}function Vg(t,e,n){const r=Object.assign(Object.assign({},mA()),{[e]:n});return new _c("auth","Firebase",r).create(e,{appName:t.name})}function Yr(t){return Vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kn(t,"argument-error"),Vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nE.create(t,...e)}function ve(t,e,...n){if(!t)throw Lg(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fu(e),new Error(e)}function rs(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vA(){return ox()==="http:"||ox()==="https:"}function ox(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vA()||HI()||"connection"in navigator)?navigator.onLine:!0}function xA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=BI()||GI()}get(){return yA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Nc(3e4,6e4);function hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fi(t,e,n,r,s={}){return sE(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=Ec(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return WI()||(d.referrerPolicy="no-referrer"),rE.fetch()(iE(t,t.config.apiHost,n,l),d)})}async function sE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wA),e);try{const s=new EA(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw pu(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pu(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw pu(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw pu(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Vg(t,h,d);Kn(t,h)}}catch(s){if(s instanceof Or)throw s;Kn(t,"network-request-failed",{message:String(s)})}}async function kc(t,e,n,r,s={}){const i=await fi(t,e,n,r,s);return"mfaPendingCredential"in i&&Kn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function iE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Fg(t.config,s):`${t.config.apiScheme}://${s}`}function _A(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),bA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ur(t,e,r);return s.customData._tokenResponse=n,s}function lx(t){return t!==void 0&&t.enterprise!==void 0}class NA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _A(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function kA(t,e){return fi(t,"GET","/v2/recaptchaConfig",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e){return fi(t,"POST","/v1/accounts:delete",e)}async function aE(t,e){return fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TA(t,e=!1){const n=dt(t),r=await n.getIdToken(e),s=Ug(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:jl(Ff(s.auth_time)),issuedAtTime:jl(Ff(s.iat)),expirationTime:jl(Ff(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ff(t){return Number(t)*1e3}function Ug(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const s=q1(n);return s?JSON.parse(s):(Fu("Failed to decode base64 JWT payload"),null)}catch(s){return Fu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cx(t){const e=Ug(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&jA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t){var e;const n=t.auth,r=await t.getIdToken(),s=await rc(t,aE(n,{idToken:r}));ve(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?oE(i.providerUserInfo):[],l=AA(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Zm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function CA(t){const e=dt(t);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AA(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oE(t){return t.map(e=>{var{providerId:n}=e,r=Mg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e){const n=await sE(t,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=iE(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",rE.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RA(t,e){return fi(t,"POST","/v2/accounts:revokeToken",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=cx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await PA(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Wa;return r&&(ve(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await rc(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TA(this,e)}reload(){return CA(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await rc(this,SA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,d,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:P,isAnonymous:R,providerData:O,stsTokenManager:N}=n;ve(b&&N,e,"internal-error");const x=Wa.fromJSON(this.name,N);ve(typeof b=="string",e,"internal-error"),bs(m,e.name),bs(p,e.name),ve(typeof P=="boolean",e,"internal-error"),ve(typeof R=="boolean",e,"internal-error"),bs(g,e.name),bs(T,e.name),bs(k,e.name),bs(I,e.name),bs(w,e.name),bs(y,e.name);const E=new Hr({uid:b,auth:e,email:p,emailVerified:P,displayName:m,isAnonymous:R,photoURL:T,phoneNumber:g,tenantId:k,stsTokenManager:x,createdAt:w,lastLoginAt:y});return O&&Array.isArray(O)&&(E.providerData=O.map(_=>Object.assign({},_))),I&&(E._redirectEventId=I),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Wa;s.updateFromServerResponse(n);const i=new Hr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Td(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ve(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oE(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Wa;l.updateFromIdToken(r);const c=new Hr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Zm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Map;function Gr(t){rs(t instanceof Function,"Expected a class definition");let e=ux.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ux.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lE.type="NONE";const dx=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Uu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Uu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ha(Gr(dx),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Gr(dx);const a=Uu(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){const m=Hr._fromJSON(e,h);d!==i&&(l=m),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ha(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Ha(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mE(e))return"Blackberry";if(pE(e))return"Webos";if(uE(e))return"Safari";if((e.includes("chrome/")||dE(e))&&!e.includes("edge/"))return"Chrome";if(fE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cE(t=nn()){return/firefox\//i.test(t)}function uE(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dE(t=nn()){return/crios\//i.test(t)}function hE(t=nn()){return/iemobile/i.test(t)}function fE(t=nn()){return/android/i.test(t)}function mE(t=nn()){return/blackberry/i.test(t)}function pE(t=nn()){return/webos/i.test(t)}function zg(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DA(t=nn()){var e;return zg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OA(){return KI()&&document.documentMode===10}function gE(t=nn()){return zg(t)||fE(t)||pE(t)||mE(t)||/windows phone/i.test(t)||hE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e=[]){let n;switch(t){case"Browser":n=hx(nn());break;case"Worker":n=`${hx(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e={}){return fi(t,"GET","/v2/passwordPolicy",hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=6;class FA{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:LA,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fx(this),this.idTokenSubscription=new fx(this),this.beforeStateQueue=new MA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aE(this,{idToken:e}),r=await Hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Yr(this));const n=e?dt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VA(this),n=new FA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mi(t){return dt(t)}class fx{constructor(e){this.auth=e,this.observer=null,this.addObserver=nC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zA(t){Eh=t}function yE(t){return Eh.loadJS(t)}function $A(){return Eh.recaptchaEnterpriseScript}function BA(){return Eh.gapiScript}function qA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const WA="recaptcha-enterprise",HA="NO_RECAPTCHA";class GA{constructor(e){this.type=WA,this.auth=mi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{kA(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new NA(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;lx(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(HA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&lx(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$A();c.length!==0&&(c+=l),yE(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function mx(t,e,n,r=!1){const s=new GA(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Jm(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await mx(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await mx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){const n=_h(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Nd(i,e??{}))return s;Kn(s,"already-initialized")}return n.initialize({options:e})}function QA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YA(t,e,n){const r=mi(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=xE(e),{host:a,port:l}=XA(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),ZA()}function xE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XA(t){const e=xE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:px(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:px(a)}}}function px(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function JA(t,e){return fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}async function nP(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends $g{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",eP);case"emailLink":return tP(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,r,"signUpPassword",JA);case"emailLink":return nP(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="http://localhost";class Yi extends $g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Mg(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Yi(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ga(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ga(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ga(e,n)}buildRequest(){const e={requestUri:rP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iP(t){const e=hl(fl(t)).link,n=e?hl(fl(e)).deep_link_id:null,r=hl(fl(t)).deep_link_id;return(r?hl(fl(r)).link:null)||r||n||e||t}class Bg{constructor(e){var n,r,s,i,a,l;const c=hl(fl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=sP((s=c.mode)!==null&&s!==void 0?s:null);ve(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=iP(e);try{return new Bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bg.parseLink(n);return ve(r,"argument-error"),sc._fromEmailAndCode(e,r.code,r.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Sc{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Sc{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Sc{constructor(){super("twitter.com")}static credential(e,n){return Yi._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e){return kc(t,"POST","/v1/accounts:signUp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Hr._fromIdTokenResponse(e,r,s),a=gx(r);return new Xi({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=gx(r);return new Xi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function gx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Or{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new jd(e,n,r,s)}}function wE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,i,e,r):i})}async function oP(t,e,n=!1){const r=await rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(Yr(r));const s="reauthenticate";try{const i=await rc(t,wE(r,s,e,t),n);ve(i.idToken,r,"internal-error");const a=Ug(i.idToken);ve(a,r,"internal-error");const{sub:l}=a;return ve(t.uid===l,r,"user-mismatch"),Xi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(t,e,n=!1){if(or(t.app))return Promise.reject(Yr(t));const r="signIn",s=await wE(t,r,e),i=await Xi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function cP(t,e){return bE(mi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _E(t){const e=mi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uP(t,e,n){if(or(t.app))return Promise.reject(Yr(t));const r=mi(t),a=await Jm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aP).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&_E(t),c}),l=await Xi._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function dP(t,e,n){return or(t.app)?Promise.reject(Yr(t)):cP(dt(t),jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_E(t),r})}function hP(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function fP(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function mP(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function pP(t){return dt(t).signOut()}const Id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Id,"1"),this.storage.removeItem(Id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=1e3,vP=10;class NE extends EE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);OA()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vP):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NE.type="LOCAL";const yP=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE extends EE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kE.type="SESSION";const SE=kE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,i)),c=await xP(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=Wg("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function bP(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function _P(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NP(){return TE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firebaseLocalStorageDb",kP=1,Cd="firebaseLocalStorage",IE="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(t,e){return t.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function SP(){const t=indexedDB.deleteDatabase(jE);return new Tc(t).toPromise()}function ep(){const t=indexedDB.open(jE,kP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cd,{keyPath:IE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cd)?e(r):(r.close(),await SP(),e(await ep()))})})}async function vx(t,e,n){const r=kh(t,!0).put({[IE]:e,value:n});return new Tc(r).toPromise()}async function TP(t,e){const n=kh(t,!1).get(e),r=await new Tc(n).toPromise();return r===void 0?null:r.value}function yx(t,e){const n=kh(t,!0).delete(e);return new Tc(n).toPromise()}const jP=800,IP=3;class CE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(NP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _P(),!this.activeServiceWorker)return;this.sender=new wP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await vx(e,Id,"1"),await yx(e,Id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=kh(s,!1).getAll();return new Tc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CE.type="LOCAL";const CP=CE;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){return e?Gr(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends $g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AP(t){return bE(t.auth,new Hg(t),t.bypassAuthState)}function PP(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),lP(n,new Hg(t),t.bypassAuthState)}async function RP(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),oP(n,new Hg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AP;case"linkViaPopup":case"linkViaRedirect":return RP;case"reauthViaPopup":case"reauthViaRedirect":return PP;default:Kn(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Nc(2e3,1e4);async function OP(t,e,n){if(or(t.app))return Promise.reject(ur(t,"operation-not-supported-in-this-environment"));const r=mi(t);gA(t,e,qg);const s=AE(r,n);return new Mi(r,"signInViaPopup",e,s).executeNotNull()}class Mi extends PE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Mi.currentPopupAction&&Mi.currentPopupAction.cancel(),Mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DP.get())};e()}}Mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="pendingRedirect",zu=new Map;class VP extends PE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await LP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LP(t,e){const n=zP(e),r=UP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function FP(t,e){zu.set(t._key(),e)}function UP(t){return Gr(t._redirectPersistence)}function zP(t){return Uu(MP,t.config.apiKey,t.name)}async function $P(t,e,n=!1){if(or(t.app))return Promise.reject(Yr(t));const r=mi(t),s=AE(r,e),a=await new VP(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=10*60*1e3;class qP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ur(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BP&&this.cachedEventUids.clear(),this.cachedEventUids.has(xx(e))}saveEventToCache(e){this.cachedEventUids.add(xx(e)),this.lastProcessedEventTime=Date.now()}}function xx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e={}){return fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KP=/^https?/;async function QP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HP(t);for(const n of e)try{if(YP(n))return}catch{}Kn(t,"unauthorized-domain")}function YP(t){const e=Xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!KP.test(n))return!1;if(GP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new Nc(3e4,6e4);function wx(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZP(t){return new Promise((e,n)=>{var r,s,i;function a(){wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wx(),n(ur(t,"network-request-failed"))},timeout:XP.get()})}if(!((s=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ir().gapi)===null||i===void 0)&&i.load)a();else{const l=qA("iframefcb");return Ir()[l]=()=>{gapi.load?a():n(ur(t,"network-request-failed"))},yE(`${BA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw $u=null,e})}let $u=null;function JP(t){return $u=$u||ZP(t),$u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Nc(5e3,15e3),tR="__/auth/iframe",nR="emulator/auth/iframe",rR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iR(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fg(e,nR):`https://${t.config.authDomain}/${tR}`,r={apiKey:e.apiKey,appName:t.name,v:ia},s=sR.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ec(r).slice(1)}`}async function aR(t){const e=await JP(t),n=Ir().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:iR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rR,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=ur(t,"network-request-failed"),l=Ir().setTimeout(()=>{i(a)},eR.get());function c(){Ir().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lR=500,cR=600,uR="_blank",dR="http://localhost";class bx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hR(t,e,n,r=lR,s=cR){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},oR),{width:r.toString(),height:s.toString(),top:i,left:a}),d=nn().toLowerCase();n&&(l=dE(d)?uR:n),cE(d)&&(e=e||dR,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,T])=>`${p}${g}=${T},`,"");if(DA(d)&&l!=="_self")return fR(e||"",l),new bx(null);const m=window.open(e||"",l,h);ve(m,t,"popup-blocked");try{m.focus()}catch{}return new bx(m)}function fR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="__/auth/handler",pR="emulator/auth/handler",gR=encodeURIComponent("fac");async function _x(t,e,n,r,s,i){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ia,eventId:s};if(e instanceof qg){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",tC(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(e instanceof Sc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${gR}=${encodeURIComponent(c)}`:"";return`${vR(t)}?${Ec(l).slice(1)}${d}`}function vR({config:t}){return t.emulator?Fg(t,pR):`https://${t.authDomain}/${mR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="webStorageSupport";class yR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SE,this._completeRedirectFn=$P,this._overrideRedirectResult=FP}async _openPopup(e,n,r,s){var i;rs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await _x(e,n,r,Xm(),s);return hR(e,a,Wg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await _x(e,n,r,Xm(),s);return bP(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aR(e),r=new qP(e);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uf,{type:Uf},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Uf];a!==void 0&&n(!!a),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gE()||uE()||zg()}}const xR=yR;var Ex="@firebase/auth",Nx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _R(t){Qi(new ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ve(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vE(t)},d=new UA(r,s,i,c);return QA(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new ti("auth-internal",e=>{const n=mi(e.getProvider("auth").getImmediate());return(r=>new wR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Ex,Nx,bR(t)),jr(Ex,Nx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=5*60,NR=K1("authIdTokenMaxAge")||ER;let kx=null;const kR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NR)return;const s=n==null?void 0:n.token;kx!==s&&(kx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function SR(t=Og()){const e=_h(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KA(t,{popupRedirectResolver:xR,persistence:[CP,yP,SE]}),r=K1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=kR(i.toString());fP(n,a,()=>a(n.currentUser)),hP(n,l=>a(l))}}const s=W1("auth");return s&&YA(n,`http://${s}`),n}function TR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ur("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",TR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_R("Browser");var Sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,DE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,x){function E(){}E.prototype=x.prototype,N.D=x.prototype,N.prototype=new E,N.prototype.constructor=N,N.C=function(_,C,A){for(var j=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)j[ne-2]=arguments[ne];return x.prototype[C].apply(_,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,x,E){E||(E=0);var _=Array(16);if(typeof x=="string")for(var C=0;16>C;++C)_[C]=x.charCodeAt(E++)|x.charCodeAt(E++)<<8|x.charCodeAt(E++)<<16|x.charCodeAt(E++)<<24;else for(C=0;16>C;++C)_[C]=x[E++]|x[E++]<<8|x[E++]<<16|x[E++]<<24;x=N.g[0],E=N.g[1],C=N.g[2];var A=N.g[3],j=x+(A^E&(C^A))+_[0]+3614090360&4294967295;x=E+(j<<7&4294967295|j>>>25),j=A+(C^x&(E^C))+_[1]+3905402710&4294967295,A=x+(j<<12&4294967295|j>>>20),j=C+(E^A&(x^E))+_[2]+606105819&4294967295,C=A+(j<<17&4294967295|j>>>15),j=E+(x^C&(A^x))+_[3]+3250441966&4294967295,E=C+(j<<22&4294967295|j>>>10),j=x+(A^E&(C^A))+_[4]+4118548399&4294967295,x=E+(j<<7&4294967295|j>>>25),j=A+(C^x&(E^C))+_[5]+1200080426&4294967295,A=x+(j<<12&4294967295|j>>>20),j=C+(E^A&(x^E))+_[6]+2821735955&4294967295,C=A+(j<<17&4294967295|j>>>15),j=E+(x^C&(A^x))+_[7]+4249261313&4294967295,E=C+(j<<22&4294967295|j>>>10),j=x+(A^E&(C^A))+_[8]+1770035416&4294967295,x=E+(j<<7&4294967295|j>>>25),j=A+(C^x&(E^C))+_[9]+2336552879&4294967295,A=x+(j<<12&4294967295|j>>>20),j=C+(E^A&(x^E))+_[10]+4294925233&4294967295,C=A+(j<<17&4294967295|j>>>15),j=E+(x^C&(A^x))+_[11]+2304563134&4294967295,E=C+(j<<22&4294967295|j>>>10),j=x+(A^E&(C^A))+_[12]+1804603682&4294967295,x=E+(j<<7&4294967295|j>>>25),j=A+(C^x&(E^C))+_[13]+4254626195&4294967295,A=x+(j<<12&4294967295|j>>>20),j=C+(E^A&(x^E))+_[14]+2792965006&4294967295,C=A+(j<<17&4294967295|j>>>15),j=E+(x^C&(A^x))+_[15]+1236535329&4294967295,E=C+(j<<22&4294967295|j>>>10),j=x+(C^A&(E^C))+_[1]+4129170786&4294967295,x=E+(j<<5&4294967295|j>>>27),j=A+(E^C&(x^E))+_[6]+3225465664&4294967295,A=x+(j<<9&4294967295|j>>>23),j=C+(x^E&(A^x))+_[11]+643717713&4294967295,C=A+(j<<14&4294967295|j>>>18),j=E+(A^x&(C^A))+_[0]+3921069994&4294967295,E=C+(j<<20&4294967295|j>>>12),j=x+(C^A&(E^C))+_[5]+3593408605&4294967295,x=E+(j<<5&4294967295|j>>>27),j=A+(E^C&(x^E))+_[10]+38016083&4294967295,A=x+(j<<9&4294967295|j>>>23),j=C+(x^E&(A^x))+_[15]+3634488961&4294967295,C=A+(j<<14&4294967295|j>>>18),j=E+(A^x&(C^A))+_[4]+3889429448&4294967295,E=C+(j<<20&4294967295|j>>>12),j=x+(C^A&(E^C))+_[9]+568446438&4294967295,x=E+(j<<5&4294967295|j>>>27),j=A+(E^C&(x^E))+_[14]+3275163606&4294967295,A=x+(j<<9&4294967295|j>>>23),j=C+(x^E&(A^x))+_[3]+4107603335&4294967295,C=A+(j<<14&4294967295|j>>>18),j=E+(A^x&(C^A))+_[8]+1163531501&4294967295,E=C+(j<<20&4294967295|j>>>12),j=x+(C^A&(E^C))+_[13]+2850285829&4294967295,x=E+(j<<5&4294967295|j>>>27),j=A+(E^C&(x^E))+_[2]+4243563512&4294967295,A=x+(j<<9&4294967295|j>>>23),j=C+(x^E&(A^x))+_[7]+1735328473&4294967295,C=A+(j<<14&4294967295|j>>>18),j=E+(A^x&(C^A))+_[12]+2368359562&4294967295,E=C+(j<<20&4294967295|j>>>12),j=x+(E^C^A)+_[5]+4294588738&4294967295,x=E+(j<<4&4294967295|j>>>28),j=A+(x^E^C)+_[8]+2272392833&4294967295,A=x+(j<<11&4294967295|j>>>21),j=C+(A^x^E)+_[11]+1839030562&4294967295,C=A+(j<<16&4294967295|j>>>16),j=E+(C^A^x)+_[14]+4259657740&4294967295,E=C+(j<<23&4294967295|j>>>9),j=x+(E^C^A)+_[1]+2763975236&4294967295,x=E+(j<<4&4294967295|j>>>28),j=A+(x^E^C)+_[4]+1272893353&4294967295,A=x+(j<<11&4294967295|j>>>21),j=C+(A^x^E)+_[7]+4139469664&4294967295,C=A+(j<<16&4294967295|j>>>16),j=E+(C^A^x)+_[10]+3200236656&4294967295,E=C+(j<<23&4294967295|j>>>9),j=x+(E^C^A)+_[13]+681279174&4294967295,x=E+(j<<4&4294967295|j>>>28),j=A+(x^E^C)+_[0]+3936430074&4294967295,A=x+(j<<11&4294967295|j>>>21),j=C+(A^x^E)+_[3]+3572445317&4294967295,C=A+(j<<16&4294967295|j>>>16),j=E+(C^A^x)+_[6]+76029189&4294967295,E=C+(j<<23&4294967295|j>>>9),j=x+(E^C^A)+_[9]+3654602809&4294967295,x=E+(j<<4&4294967295|j>>>28),j=A+(x^E^C)+_[12]+3873151461&4294967295,A=x+(j<<11&4294967295|j>>>21),j=C+(A^x^E)+_[15]+530742520&4294967295,C=A+(j<<16&4294967295|j>>>16),j=E+(C^A^x)+_[2]+3299628645&4294967295,E=C+(j<<23&4294967295|j>>>9),j=x+(C^(E|~A))+_[0]+4096336452&4294967295,x=E+(j<<6&4294967295|j>>>26),j=A+(E^(x|~C))+_[7]+1126891415&4294967295,A=x+(j<<10&4294967295|j>>>22),j=C+(x^(A|~E))+_[14]+2878612391&4294967295,C=A+(j<<15&4294967295|j>>>17),j=E+(A^(C|~x))+_[5]+4237533241&4294967295,E=C+(j<<21&4294967295|j>>>11),j=x+(C^(E|~A))+_[12]+1700485571&4294967295,x=E+(j<<6&4294967295|j>>>26),j=A+(E^(x|~C))+_[3]+2399980690&4294967295,A=x+(j<<10&4294967295|j>>>22),j=C+(x^(A|~E))+_[10]+4293915773&4294967295,C=A+(j<<15&4294967295|j>>>17),j=E+(A^(C|~x))+_[1]+2240044497&4294967295,E=C+(j<<21&4294967295|j>>>11),j=x+(C^(E|~A))+_[8]+1873313359&4294967295,x=E+(j<<6&4294967295|j>>>26),j=A+(E^(x|~C))+_[15]+4264355552&4294967295,A=x+(j<<10&4294967295|j>>>22),j=C+(x^(A|~E))+_[6]+2734768916&4294967295,C=A+(j<<15&4294967295|j>>>17),j=E+(A^(C|~x))+_[13]+1309151649&4294967295,E=C+(j<<21&4294967295|j>>>11),j=x+(C^(E|~A))+_[4]+4149444226&4294967295,x=E+(j<<6&4294967295|j>>>26),j=A+(E^(x|~C))+_[11]+3174756917&4294967295,A=x+(j<<10&4294967295|j>>>22),j=C+(x^(A|~E))+_[2]+718787259&4294967295,C=A+(j<<15&4294967295|j>>>17),j=E+(A^(C|~x))+_[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(C+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+C&4294967295,N.g[3]=N.g[3]+A&4294967295}r.prototype.u=function(N,x){x===void 0&&(x=N.length);for(var E=x-this.blockSize,_=this.B,C=this.h,A=0;A<x;){if(C==0)for(;A<=E;)s(this,N,A),A+=this.blockSize;if(typeof N=="string"){for(;A<x;)if(_[C++]=N.charCodeAt(A++),C==this.blockSize){s(this,_),C=0;break}}else for(;A<x;)if(_[C++]=N[A++],C==this.blockSize){s(this,_),C=0;break}}this.h=C,this.o+=x},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;var E=8*this.o;for(x=N.length-8;x<N.length;++x)N[x]=E&255,E/=256;for(this.u(N),N=Array(16),x=E=0;4>x;++x)for(var _=0;32>_;_+=8)N[E++]=this.g[x]>>>_&255;return N};function i(N,x){var E=l;return Object.prototype.hasOwnProperty.call(E,N)?E[N]:E[N]=x(N)}function a(N,x){this.h=x;for(var E=[],_=!0,C=N.length-1;0<=C;C--){var A=N[C]|0;_&&A==x||(E[C]=A,_=!1)}this.g=E}var l={};function c(N){return-128<=N&&128>N?i(N,function(x){return new a([x|0],0>x?-1:0)}):new a([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return I(d(-N));for(var x=[],E=1,_=0;N>=E;_++)x[_]=N/E|0,E*=4294967296;return new a(x,0)}function h(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return I(h(N.substring(1),x));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(x,8)),_=m,C=0;C<N.length;C+=8){var A=Math.min(8,N.length-C),j=parseInt(N.substring(C,C+A),x);8>A?(A=d(Math.pow(x,A)),_=_.j(A).add(d(j))):(_=_.j(E),_=_.add(d(j)))}return _}var m=c(0),p=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(k(this))return-I(this).m();for(var N=0,x=1,E=0;E<this.g.length;E++){var _=this.i(E);N+=(0<=_?_:4294967296+_)*x,x*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(k(this))return"-"+I(this).toString(N);for(var x=d(Math.pow(N,6)),E=this,_="";;){var C=P(E,x).g;E=w(E,C.j(x));var A=((0<E.g.length?E.g[0]:E.h)>>>0).toString(N);if(E=C,T(E))return A+_;for(;6>A.length;)A="0"+A;_=A+_}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function k(N){return N.h==-1}t.l=function(N){return N=w(this,N),k(N)?-1:T(N)?0:1};function I(N){for(var x=N.g.length,E=[],_=0;_<x;_++)E[_]=~N.g[_];return new a(E,~N.h).add(p)}t.abs=function(){return k(this)?I(this):this},t.add=function(N){for(var x=Math.max(this.g.length,N.g.length),E=[],_=0,C=0;C<=x;C++){var A=_+(this.i(C)&65535)+(N.i(C)&65535),j=(A>>>16)+(this.i(C)>>>16)+(N.i(C)>>>16);_=j>>>16,A&=65535,j&=65535,E[C]=j<<16|A}return new a(E,E[E.length-1]&-2147483648?-1:0)};function w(N,x){return N.add(I(x))}t.j=function(N){if(T(this)||T(N))return m;if(k(this))return k(N)?I(this).j(I(N)):I(I(this).j(N));if(k(N))return I(this.j(I(N)));if(0>this.l(g)&&0>N.l(g))return d(this.m()*N.m());for(var x=this.g.length+N.g.length,E=[],_=0;_<2*x;_++)E[_]=0;for(_=0;_<this.g.length;_++)for(var C=0;C<N.g.length;C++){var A=this.i(_)>>>16,j=this.i(_)&65535,ne=N.i(C)>>>16,te=N.i(C)&65535;E[2*_+2*C]+=j*te,y(E,2*_+2*C),E[2*_+2*C+1]+=A*te,y(E,2*_+2*C+1),E[2*_+2*C+1]+=j*ne,y(E,2*_+2*C+1),E[2*_+2*C+2]+=A*ne,y(E,2*_+2*C+2)}for(_=0;_<x;_++)E[_]=E[2*_+1]<<16|E[2*_];for(_=x;_<2*x;_++)E[_]=0;return new a(E,0)};function y(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function b(N,x){this.g=N,this.h=x}function P(N,x){if(T(x))throw Error("division by zero");if(T(N))return new b(m,m);if(k(N))return x=P(I(N),x),new b(I(x.g),I(x.h));if(k(x))return x=P(N,I(x)),new b(I(x.g),x.h);if(30<N.g.length){if(k(N)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var E=p,_=x;0>=_.l(N);)E=R(E),_=R(_);var C=O(E,1),A=O(_,1);for(_=O(_,2),E=O(E,2);!T(_);){var j=A.add(_);0>=j.l(N)&&(C=C.add(E),A=j),_=O(_,1),E=O(E,1)}return x=w(N,C.j(x)),new b(C,x)}for(C=m;0<=N.l(x);){for(E=Math.max(1,Math.floor(N.m()/x.m())),_=Math.ceil(Math.log(E)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),A=d(E),j=A.j(x);k(j)||0<j.l(N);)E-=_,A=d(E),j=A.j(x);T(A)&&(A=p),C=C.add(A),N=w(N,j)}return new b(C,N)}t.A=function(N){return P(this,N).h},t.and=function(N){for(var x=Math.max(this.g.length,N.g.length),E=[],_=0;_<x;_++)E[_]=this.i(_)&N.i(_);return new a(E,this.h&N.h)},t.or=function(N){for(var x=Math.max(this.g.length,N.g.length),E=[],_=0;_<x;_++)E[_]=this.i(_)|N.i(_);return new a(E,this.h|N.h)},t.xor=function(N){for(var x=Math.max(this.g.length,N.g.length),E=[],_=0;_<x;_++)E[_]=this.i(_)^N.i(_);return new a(E,this.h^N.h)};function R(N){for(var x=N.g.length+1,E=[],_=0;_<x;_++)E[_]=N.i(_)<<1|N.i(_-1)>>>31;return new a(E,N.h)}function O(N,x){var E=x>>5;x%=32;for(var _=N.g.length-E,C=[],A=0;A<_;A++)C[A]=0<x?N.i(A+E)>>>x|N.i(A+E+1)<<32-x:N.i(A+E);return new a(C,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DE=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,$i=a}).apply(typeof Sx<"u"?Sx:typeof self<"u"?self:typeof window<"u"?window:{});var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OE,ml,ME,Bu,tp,VE,LE,FE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,v){return u==Array.prototype||u==Object.prototype||(u[f]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gu=="object"&&gu];for(var f=0;f<u.length;++f){var v=u[f];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(u,f){if(f)e:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var V=u[S];if(!(V in v))break e;v=v[V]}u=u[u.length-1],S=v[u],f=f(S),f!=S&&f!=null&&e(v,u,{configurable:!0,writable:!0,value:f})}}function i(u,f){u instanceof String&&(u+="");var v=0,S=!1,V={next:function(){if(!S&&v<u.length){var U=v++;return{value:f(U,u[U]),done:!1}}return S=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(f,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function d(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,v){return u.call.apply(u.bind,arguments)}function m(u,f,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,S),u.apply(f,V)}}return function(){return u.apply(f,arguments)}}function p(u,f,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function g(u,f){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function T(u,f){function v(){}v.prototype=f.prototype,u.aa=f.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,V,U){for(var ee=Array(arguments.length-2),He=2;He<arguments.length;He++)ee[He-2]=arguments[He];return f.prototype[V].apply(S,ee)}}function k(u){const f=u.length;if(0<f){const v=Array(f);for(let S=0;S<f;S++)v[S]=u[S];return v}return[]}function I(u,f){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(c(S)){const V=u.length||0,U=S.length||0;u.length=V+U;for(let ee=0;ee<U;ee++)u[V+ee]=S[ee]}else u.push(S)}}class w{constructor(f,v){this.i=f,this.j=v,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var R=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(u,f,v){for(const S in u)f.call(v,u[S],S,u)}function N(u,f){for(const v in u)f.call(void 0,u[v],v,u)}function x(u){const f={};for(const v in u)f[v]=u[v];return f}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(u,f){let v,S;for(let V=1;V<arguments.length;V++){S=arguments[V];for(v in S)u[v]=S[v];for(let U=0;U<E.length;U++)v=E[U],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function C(u){var f=1;u=u.split(":");const v=[];for(;0<f&&u.length;)v.push(u.shift()),f--;return u.length&&v.push(u.join(":")),v}function A(u){l.setTimeout(()=>{throw u},0)}function j(){var u=F;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class ne{constructor(){this.h=this.g=null}add(f,v){const S=te.get();S.set(f,v),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new w(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(f,v){this.h=f,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let W,q=!1,F=new ne,Y=()=>{const u=l.Promise.resolve(void 0);W=()=>{u.then(le)}};var le=()=>{for(var u;u=j();){try{u.h.call(u.g)}catch(v){A(v)}var f=te;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}q=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};l.addEventListener("test",v,f),l.removeEventListener("test",v,f)}catch{}return u}();function De(u,f){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(R){e:{try{P(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else v=="mouseover"?f=u.fromElement:v=="mouseout"&&(f=u.toElement);this.relatedTarget=f,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}T(De,he);var At={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ds=0;function Yn(u,f,v,S,V){this.listener=u,this.proxy=null,this.src=f,this.type=v,this.capture=!!S,this.ha=V,this.key=++ds,this.da=this.fa=!1}function _n(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mn(u){this.src=u,this.g={},this.h=0}Mn.prototype.add=function(u,f,v,S,V){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var ee=hs(u,f,S,V);return-1<ee?(f=u[ee],v||(f.fa=!1)):(f=new Yn(f,this.src,U,!!S,V),f.fa=v,u.push(f)),f};function pr(u,f){var v=f.type;if(v in u.g){var S=u.g[v],V=Array.prototype.indexOf.call(S,f,void 0),U;(U=0<=V)&&Array.prototype.splice.call(S,V,1),U&&(_n(f),u.g[v].length==0&&(delete u.g[v],u.h--))}}function hs(u,f,v,S){for(var V=0;V<u.length;++V){var U=u[V];if(!U.da&&U.listener==f&&U.capture==!!v&&U.ha==S)return V}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),ms={};function bi(u,f,v,S,V){if(Array.isArray(f)){for(var U=0;U<f.length;U++)bi(u,f[U],v,S,V);return null}return v=K(v),u&&u[je]?u.K(f,v,d(S)?!!S.capture:!1,V):Ro(u,f,v,!1,S,V)}function Ro(u,f,v,S,V,U){if(!f)throw Error("Invalid event type");var ee=d(V)?!!V.capture:!!V,He=J(u);if(He||(u[fs]=He=new Mn(u)),v=He.add(f,v,S,ee,U),v.proxy)return v;if(S=fa(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)ke||(V=ee),V===void 0&&(V=!1),u.addEventListener(f.toString(),S,V);else if(u.attachEvent)u.attachEvent(L(f.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fa(){function u(v){return f.call(u.src,u.listener,v)}const f=z;return u}function _i(u,f,v,S,V){if(Array.isArray(f))for(var U=0;U<f.length;U++)_i(u,f[U],v,S,V);else S=d(S)?!!S.capture:!!S,v=K(v),u&&u[je]?(u=u.i,f=String(f).toString(),f in u.g&&(U=u.g[f],v=hs(U,v,S,V),-1<v&&(_n(U[v]),Array.prototype.splice.call(U,v,1),U.length==0&&(delete u.g[f],u.h--)))):u&&(u=J(u))&&(f=u.g[f.toString()],u=-1,f&&(u=hs(f,v,S,V)),(v=-1<u?f[u]:null)&&D(v))}function D(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[je])pr(f.i,u);else{var v=u.type,S=u.proxy;f.removeEventListener?f.removeEventListener(v,S,u.capture):f.detachEvent?f.detachEvent(L(v),S):f.addListener&&f.removeListener&&f.removeListener(S),(v=J(f))?(pr(v,u),v.h==0&&(v.src=null,f[fs]=null)):_n(u)}}}function L(u){return u in ms?ms[u]:ms[u]="on"+u}function z(u,f){if(u.da)u=!0;else{f=new De(f,this);var v=u.listener,S=u.ha||u.src;u.fa&&D(u),u=v.call(S,f)}return u}function J(u){return u=u[fs],u instanceof Mn?u:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(u){return typeof u=="function"?u:(u[X]||(u[X]=function(f){return u.handleEvent(f)}),u[X])}function Z(){ie.call(this),this.i=new Mn(this),this.M=this,this.F=null}T(Z,ie),Z.prototype[je]=!0,Z.prototype.removeEventListener=function(u,f,v,S){_i(this,u,f,v,S)};function ge(u,f){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=f.type||f,typeof f=="string")f=new he(f,u);else if(f instanceof he)f.target=f.target||u;else{var V=f;f=new he(S,u),_(f,V)}if(V=!0,v)for(var U=v.length-1;0<=U;U--){var ee=f.g=v[U];V=Oe(ee,S,!0,f)&&V}if(ee=f.g=u,V=Oe(ee,S,!0,f)&&V,V=Oe(ee,S,!1,f)&&V,v)for(U=0;U<v.length;U++)ee=f.g=v[U],V=Oe(ee,S,!1,f)&&V}Z.prototype.N=function(){if(Z.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var v=u.g[f],S=0;S<v.length;S++)_n(v[S]);delete u.g[f],u.h--}}this.F=null},Z.prototype.K=function(u,f,v,S){return this.i.add(String(u),f,!1,v,S)},Z.prototype.L=function(u,f,v,S){return this.i.add(String(u),f,!0,v,S)};function Oe(u,f,v,S){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,U=0;U<f.length;++U){var ee=f[U];if(ee&&!ee.da&&ee.capture==v){var He=ee.listener,Ft=ee.ha||ee.src;ee.fa&&pr(u.i,ee),V=He.call(Ft,S)!==!1&&V}}return V&&!S.defaultPrevented}function Mt(u,f,v){if(typeof u=="function")v&&(u=p(u,v));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(u,f||0)}function Vn(u){u.g=Mt(()=>{u.g=null,u.i&&(u.i=!1,Vn(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Ln extends ie{constructor(f,v){super(),this.m=f,this.l=v,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(u){ie.call(this),this.h=u,this.g={}}T(gr,ie);var vr=[];function En(u){O(u.g,function(f,v){this.g.hasOwnProperty(v)&&D(f)},u),u.g={}}gr.prototype.N=function(){gr.aa.N.call(this),En(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=l.JSON.stringify,Xn=l.JSON.parse,Do=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function gs(){}gs.prototype.h=null;function Oo(u){return u.h||(u.h=u.i())}function Mo(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){he.call(this,"d")}T(Ni,he);function Fn(){he.call(this,"c")}T(Fn,he);var Mr={},xe=null;function Me(){return xe=xe||new Z}Mr.La="serverreachability";function We(u){he.call(this,Mr.La,u)}T(We,he);function Vt(u){const f=Me();ge(f,new We(f))}Mr.STAT_EVENT="statevent";function hn(u,f){he.call(this,Mr.STAT_EVENT,u),this.stat=f}T(hn,he);function et(u){const f=Me();ge(f,new hn(f,u))}Mr.Ma="timingevent";function yr(u,f){he.call(this,Mr.Ma,u),this.size=f}T(yr,he);function Lt(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},f)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function oS(u,f,v,S,V,U){u.info(function(){if(u.g)if(U)for(var ee="",He=U.split("&"),Ft=0;Ft<He.length;Ft++){var Fe=He[Ft].split("=");if(1<Fe.length){var Gt=Fe[0];Fe=Fe[1];var Kt=Gt.split("_");ee=2<=Kt.length&&Kt[1]=="type"?ee+(Gt+"="+Fe+"&"):ee+(Gt+"=redacted&")}}else ee=null;else ee=U;return"XMLHTTP REQ ("+S+") [attempt "+V+"]: "+f+`
`+v+`
`+ee})}function lS(u,f,v,S,V,U,ee){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+V+"]: "+f+`
`+v+`
`+U+" "+ee})}function ma(u,f,v,S){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+uS(u,v)+(S?" "+S:"")})}function cS(u,f){u.info(function(){return"TIMEOUT: "+f})}fn.prototype.info=function(){};function uS(u,f){if(!u.g)return f;if(!f)return null;try{var v=JSON.parse(f);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var V=S[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return ps(v)}catch{return f}}var Lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},W0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gh;function Fc(){}T(Fc,gs),Fc.prototype.g=function(){return new XMLHttpRequest},Fc.prototype.i=function(){return{}},Gh=new Fc;function vs(u,f,v,S){this.j=u,this.i=f,this.l=v,this.R=S||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new H0}function H0(){this.i=null,this.g="",this.h=!1}var G0={},Kh={};function Qh(u,f,v){u.L=1,u.v=Bc(Vr(f)),u.m=v,u.P=!0,K0(u,null)}function K0(u,f){u.F=Date.now(),Uc(u),u.A=Vr(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),lv(v.i,"t",S),u.C=0,v=u.j.J,u.h=new H0,u.g=Sv(u.j,v?f:null,!u.m),0<u.O&&(u.M=new Ln(p(u.Y,u,u.g),u.O)),f=u.U,v=u.g,S=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(vr[0]=V.toString()),V=vr);for(var U=0;U<V.length;U++){var ee=bi(v,V[U],S||f.handleEvent,!1,f.h||f);if(!ee)break;f.g[ee.key]=ee}f=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Vt(),oS(u.i,u.u,u.A,u.l,u.R,u.m)}vs.prototype.ca=function(u){u=u.target;const f=this.M;f&&Lr(u)==3?f.j():this.Y(u)},vs.prototype.Y=function(u){try{if(u==this.g)e:{const Kt=Lr(this.g);var f=this.g.Ba();const va=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||pv(this.g)))){this.J||Kt!=4||f==7||(f==8||0>=va?Vt(3):Vt(2)),Yh(this);var v=this.g.Z();this.X=v;t:if(Q0(this)){var S=pv(this.g);u="";var V=S.length,U=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),Vo(this);var ee="";break t}this.h.i=new l.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,u+=this.h.i.decode(S[f],{stream:!(U&&f==V-1)});S.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=v==200,lS(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ft=this.g;if((He=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(He)){var Fe=He;break t}}Fe=null}if(v=Fe)ma(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xh(this,v);else{this.o=!1,this.s=3,et(12),ki(this),Vo(this);break e}}if(this.P){v=!0;let Zn;for(;!this.J&&this.C<ee.length;)if(Zn=dS(this,ee),Zn==Kh){Kt==4&&(this.s=4,et(14),v=!1),ma(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==G0){this.s=4,et(15),ma(this.i,this.l,ee,"[Invalid Chunk]"),v=!1;break}else ma(this.i,this.l,Zn,null),Xh(this,Zn);if(Q0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ee.length!=0||this.h.h||(this.s=1,et(16),v=!1),this.o=this.o&&v,!v)ma(this.i,this.l,ee,"[Invalid Chunked Response]"),ki(this),Vo(this);else if(0<ee.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),rf(Gt),Gt.M=!0,et(11))}}else ma(this.i,this.l,ee,null),Xh(this,ee);Kt==4&&ki(this),this.o&&!this.J&&(Kt==4?_v(this.j,this):(this.o=!1,Uc(this)))}else jS(this.g),v==400&&0<ee.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),ki(this),Vo(this)}}}catch{}finally{}};function Q0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function dS(u,f){var v=u.C,S=f.indexOf(`
`,v);return S==-1?Kh:(v=Number(f.substring(v,S)),isNaN(v)?G0:(S+=1,S+v>f.length?Kh:(f=f.slice(S,S+v),u.C=S+v,f)))}vs.prototype.cancel=function(){this.J=!0,ki(this)};function Uc(u){u.S=Date.now()+u.I,Y0(u,u.I)}function Y0(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Lt(p(u.ba,u),f)}function Yh(u){u.B&&(l.clearTimeout(u.B),u.B=null)}vs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(cS(this.i,this.A),this.L!=2&&(Vt(),et(17)),ki(this),this.s=2,Vo(this)):Y0(this,this.S-u)};function Vo(u){u.j.G==0||u.J||_v(u.j,u)}function ki(u){Yh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,En(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Xh(u,f){try{var v=u.j;if(v.G!=0&&(v.g==u||Zh(v.h,u))){if(!u.K&&Zh(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(f)}catch{S=null}if(Array.isArray(S)&&S.length==3){var V=S;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Qc(v),Gc(v);else break e;nf(v),et(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=Lt(p(v.Za,v),6e3));if(1>=J0(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ti(v,11)}else if((u.K||v.g==u)&&Qc(v),!y(f))for(V=v.Da.g.parse(f),f=0;f<V.length;f++){let Fe=V[f];if(v.T=Fe[0],Fe=Fe[1],v.G==2)if(Fe[0]=="c"){v.K=Fe[1],v.ia=Fe[2];const Gt=Fe[3];Gt!=null&&(v.la=Gt,v.j.info("VER="+v.la));const Kt=Fe[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const va=Fe[5];va!=null&&typeof va=="number"&&0<va&&(S=1.5*va,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Zn=u.g;if(Zn){const Xc=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xc){var U=S.h;U.g||Xc.indexOf("spdy")==-1&&Xc.indexOf("quic")==-1&&Xc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Jh(U,U.h),U.h=null))}if(S.D){const sf=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;sf&&(S.ya=sf,Ye(S.I,S.D,sf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ee=u;if(S.qa=kv(S,S.J?S.ia:null,S.W),ee.K){ev(S.h,ee);var He=ee,Ft=S.L;Ft&&(He.I=Ft),He.B&&(Yh(He),Uc(He)),S.g=ee}else wv(S);0<v.i.length&&Kc(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ti(v,7);else v.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ti(v,7):tf(v):Fe[0]!="noop"&&v.l&&v.l.ta(Fe),v.v=0)}}Vt(4)}catch{}}var hS=class{constructor(u,f){this.g=u,this.map=f}};function X0(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Z0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function J0(u){return u.h?1:u.g?u.g.size:0}function Zh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Jh(u,f){u.g?u.g.add(f):u.h=f}function ev(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}X0.prototype.cancel=function(){if(this.i=tv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const v of u.g.values())f=f.concat(v.D);return f}return k(u.i)}function fS(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],v=u.length,S=0;S<v;S++)f.push(u[S]);return f}f=[],v=0;for(S in u)f[v++]=u[S];return f}function mS(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var v=0;v<u;v++)f.push(v);return f}f=[],v=0;for(const S in u)f[v++]=S;return f}}}function nv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var v=mS(u),S=fS(u),V=S.length,U=0;U<V;U++)f.call(void 0,S[U],v&&v[U],u)}var rv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pS(u,f){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),V=null;if(0<=S){var U=u[v].substring(0,S);V=u[v].substring(S+1)}else U=u[v];f(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Si(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Si){this.h=u.h,zc(this,u.j),this.o=u.o,this.g=u.g,$c(this,u.s),this.l=u.l;var f=u.i,v=new Uo;v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),sv(this,v),this.m=u.m}else u&&(f=String(u).match(rv))?(this.h=!1,zc(this,f[1]||"",!0),this.o=Lo(f[2]||""),this.g=Lo(f[3]||"",!0),$c(this,f[4]),this.l=Lo(f[5]||"",!0),sv(this,f[6]||"",!0),this.m=Lo(f[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}Si.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Fo(f,iv,!0),":");var v=this.g;return(v||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Fo(f,iv,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Fo(v,v.charAt(0)=="/"?yS:vS,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Fo(v,wS)),u.join("")};function Vr(u){return new Si(u)}function zc(u,f,v){u.j=v?Lo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function $c(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function sv(u,f,v){f instanceof Uo?(u.i=f,bS(u.i,u.h)):(v||(f=Fo(f,xS)),u.i=new Uo(f,u.h))}function Ye(u,f,v){u.i.set(f,v)}function Bc(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Lo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fo(u,f,v){return typeof u=="string"?(u=encodeURI(u).replace(f,gS),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gS(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var iv=/[#\/\?@]/g,vS=/[#\?:]/g,yS=/[#\?]/g,xS=/[#\?@]/g,wS=/#/g;function Uo(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function ys(u){u.g||(u.g=new Map,u.h=0,u.i&&pS(u.i,function(f,v){u.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}t=Uo.prototype,t.add=function(u,f){ys(this),this.i=null,u=pa(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(f),this.h+=1,this};function av(u,f){ys(u),f=pa(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function ov(u,f){return ys(u),f=pa(u,f),u.g.has(f)}t.forEach=function(u,f){ys(this),this.g.forEach(function(v,S){v.forEach(function(V){u.call(f,V,S,this)},this)},this)},t.na=function(){ys(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),v=[];for(let S=0;S<f.length;S++){const V=u[S];for(let U=0;U<V.length;U++)v.push(f[S])}return v},t.V=function(u){ys(this);let f=[];if(typeof u=="string")ov(this,u)&&(f=f.concat(this.g.get(pa(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)f=f.concat(u[v])}return f},t.set=function(u,f){return ys(this),this.i=null,u=pa(this,u),ov(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function lv(u,f,v){av(u,f),0<v.length&&(u.i=null,u.g.set(pa(u,f),k(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var v=0;v<f.length;v++){var S=f[v];const U=encodeURIComponent(String(S)),ee=this.V(S);for(S=0;S<ee.length;S++){var V=U;ee[S]!==""&&(V+="="+encodeURIComponent(String(ee[S]))),u.push(V)}}return this.i=u.join("&")};function pa(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function bS(u,f){f&&!u.j&&(ys(u),u.i=null,u.g.forEach(function(v,S){var V=S.toLowerCase();S!=V&&(av(this,S),lv(this,V,v))},u)),u.j=f}function _S(u,f){const v=new fn;if(l.Image){const S=new Image;S.onload=g(xs,v,"TestLoadImage: loaded",!0,f,S),S.onerror=g(xs,v,"TestLoadImage: error",!1,f,S),S.onabort=g(xs,v,"TestLoadImage: abort",!1,f,S),S.ontimeout=g(xs,v,"TestLoadImage: timeout",!1,f,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else f(!1)}function ES(u,f){const v=new fn,S=new AbortController,V=setTimeout(()=>{S.abort(),xs(v,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:S.signal}).then(U=>{clearTimeout(V),U.ok?xs(v,"TestPingServer: ok",!0,f):xs(v,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),xs(v,"TestPingServer: error",!1,f)})}function xs(u,f,v,S,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),S(v)}catch{}}function NS(){this.g=new Do}function kS(u,f,v){const S=v||"";try{nv(u,function(V,U){let ee=V;d(V)&&(ee=ps(V)),f.push(S+U+"="+encodeURIComponent(ee))})}catch(V){throw f.push(S+"type="+encodeURIComponent("_badmap")),V}}function qc(u){this.l=u.Ub||null,this.j=u.eb||!1}T(qc,gs),qc.prototype.g=function(){return new Wc(this.l,this.j)},qc.prototype.i=function(u){return function(){return u}}({});function Wc(u,f){Z.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Wc,Z),t=Wc.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,$o(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function cv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?zo(this):$o(this),this.readyState==3&&cv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,zo(this))},t.Qa=function(u){this.g&&(this.response=u,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$o(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var v=f.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=f.next();return u.join(`\r
`)};function $o(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function uv(u){let f="";return O(u,function(v,S){f+=S,f+=":",f+=v,f+=`\r
`}),f}function ef(u,f,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=uv(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,f,v))}function lt(u){Z.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(lt,Z);var SS=/^https?$/i,TS=["POST","PUT"];t=lt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gh.g(),this.v=this.o?Oo(this.o):Oo(Gh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(U){dv(this,U);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var V in S)v.set(V,S[V]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const U of S.keys())v.set(U,S.get(U));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(U=>U.toLowerCase()=="content-type"),V=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(TS,f,void 0))||S||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ee]of v)this.g.setRequestHeader(U,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mv(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){dv(this,U)}};function dv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,hv(u),Hc(u)}function hv(u){u.A||(u.A=!0,ge(u,"complete"),ge(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ge(this,"complete"),ge(this,"abort"),Hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fv(this):this.bb())},t.bb=function(){fv(this)};function fv(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Lr(u)!=4||u.Z()!=2)){if(u.u&&Lr(u)==4)Mt(u.Ea,0,u);else if(ge(u,"readystatechange"),Lr(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var v;if(!(v=f)){var S;if(S=ee===0){var V=String(u.D).match(rv)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),S=!SS.test(V?V.toLowerCase():"")}v=S}if(v)ge(u,"complete"),ge(u,"success");else{u.m=6;try{var U=2<Lr(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",hv(u)}}finally{Hc(u)}}}}function Hc(u,f){if(u.g){mv(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||ge(u,"ready");try{v.onreadystatechange=S}catch{}}}function mv(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Lr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Xn(f)}};function pv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jS(u){const f={};u=(u.g&&2<=Lr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(y(u[S]))continue;var v=C(u[S]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const U=f[V]||[];f[V]=U,U.push(v)}N(f,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bo(u,f,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||f}function gv(u){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bo("baseRetryDelayMs",5e3,u),this.cb=Bo("retryDelaySeedMs",1e4,u),this.Wa=Bo("forwardChannelMaxRetries",2,u),this.wa=Bo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new X0(u&&u.concurrentRequestLimit),this.Da=new NS,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gv.prototype,t.la=8,t.G=1,t.connect=function(u,f,v,S){et(0),this.W=u,this.H=f||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=kv(this,null,this.W),Kc(this)};function tf(u){if(vv(u),u.G==3){var f=u.U++,v=Vr(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",f),Ye(v,"TYPE","terminate"),qo(u,v),f=new vs(u,u.j,f),f.L=2,f.v=Bc(Vr(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=f.v,v=!0),v||(f.g=Sv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Uc(f)}Nv(u)}function Gc(u){u.g&&(rf(u),u.g.cancel(),u.g=null)}function vv(u){Gc(u),u.u&&(l.clearTimeout(u.u),u.u=null),Qc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Kc(u){if(!Z0(u.h)&&!u.s){u.s=!0;var f=u.Ga;W||Y(),q||(W(),q=!0),F.add(f,u),u.B=0}}function IS(u,f){return J0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Lt(p(u.Ga,u,f),Ev(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new vs(this,this.j,u);let U=this.o;if(this.S&&(U?(U=x(U),_(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var f=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(f+=S,4096<f){f=v;break e}if(f===4096||v===this.i.length-1){f=v+1;break e}}f=1e3}else f=1e3;f=xv(this,V,f),v=Vr(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),qo(this,v),U&&(this.O?f="headers="+encodeURIComponent(String(uv(U)))+"&"+f:this.m&&ef(v,this.m,U)),Jh(this.h,V),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",f),Ye(v,"SID","null"),V.T=!0,Qh(V,v,null)):Qh(V,v,f),this.G=2}}else this.G==3&&(u?yv(this,u):this.i.length==0||Z0(this.h)||yv(this))};function yv(u,f){var v;f?v=f.l:v=u.U++;const S=Vr(u.I);Ye(S,"SID",u.K),Ye(S,"RID",v),Ye(S,"AID",u.T),qo(u,S),u.m&&u.o&&ef(S,u.m,u.o),v=new vs(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),f&&(u.i=f.D.concat(u.i)),f=xv(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Jh(u.h,v),Qh(v,S,f)}function qo(u,f){u.H&&O(u.H,function(v,S){Ye(f,S,v)}),u.l&&nv({},function(v,S){Ye(f,S,v)})}function xv(u,f,v){v=Math.min(u.i.length,v);var S=u.l?p(u.l.Na,u.l,u):null;e:{var V=u.i;let U=-1;for(;;){const ee=["count="+v];U==-1?0<v?(U=V[0].g,ee.push("ofs="+U)):U=0:ee.push("ofs="+U);let He=!0;for(let Ft=0;Ft<v;Ft++){let Fe=V[Ft].g;const Gt=V[Ft].map;if(Fe-=U,0>Fe)U=Math.max(0,V[Ft].g-100),He=!1;else try{kS(Gt,ee,"req"+Fe+"_")}catch{S&&S(Gt)}}if(He){S=ee.join("&");break e}}}return u=u.i.splice(0,v),f.D=u,S}function wv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;W||Y(),q||(W(),q=!0),F.add(f,u),u.v=0}}function nf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Lt(p(u.Fa,u),Ev(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,bv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Lt(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Gc(this),bv(this))};function rf(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function bv(u){u.g=new vs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Vr(u.qa);Ye(f,"RID","rpc"),Ye(f,"SID",u.K),Ye(f,"AID",u.T),Ye(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(f,"TO",u.ja),Ye(f,"TYPE","xmlhttp"),qo(u,f),u.m&&u.o&&ef(f,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Bc(Vr(f)),v.m=null,v.P=!0,K0(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),nf(this),et(19))};function Qc(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function _v(u,f){var v=null;if(u.g==f){Qc(u),rf(u),u.g=null;var S=2}else if(Zh(u.h,f))v=f.D,ev(u.h,f),S=1;else return;if(u.G!=0){if(f.o)if(S==1){v=f.m?f.m.length:0,f=Date.now()-f.F;var V=u.B;S=Me(),ge(S,new yr(S,v)),Kc(u)}else wv(u);else if(V=f.s,V==3||V==0&&0<f.X||!(S==1&&IS(u,f)||S==2&&nf(u)))switch(v&&0<v.length&&(f=u.h,f.i=f.i.concat(v)),V){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Ev(u,f){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*f}function Ti(u,f){if(u.j.info("Error code "+f),f==2){var v=p(u.fb,u),S=u.Xa;const V=!S;S=new Si(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||zc(S,"https"),Bc(S),V?_S(S.toString(),v):ES(S.toString(),v)}else et(2);u.G=0,u.l&&u.l.sa(f),Nv(u),vv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Nv(u){if(u.G=0,u.ka=[],u.l){const f=tv(u.h);(f.length!=0||u.i.length!=0)&&(I(u.ka,f),I(u.ka,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.ra()}}function kv(u,f,v){var S=v instanceof Si?Vr(v):new Si(v);if(S.g!="")f&&(S.g=f+"."+S.g),$c(S,S.s);else{var V=l.location;S=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var U=new Si(null);S&&zc(U,S),f&&(U.g=f),V&&$c(U,V),v&&(U.l=v),S=U}return v=u.D,f=u.ya,v&&f&&Ye(S,v,f),Ye(S,"VER",u.la),qo(u,S),S}function Sv(u,f,v){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new lt(new qc({eb:v})):new lt(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tv(){}t=Tv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yc(){}Yc.prototype.g=function(u,f){return new Nn(u,f)};function Nn(u,f){Z.call(this),this.g=new gv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new ga(this)}T(Nn,Z),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){tf(this.g)},Nn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ps(u),u=v);f.i.push(new hS(f.Ya++,u)),f.G==3&&Kc(f)},Nn.prototype.N=function(){this.g.l=null,delete this.j,tf(this.g),delete this.g,Nn.aa.N.call(this)};function jv(u){Ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const v in f){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}T(jv,Ni);function Iv(){Fn.call(this),this.status=1}T(Iv,Fn);function ga(u){this.g=u}T(ga,Tv),ga.prototype.ua=function(){ge(this.g,"a")},ga.prototype.ta=function(u){ge(this.g,new jv(u))},ga.prototype.sa=function(u){ge(this.g,new Iv)},ga.prototype.ra=function(){ge(this.g,"b")},Yc.prototype.createWebChannel=Yc.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,FE=function(){return new Yc},LE=function(){return Me()},VE=Mr,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,Bu=Lc,W0.COMPLETE="complete",ME=W0,Mo.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Z.prototype.listen=Z.prototype.K,ml=Mo,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,OE=lt}).apply(typeof gu<"u"?gu:typeof self<"u"?self:typeof window<"u"?window:{});const Tx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Rg("@firebase/firestore");function Jo(){return Zi.logLevel}function ce(t,...e){if(Zi.logLevel<=Ce.DEBUG){const n=e.map(Gg);Zi.debug(`Firestore (${Io}): ${t}`,...n)}}function ss(t,...e){if(Zi.logLevel<=Ce.ERROR){const n=e.map(Gg);Zi.error(`Firestore (${Io}): ${t}`,...n)}}function oo(t,...e){if(Zi.logLevel<=Ce.WARN){const n=e.map(Gg);Zi.warn(`Firestore (${Io}): ${t}`,...n)}}function Gg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+t;throw ss(e),new Error(e)}function qe(t,e){t||we()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class IR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new UE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Zt(e)}}class AR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){qe(this.o===void 0);const r=i=>{i.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new RR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=OR(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Ct(0,0))}static max(){return new be(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ic.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends ic{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends ic{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return MR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new se(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new se(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ze.fromString(e))}static fromName(e){return new pe(Ze.fromString(e).popFirst(5))}static empty(){return new pe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ze(e.slice()))}}function VR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new ni(s,pe.empty(),e)}function LR(t){return new ni(t.readTime,t.key,-1)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(be.min(),pe.empty(),-1)}static max(){return new ni(be.max(),pe.empty(),-1)}}function FR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==UR)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function $R(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kg.oe=-1;function Sh(t){return t==null}function Ad(t){return t===0&&1/t==-1/0}function BR(t){return typeof t=="number"&&Number.isInteger(t)&&!Ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $E(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vu(this.root,e,this.comparator,!0)}}class vu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??zt.RED,this.left=s??zt.EMPTY,this.right=i??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new zt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,s,i){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ix(this.data.getIterator())}getIteratorFrom(e){return new Ix(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class Ix{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new In([])}unionWith(e){let n=new qt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BE("Invalid base64 string: "+i):i}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(qe(!!t),typeof t=="string"){let e=0;const n=qR.exec(t);if(qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yg(t){const e=t.mapValue.fields.__previous_value__;return Qg(e)?Yg(e):e}function ac(t){const e=ri(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,s,i,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu={mapValue:{}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qg(t)?4:GR(t)?9007199254740991:HR(t)?10:11:we()}function Rr(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=ri(s.timestampValue),l=ri(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ji(s.bytesValue).isEqual(Ji(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=mt(s.doubleValue),l=mt(i.doubleValue);return a===l?Ad(a)===Ad(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(jx(a)!==jx(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Rr(a[c],l[c])))return!1;return!0}(t,e);default:return we()}}function lc(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function co(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=mt(i.integerValue||i.doubleValue),c=mt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Cx(t.timestampValue,e.timestampValue);case 4:return Cx(ac(t),ac(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ji(i),c=Ji(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=Ue(l[d],c[d]);if(h!==0)return h}return Ue(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ue(mt(i.latitude),mt(a.latitude));return l!==0?l:Ue(mt(i.longitude),mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ax(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,d,h;const m=i.fields||{},p=a.fields||{},g=(l=m.value)===null||l===void 0?void 0:l.arrayValue,T=(c=p.value)===null||c===void 0?void 0:c.arrayValue,k=Ue(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:Ax(g,T)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===yu.mapValue&&a===yu.mapValue)return 0;if(i===yu.mapValue)return 1;if(a===yu.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const p=Ue(c[m],h[m]);if(p!==0)return p;const g=co(l[c[m]],d[h[m]]);if(g!==0)return g}return Ue(c.length,h.length)}(t.mapValue,e.mapValue);default:throw we()}}function Cx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=ri(t),r=ri(e),s=Ue(n.seconds,r.seconds);return s!==0?s:Ue(n.nanos,r.nanos)}function Ax(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=co(n[s],r[s]);if(i)return i}return Ue(n.length,r.length)}function uo(t){return np(t)}function np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=np(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${np(n.fields[a])}`;return s+"}"}(t.mapValue):we()}function Px(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rp(t){return!!t&&"integerValue"in t}function Xg(t){return!!t&&"arrayValue"in t}function Rx(t){return!!t&&"nullValue"in t}function Dx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qu(t){return!!t&&"mapValue"in t}function HR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(n)}setAll(e){let n=$t.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Il(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){aa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new vn(Il(this.value))}}function qE(t){const e=[];return aa(t.fields,(n,r)=>{const s=new $t([n]);if(qu(r)){const i=qE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),vn.empty(),0)}static newFoundDocument(e,n,r,s){return new en(e,1,n,be.min(),r,s,0)}static newNoDocument(e,n){return new en(e,2,n,be.min(),be.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,be.min(),be.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.position=e,this.inclusive=n}}function Ox(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(a.referenceValue),n.key):r=co(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function KR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{}class Nt extends WE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YR(e,n,r):n==="array-contains"?new JR(e,r):n==="in"?new e4(e,r):n==="not-in"?new t4(e,r):n==="array-contains-any"?new n4(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XR(e,r):new ZR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(co(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends WE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hr(e,n)}matches(e){return HE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function HE(t){return t.op==="and"}function GE(t){return QR(t)&&HE(t)}function QR(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function sp(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+uo(t.value);if(GE(t))return t.filters.map(e=>sp(e)).join(",");{const e=t.filters.map(n=>sp(n)).join(",");return`${t.op}(${e})`}}function KE(t,e){return t instanceof Nt?function(r,s){return s instanceof Nt&&r.op===s.op&&r.field.isEqual(s.field)&&Rr(r.value,s.value)}(t,e):t instanceof hr?function(r,s){return s instanceof hr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&KE(a,s.filters[l]),!0):!1}(t,e):void we()}function QE(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"}(t):"Filter"}class YR extends Nt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class XR extends Nt{constructor(e,n){super(e,"in",n),this.keys=YE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZR extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=YE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class JR extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xg(n)&&lc(n.arrayValue,this.value)}}class e4 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class t4 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lc(this.value.arrayValue,n)}}class n4 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function Vx(t,e=null,n=[],r=[],s=null,i=null,a=null){return new r4(t,e,n,r,s,i,a)}function Zg(t){const e=Ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uo(r)).join(",")),e.ue=n}return e.ue}function Jg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mx(t.startAt,e.startAt)&&Mx(t.endAt,e.endAt)}function ip(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function s4(t,e,n,r,s,i,a,l){return new Co(t,e,n,r,s,i,a,l)}function e0(t){return new Co(t)}function Lx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XE(t){return t.collectionGroup!==null}function Cl(t){const e=Ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new qt($t.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new cc(i,r))}),n.has($t.keyField().canonicalString())||e.ce.push(new cc($t.keyField(),r))}return e.ce}function Cr(t){const e=Ne(t);return e.le||(e.le=i4(e,Cl(t))),e.le}function i4(t,e){if(t.limitType==="F")return Vx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cc(s.field,i)});const n=t.endAt?new Pd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pd(t.startAt.position,t.startAt.inclusive):null;return Vx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ap(t,e){const n=t.filters.concat([e]);return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rd(t,e,n){return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Th(t,e){return Jg(Cr(t),Cr(e))&&t.limitType===e.limitType}function ZE(t){return`${Zg(Cr(t))}|lt:${t.limitType}`}function _a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QE(s)).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>uo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>uo(s)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Cl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=Ox(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,Cl(r),s)||r.endAt&&!function(a,l,c){const d=Ox(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,Cl(r),s))}(t,e)}function a4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JE(t){return(e,n)=>{let r=!1;for(const s of Cl(t)){const i=o4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function o4(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?co(c,d):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new ot(pe.comparator);function is(){return l4}const eN=new ot(pe.comparator);function pl(...t){let e=eN;for(const n of t)e=e.insert(n.key,n);return e}function tN(t){let e=eN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return Al()}function nN(){return Al()}function Al(){return new Ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const c4=new ot(pe.comparator),u4=new qt(pe.comparator);function Ie(...t){let e=u4;for(const n of t)e=e.add(n);return e}const d4=new qt(Ue);function h4(){return d4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function rN(t){return{integerValue:""+t}}function f4(t,e){return BR(e)?rN(e):t0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function m4(t,e,n){return t instanceof Dd?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qg(i)&&(i=Yg(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof uc?iN(t,e):t instanceof dc?aN(t,e):function(s,i){const a=sN(s,i),l=Fx(a)+Fx(s.Pe);return rp(a)&&rp(s.Pe)?rN(l):t0(s.serializer,l)}(t,e)}function p4(t,e,n){return t instanceof uc?iN(t,e):t instanceof dc?aN(t,e):n}function sN(t,e){return t instanceof Od?function(r){return rp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dd extends Ih{}class uc extends Ih{constructor(e){super(),this.elements=e}}function iN(t,e){const n=oN(e);for(const r of t.elements)n.some(s=>Rr(s,r))||n.push(r);return{arrayValue:{values:n}}}class dc extends Ih{constructor(e){super(),this.elements=e}}function aN(t,e){let n=oN(e);for(const r of t.elements)n=n.filter(s=>!Rr(s,r));return{arrayValue:{values:n}}}class Od extends Ih{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Fx(t){return mt(t.integerValue||t.doubleValue)}function oN(t){return Xg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uc&&s instanceof uc||r instanceof dc&&s instanceof dc?lo(r.elements,s.elements,Rr):r instanceof Od&&s instanceof Od?Rr(r.Pe,s.Pe):r instanceof Dd&&s instanceof Dd}(t.transform,e.transform)}class v4{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ch{}function lN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n0(t.key,Wn.none()):new Cc(t.key,t.data,Wn.none());{const n=t.data,r=vn.empty();let s=new qt($t.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new pi(t.key,r,new In(s.toArray()),Wn.none())}}function y4(t,e,n){t instanceof Cc?function(s,i,a){const l=s.value.clone(),c=zx(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof pi?function(s,i,a){if(!Wu(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=zx(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(cN(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Pl(t,e,n,r){return t instanceof Cc?function(i,a,l,c){if(!Wu(i.precondition,a))return l;const d=i.value.clone(),h=$x(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof pi?function(i,a,l,c){if(!Wu(i.precondition,a))return l;const d=$x(i.fieldTransforms,c,a),h=a.data;return h.setAll(cN(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,a,l){return Wu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function x4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=sN(r.transform,s||null);i!=null&&(n===null&&(n=vn.empty()),n.set(r.field,i))}return n||null}function Ux(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lo(r,s,(i,a)=>g4(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cc extends Ch{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pi extends Ch{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zx(t,e,n){const r=new Map;qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,p4(a,l,n[s]))}return r}function $x(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,m4(i,a,e))}return r}class n0 extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w4 extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&y4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nN();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=lN(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>Ux(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>Ux(n,r))}}class r0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length);let s=function(){return c4}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new r0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Re;function N4(t){switch(t){default:return we();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function uN(t){if(t===void 0)return ss("GRPC error has no .code"),B.UNKNOWN;switch(t){case wt.OK:return B.OK;case wt.CANCELLED:return B.CANCELLED;case wt.UNKNOWN:return B.UNKNOWN;case wt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case wt.INTERNAL:return B.INTERNAL;case wt.UNAVAILABLE:return B.UNAVAILABLE;case wt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case wt.NOT_FOUND:return B.NOT_FOUND;case wt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case wt.ABORTED:return B.ABORTED;case wt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case wt.DATA_LOSS:return B.DATA_LOSS;default:return we()}}(Re=wt||(wt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new $i([4294967295,4294967295],0);function Bx(t){const e=k4().encode(t),n=new DE;return n.update(e),new Uint8Array(n.digest())}function qx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $i([n,r],0),new $i([s,i],0)]}class s0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(r<0)throw new gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$i.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply($i.fromNumber(r)));return s.compare(S4)===1&&(s=new $i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Bx(e),[r,s]=qx(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new s0(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=Bx(e),[r,s]=qx(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ah(be.min(),s,new ot(Ue),is(),Ie())}}class Ac{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ac(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class dN{constructor(e,n){this.targetId=e,this.me=n}}class hN{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Wx{constructor(){this.fe=0,this.ge=Gx(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:we()}}),new Ac(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Gx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class T4{constructor(e){this.Le=e,this.Be=new Map,this.ke=is(),this.qe=Hx(),this.Qe=new ot(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(ip(i))if(r===0){const a=new pe(i.path);this.Ue(n,a,en.newNoDocument(a,be.min()))}else qe(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Ji(r).toUint8Array()}catch(c){if(c instanceof BE)return oo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new s0(a,s,i)}catch(c){return oo(c instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const l=this.Je(a);if(l){if(i.current&&ip(l.target)){const c=new pe(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,en.newNoDocument(c,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=Ie();this.qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new Ah(e,n,this.Qe,this.ke,r);return this.ke=is(),this.qe=Hx(),this.Qe=new ot(Ue),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Hx(){return new ot(pe.comparator)}function Gx(){return new ot(pe.comparator)}const j4={asc:"ASCENDING",desc:"DESCENDING"},I4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C4={and:"AND",or:"OR"};class A4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function Md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P4(t,e){return Md(t,e.toTimestamp())}function Ar(t){return qe(!!t),be.fromTimestamp(function(n){const r=ri(n);return new Ct(r.seconds,r.nanos)}(t))}function i0(t,e){return lp(t,e).canonicalString()}function lp(t,e){const n=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mN(t){const e=Ze.fromString(t);return qe(xN(e)),e}function cp(t,e){return i0(t.databaseId,e.path)}function zf(t,e){const n=mN(e);if(n.get(1)!==t.databaseId.projectId)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(gN(n))}function pN(t,e){return i0(t.databaseId,e)}function R4(t){const e=mN(t);return e.length===4?Ze.emptyPath():gN(e)}function up(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gN(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Kx(t,e,n){return{name:cp(t,e),fields:n.value.mapValue.fields}}function D4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(qe(h===void 0||typeof h=="string"),Ht.fromBase64String(h||"")):(qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?B.UNKNOWN:uN(d.code);return new se(h,d.message||"")}(a);n=new hN(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zf(t,r.document.name),i=Ar(r.document.updateTime),a=r.document.createTime?Ar(r.document.createTime):be.min(),l=new vn({mapValue:{fields:r.document.fields}}),c=en.newFoundDocument(s,i,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Hu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zf(t,r.document),i=r.readTime?Ar(r.readTime):be.min(),a=en.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Hu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zf(t,r.document),i=r.removedTargetIds||[];n=new Hu([],i,s,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new E4(s,i),l=r.targetId;n=new dN(l,a)}}return n}function O4(t,e){let n;if(e instanceof Cc)n={update:Kx(t,e.key,e.value)};else if(e instanceof n0)n={delete:cp(t,e.key)};else if(e instanceof pi)n={update:Kx(t,e.key,e.data),updateMask:q4(e.fieldMask)};else{if(!(e instanceof w4))return we();n={verify:cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Dd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof uc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof dc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Od)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:P4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:we()}(t,e.precondition)),n}function M4(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?Ar(s.updateTime):Ar(i);return a.isEqual(be.min())&&(a=Ar(i)),new v4(a,s.transformResults||[])}(n,e))):[]}function V4(t,e){return{documents:[pN(t,e.path)]}}function L4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pN(t,s);const i=function(d){if(d.length!==0)return yN(hr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Ea(p.field),direction:z4(p.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=op(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function F4(t){let e=R4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const p=vN(m);return p instanceof hr&&GE(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(T){return new cc(Na(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,Sh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,g=m.values||[];return new Pd(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const p=!m.before,g=m.values||[];return new Pd(g,p)}(n.endAt)),s4(e,s,a,i,l,"F",c,d)}function U4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Na(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Na(n.unaryFilter.field);return Nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Na(n.unaryFilter.field);return Nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Na(n.unaryFilter.field);return Nt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(Na(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>vN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function z4(t){return j4[t]}function $4(t){return I4[t]}function B4(t){return C4[t]}function Ea(t){return{fieldPath:t.canonicalString()}}function Na(t){return $t.fromServerFormat(t.fieldPath)}function yN(t){return t instanceof Nt?function(n){if(n.op==="=="){if(Dx(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NAN"}};if(Rx(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dx(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NAN"}};if(Rx(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(n.field),op:$4(n.op),value:n.value}}}(t):t instanceof hr?function(n){const r=n.getFilters().map(s=>yN(s));return r.length===1?r[0]:{compositeFilter:{op:B4(n.op),filters:r}}}(t):we()}function q4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,s,i=be.min(),a=be.min(),l=Ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.ct=e}}function H4(t){const e=F4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.un=new K4}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ni.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class K4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new qt(Ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ho(0)}static kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.changes=new Ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Pl(r.mutation,s,In.empty(),Ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=pl();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=is();const a=Al(),l=function(){return Al()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof pi)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),Pl(h.mutation,d,h.mutation.getFieldMask(),Ct.now())):a.set(d.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var m;return l.set(d,new Y4(h,(m=a.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Al();let s=new ot((a,l)=>a-l),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||In.empty();h=l.applyToLocalView(d,h),r.set(c,h);const m=(s.get(l.batchId)||Ie()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=nN();h.forEach(p=>{if(!i.has(p)){const g=lN(n.get(p),r.get(p));g!==null&&m.set(p,g),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Vi());let l=-1,c=i;return a.next(d=>H.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ie())).next(h=>({batchId:l,changes:tN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let s=pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=pl();return this.indexManager.getCollectionParents(e,i).next(l=>H.forEach(l,c=>{const d=function(m,p){return new Co(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,en.newInvalidDocument(h)))});let l=pl();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Pl(h.mutation,d,In.empty(),Ct.now()),jh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ar(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:H4(s.bundledQuery),readTime:Ar(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.overlays=new ot(pe.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vi();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Vi(),i=n.length+1,a=new pe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ot((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Vi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Vi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return H.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new _4(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ie(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.Tr=new qt(Rt.Er),this.dr=new qt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new Ze([])),r=new Rt(n,e),s=new Rt(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new Ze([])),r=new Rt(n,e),s=new Rt(n,e+1);let i=Ie();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||Ue(e.wr,n.wr)}static Ar(e,n){return Ue(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qt(Rt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new b4(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new Rt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const l=this.Dr(a.wr);i.push(l)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Ue);return n.forEach(s=>{const i=new Rt(s,0),a=new Rt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],l=>{r=r.add(l.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const a=new Rt(new pe(i),0);let l=new qt(Ue);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.wr)),!0)},a),H.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,s=>{const i=new Rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Rt(n,0),s=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.Mr=e,this.docs=function(){return new ot(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=is();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():en.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=is();const a=n.path,l=new pe(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||FR(LR(h),r)<=0||(s.has(h.key)||jh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){we()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r5(this)}getSize(e){return H.resolve(this.size)}}class r5 extends Q4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.persistence=e,this.Nr=new Ao(n=>Zg(n),Jg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new a0,this.targetCount=0,this.kr=ho.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kg(0),this.Kr=!1,this.Kr=!0,this.$r=new e5,this.referenceDelegate=e(this),this.Ur=new s5(this),this.indexManager=new G4,this.remoteDocumentCache=function(s){return new n5(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new W4(n),this.Gr=new Z4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new t5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new a5(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class a5 extends zR{constructor(e){super(),this.currentSequenceNumber=e}}class o0{constructor(e){this.persistence=e,this.Jr=new a0,this.Yr=null}static Zr(e){return new o0(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const s=pe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new l0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QI()?8:$R(nn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new o5;return this.Xi(e,n,a).next(l=>{if(i.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Jo()<=Ce.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",_a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Jo()<=Ce.DEBUG&&ce("QueryEngine","Query:",_a(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Jo()<=Ce.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",_a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):H.resolve())}Yi(e,n){if(Lx(n))return H.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Rd(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Ie(...i);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,a,c.readTime)?this.Yi(e,Rd(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return Lx(n)||s.isEqual(be.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?H.resolve(null):(Jo()<=Ce.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_a(n)),this.rs(e,a,n,VR(s,-1)).next(l=>l))})}ts(e,n){let r=new qt(JE(e));return n.forEach((s,i)=>{jh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Jo()<=Ce.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",_a(n)),this.Ji.getDocumentsMatchingQuery(e,n,ni.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ot(Ue),this._s=new Ao(i=>Zg(i),Jg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function u5(t,e,n,r){return new c5(t,e,n,r)}async function wN(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=Ie();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:l}))})})}function d5(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const m=d.batch,p=m.keys();let g=H.resolve();return p.forEach(T=>{g=g.next(()=>h.getEntry(c,T)).next(k=>{const I=d.docVersions.get(T);qe(I!==null),k.version.compareTo(I)<0&&(m.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),h.addEntry(k)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ie();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bN(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h5(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,m)=>{const p=s.get(m);if(!p)return;l.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,m)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Ht.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(m,g),function(k,I,w){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&l.push(n.Ur.updateTargetData(i,g))});let c=is(),d=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(f5(i,a,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(be.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(m=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return H.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function f5(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=is();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ce("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function m5(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function p5(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new Ms(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function dp(t,e,n){const r=Ne(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ic(a))throw a;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Qx(t,e,n){const r=Ne(t);let s=be.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const m=Ne(c),p=m._s.get(h);return p!==void 0?H.resolve(m.os.get(p)):m.Ur.getTargetData(d,h)}(r,a,Cr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:be.min(),n?i:Ie())).next(l=>(g5(r,a4(e),l),{documents:l,Ts:i})))}function g5(t,e,n){let r=t.us.get(e)||be.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Yx{constructor(){this.activeTargetIds=h4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v5{constructor(){this.so=new Yx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu=null;function $f(){return xu===null?xu=function(){return 268435456+Math.round(2147483648*Math.random())}():xu++,"0x"+xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class b5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const l=$f(),c=this.xo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,c,d,s).then(h=>(ce("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw oo("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,a,l){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=x5[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=$f();return new Promise((a,l)=>{const c=new OE;c.setWithCredentials(!0),c.listenOnce(ME.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bu.NO_ERROR:const h=c.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case Bu.TIMEOUT:ce(Xt,`RPC '${e}' ${i} timed out`),l(new se(B.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const m=c.getStatus();if(ce(Xt,`RPC '${e}' ${i} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const T=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(g.status);l(new se(T,g.message))}else l(new se(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new se(B.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ce(Xt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);ce(Xt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=$f(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=FE(),l=LE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");ce(Xt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const m=a.createWebChannel(h,c);let p=!1,g=!1;const T=new w5({Io:I=>{g?ce(Xt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(ce(Xt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),ce(Xt,`RPC '${e}' stream ${s} sending:`,I),m.send(I))},To:()=>m.close()}),k=(I,w,y)=>{I.listen(w,b=>{try{y(b)}catch(P){setTimeout(()=>{throw P},0)}})};return k(m,ml.EventType.OPEN,()=>{g||(ce(Xt,`RPC '${e}' stream ${s} transport opened.`),T.yo())}),k(m,ml.EventType.CLOSE,()=>{g||(g=!0,ce(Xt,`RPC '${e}' stream ${s} transport closed`),T.So())}),k(m,ml.EventType.ERROR,I=>{g||(g=!0,oo(Xt,`RPC '${e}' stream ${s} transport errored:`,I),T.So(new se(B.UNAVAILABLE,"The operation could not be completed")))}),k(m,ml.EventType.MESSAGE,I=>{var w;if(!g){const y=I.data[0];qe(!!y);const b=y,P=b.error||((w=b[0])===null||w===void 0?void 0:w.error);if(P){ce(Xt,`RPC '${e}' stream ${s} received error:`,P);const R=P.status;let O=function(E){const _=wt[E];if(_!==void 0)return uN(_)}(R),N=P.message;O===void 0&&(O=B.INTERNAL,N="Unknown error status: "+R+" with message "+P.message),g=!0,T.So(new se(O,N)),m.close()}else ce(Xt,`RPC '${e}' stream ${s} received:`,y),T.bo(y)}}),k(l,VE.STAT_EVENT,I=>{I.stat===tp.PROXY?ce(Xt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===tp.NOPROXY&&ce(Xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new A4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,s,i,a,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _N(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new se(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _5 extends EN{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=D4(this.serializer,e),r=function(i){if(!("targetChange"in i))return be.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?Ar(a.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=up(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=ip(c)?{documents:V4(i,c)}:{query:L4(i,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=fN(i,a.resumeToken);const d=op(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(be.min())>0){l.readTime=Md(i,a.snapshotVersion.toTimestamp());const d=op(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=U4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=up(this.serializer),n.removeTarget=e,this.a_(n)}}class E5 extends EN{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=M4(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=up(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>O4(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,lp(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(B.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,lp(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se(B.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class k5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ss(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{oa(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=Ne(c);d.L_.add(4),await Pc(d),d.q_.set("Unknown"),d.L_.delete(4),await Rh(d)}(this))})}),this.q_=new k5(r,s)}}async function Rh(t){if(oa(t))for(const e of t.B_)await e(!0)}async function Pc(t){for(const e of t.B_)await e(!1)}function NN(t,e){const n=Ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),h0(n)?d0(n):Po(n).r_()&&u0(n,e))}function c0(t,e){const n=Ne(t),r=Po(n);n.N_.delete(e),r.r_()&&kN(n,e),n.N_.size===0&&(r.r_()?r.o_():oa(n)&&n.q_.set("Unknown"))}function u0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(t).A_(e)}function kN(t,e){t.Q_.xe(e),Po(t).R_(e)}function d0(t){t.Q_=new T4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Po(t).start(),t.q_.v_()}function h0(t){return oa(t)&&!Po(t).n_()&&t.N_.size>0}function oa(t){return Ne(t).L_.size===0}function SN(t){t.Q_=void 0}async function T5(t){t.q_.set("Online")}async function j5(t){t.N_.forEach((e,n)=>{u0(t,e)})}async function I5(t,e){SN(t),h0(t)?(t.q_.M_(e),d0(t)):t.q_.set("Unknown")}async function C5(t,e,n){if(t.q_.set("Online"),e instanceof hN&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vd(t,r)}else if(e instanceof Hu?t.Q_.Ke(e):e instanceof dN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await bN(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Q_.rt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(Ht.EMPTY_BYTE_STRING,h.snapshotVersion)),kN(i,c);const m=new Ms(h.target,c,d,h.sequenceNumber);u0(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Vd(t,r)}}async function Vd(t,e,n){if(!Ic(e))throw e;t.L_.add(1),await Pc(t),t.q_.set("Offline"),n||(n=()=>bN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Rh(t)})}function TN(t,e){return e().catch(n=>Vd(t,n,e))}async function Dh(t){const e=Ne(t),n=si(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;A5(e);)try{const s=await m5(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,P5(e,s)}catch(s){await Vd(e,s)}jN(e)&&IN(e)}function A5(t){return oa(t)&&t.O_.length<10}function P5(t,e){t.O_.push(e);const n=si(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jN(t){return oa(t)&&!si(t).n_()&&t.O_.length>0}function IN(t){si(t).start()}async function R5(t){si(t).p_()}async function D5(t){const e=si(t);for(const n of t.O_)e.m_(n.mutations)}async function O5(t,e,n){const r=t.O_.shift(),s=r0.from(r,e,n);await TN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dh(t)}async function M5(t,e){e&&si(t).V_&&await async function(r,s){if(function(a){return N4(a)&&a!==B.ABORTED}(s.code)){const i=r.O_.shift();si(r).s_(),await TN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Dh(r)}}(t,e),jN(t)&&IN(t)}async function Zx(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=oa(n);n.L_.add(3),await Pc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Rh(n)}async function V5(t,e){const n=Ne(t);e?(n.L_.delete(2),await Rh(n)):e||(n.L_.add(2),await Pc(n),n.q_.set("Unknown"))}function Po(t){return t.K_||(t.K_=function(n,r,s){const i=Ne(n);return i.w_(),new _5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:T5.bind(null,t),Ro:j5.bind(null,t),mo:I5.bind(null,t),d_:C5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),h0(t)?d0(t):t.q_.set("Unknown")):(await t.K_.stop(),SN(t))})),t.K_}function si(t){return t.U_||(t.U_=function(n,r,s){const i=Ne(n);return i.w_(),new E5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R5.bind(null,t),mo:M5.bind(null,t),f_:D5.bind(null,t),g_:O5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Dh(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new f0(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m0(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Ic(t))return new se(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new Ka(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.W_=new ot(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fo{constructor(e,n,r,s,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new fo(e,n,Ka.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class F5{constructor(){this.queries=ew(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ne(n),i=s.queries;s.queries=ew(),i.forEach((a,l)=>{for(const c of l.j_)c.onError(r)})})(this,new se(B.ABORTED,"Firestore shutting down"))}}function ew(){return new Ao(t=>ZE(t),Th)}async function CN(t,e){const n=Ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new L5,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=m0(a,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&p0(n)}async function AN(t,e){const n=Ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function U5(t,e){const n=Ne(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&p0(n)}function z5(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function p0(t){t.Y_.forEach(e=>{e.next()})}var hp,tw;(tw=hp||(hp={})).ea="default",tw.Cache="cache";class PN{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.key=e}}class DN{constructor(e){this.key=e}}class $5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=JE(e),this.Ra=new Ka(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Jx,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const p=s.get(h),g=jh(this.query,m)?m:null,T=!!p&&this.mutatedKeys.has(p.key),k=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?T!==k&&(r.track({type:3,doc:g}),I=!0):this.ga(p,g)||(r.track({type:2,doc:g}),I=!0,(c&&this.Aa(g,c)>0||d&&this.Aa(g,d)<0)&&(l=!0)):!p&&g?(r.track({type:0,doc:g}),I=!0):p&&!g&&(r.track({type:1,doc:p}),I=!0,(c||d)&&(l=!0)),I&&(g?(a=a.add(g),i=k?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,m)=>function(g,T){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return k(g)-k(T)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new fo(this.query,e.Ra,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new DN(r))}),this.da.forEach(r=>{e.has(r)||n.push(new RN(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class B5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class q5{constructor(e){this.key=e,this.va=!1}}class W5{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ao(l=>ZE(l),Th),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(pe.comparator),this.Na=new Map,this.La=new a0,this.Ba={},this.ka=new Map,this.qa=ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function H5(t,e,n=!0){const r=UN(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await ON(r,e,n,!0),s}async function G5(t,e){const n=UN(t);await ON(n,e,!0,!1)}async function ON(t,e,n,r){const s=await p5(t.localStore,Cr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await K5(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&NN(t.remoteStore,s),l}async function K5(t,e,n,r,s){t.Ka=(m,p,g)=>async function(k,I,w,y){let b=I.view.ma(w);b.ns&&(b=await Qx(k.localStore,I.query,!1).then(({documents:N})=>I.view.ma(N,b)));const P=y&&y.targetChanges.get(I.targetId),R=y&&y.targetMismatches.get(I.targetId)!=null,O=I.view.applyChanges(b,k.isPrimaryClient,P,R);return rw(k,I.targetId,O.wa),O.snapshot}(t,m,p,g);const i=await Qx(t.localStore,e,!0),a=new $5(e,i.Ts),l=a.ma(i.documents),c=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,c);rw(t,n,d.wa);const h=new B5(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function Q5(t,e,n){const r=Ne(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!Th(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&c0(r.remoteStore,s.targetId),fp(r,s.targetId)}).catch(jc)):(fp(r,s.targetId),await dp(r.localStore,s.targetId,!0))}async function Y5(t,e){const n=Ne(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),c0(n.remoteStore,r.targetId))}async function X5(t,e,n){const r=sD(t);try{const s=await function(a,l){const c=Ne(a),d=Ct.now(),h=l.reduce((g,T)=>g.add(T.key),Ie());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=is(),k=Ie();return c.cs.getEntries(g,h).next(I=>{T=I,T.forEach((w,y)=>{y.isValidDocument()||(k=k.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,T)).next(I=>{m=I;const w=[];for(const y of l){const b=x4(y,m.get(y.key).overlayedDocument);b!=null&&w.push(new pi(y.key,b,qE(b.value.mapValue),Wn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,w,l)}).next(I=>{p=I;const w=I.applyToLocalDocumentSet(m,k);return c.documentOverlayCache.saveOverlays(g,I.batchId,w)})}).then(()=>({batchId:p.batchId,changes:tN(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new ot(Ue)),d=d.insert(l,c),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,n),await Rc(r,s.changes),await Dh(r.remoteStore)}catch(s){const i=m0(s,"Failed to persist write");n.reject(i)}}async function MN(t,e){const n=Ne(t);try{const r=await h5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?qe(a.va):s.removedDocuments.size>0&&(qe(a.va),a.va=!1))}),await Rc(n,r,e)}catch(r){await jc(r)}}function nw(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Ne(a);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const p of m.j_)p.Z_(l)&&(d=!0)}),d&&p0(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z5(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new ot(pe.comparator);a=a.insert(i,en.newNoDocument(i,be.min()));const l=Ie().add(i),c=new Ah(be.min(),new Map,new ot(Ue),a,l);await MN(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),g0(r)}else await dp(r.localStore,e,!1).then(()=>fp(r,e,n)).catch(jc)}async function J5(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await d5(n.localStore,e);LN(n,r,null),VN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,s)}catch(s){await jc(s)}}async function eD(t,e,n){const r=Ne(t);try{const s=await function(a,l){const c=Ne(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(qe(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);LN(r,e,n),VN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rc(r,s)}catch(s){await jc(s)}}function VN(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function LN(t,e,n){const r=Ne(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||FN(t,r)})}function FN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(c0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),g0(t))}function rw(t,e,n){for(const r of n)r instanceof RN?(t.La.addReference(r.key,e),tD(t,r)):r instanceof DN?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||FN(t,r.key)):we()}function tD(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),g0(t))}function g0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new q5(n)),t.Oa=t.Oa.insert(n,r),NN(t.remoteStore,new Ms(Cr(e0(n.path)),r,"TargetPurposeLimboResolution",Kg.oe))}}async function Rc(t,e,n){const r=Ne(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{a.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=l0.Wi(c.targetId,d);i.push(m)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(c,d){const h=Ne(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,p=>H.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(m,p.targetId,g)).next(()=>H.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(m,p.targetId,g)))))}catch(m){if(!Ic(m))throw m;ce("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const g=h.os.get(p),T=g.snapshotVersion,k=g.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(p,k)}}}(r.localStore,i))}async function nD(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await wN(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new se(B.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.hs)}}function rD(t,e){const n=Ne(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let s=Ie();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function UN(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z5.bind(null,e),e.Ca.d_=U5.bind(null,e.eventManager),e.Ca.$a=z5.bind(null,e.eventManager),e}function sD(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eD.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return u5(this.persistence,new l5,e.initialUser,this.serializer)}Ga(e){return new i5(o0.Zr,this.serializer)}Wa(e){return new v5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nD.bind(null,this.syncEngine),await V5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F5}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=function(i){return new b5(i)}(e.databaseInfo);return function(i,a,l,c){return new N5(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new S5(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>nw(this.syncEngine,n,0),function(){return Xx.D()?new Xx:new y5}())}createSyncEngine(e,n){return function(s,i,a,l,c,d,h){const m=new W5(s,i,a,l,c,d);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ne(s);ce("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Pc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zt.UNAUTHENTICATED,this.clientId=zE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{ce("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ce("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qf(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aD(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Zx(e.remoteStore,s)),t._onlineComponents=e}async function aD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await qf(t,new Ld)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await qf(t,new Ld);return t._offlineComponents}async function $N(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await sw(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await sw(t,new mp))),t._onlineComponents}function oD(t){return $N(t).then(e=>e.syncEngine)}async function BN(t){const e=await $N(t),n=e.eventManager;return n.onListen=H5.bind(null,e.syncEngine),n.onUnlisten=Q5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y5.bind(null,e.syncEngine),n}function lD(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new zN({next:p=>{h.Za(),a.enqueueAndForget(()=>AN(i,m));const g=p.docs.has(l);!g&&p.fromCache?d.reject(new se(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?d.reject(new se(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new PN(e0(l.path),h,{includeMetadataChanges:!0,_a:!0});return CN(i,m)}(await BN(t),t.asyncQueue,e,n,r)),r.promise}function cD(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new zN({next:p=>{h.Za(),a.enqueueAndForget(()=>AN(i,m)),p.fromCache&&c.source==="server"?d.reject(new se(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new PN(l,h,{includeMetadataChanges:!0,_a:!0});return CN(i,m)}(await BN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e,n){if(!n)throw new se(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uD(t,e,n,r){if(e===!0&&r===!0)throw new se(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aw(t){if(!pe.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ow(t){if(pe.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(t);throw new se(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function dD(t,e){if(e<=0)throw new se(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jR;switch(r.type){case"firstParty":return new PR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iw.get(n);r&&(ce("ComponentProvider","Removing Datastore"),iw.delete(n),r.terminate())}(this),Promise.resolve()}}function hD(t,e,n,r={}){var s;const i=(t=fr(t,Mh))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Zt.MOCK_USER;else{l=Q1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new se(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Zt(d)}t._authCredentials=new IR(new UE(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Ys extends gi{constructor(e,n,r){super(e,n,e0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new pe(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function sr(t,e,...n){if(t=dt(t),WN("collection","path",e),t instanceof Mh){const r=Ze.fromString(e,...n);return ow(r),new Ys(t,null,r)}{if(!(t instanceof ln||t instanceof Ys))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return ow(r),new Ys(t.firestore,null,r)}}function $n(t,e,...n){if(t=dt(t),arguments.length===1&&(e=zE.newId()),WN("doc","path",e),t instanceof Mh){const r=Ze.fromString(e,...n);return aw(r),new ln(t,null,new pe(r))}{if(!(t instanceof ln||t instanceof Ys))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return aw(r),new ln(t.firestore,t instanceof Ys?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _N(this,"async_queue_retry"),this.Vu=()=>{const r=Bf();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Xr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ic(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw ss("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=f0.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class la extends Mh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new cw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cw(e),this._firestoreClient=void 0,await e}}}function fD(t,e){const n=typeof t=="object"?t:Og(),r=typeof t=="string"?t:"(default)",s=_h(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=H1("firestore");i&&hD(s,...i)}return s}function v0(t){if(t._terminated)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mD(t),t._firestoreClient}function mD(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,h){return new WR(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qN(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new iD(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(Ht.fromBase64String(e))}catch(n){throw new se(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=/^__.*__$/;class gD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class HN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class b0{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new b0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Fd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GN(this.Cu)&&pD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class vD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}Qu(e,n,r,s=!1){return new b0({Cu:e,methodName:n,qu:r,path:$t.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new vD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KN(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);_0("Data must be an object, but it was:",a,r);const l=QN(r,a);let c,d;if(i.merge)c=new In(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const p=pp(e,m,n);if(!a.contains(p))throw new se(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);XN(h,p)||h.push(p)}c=new In(h),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new gD(new vn(l),c,d)}class Fh extends y0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function yD(t,e,n,r){const s=t.Qu(1,e,n);_0("Data must be an object, but it was:",s,r);const i=[],a=vn.empty();aa(r,(c,d)=>{const h=E0(e,c,n);d=dt(d);const m=s.Nu(h);if(d instanceof Fh)i.push(h);else{const p=Dc(d,m);p!=null&&(i.push(h),a.set(h,p))}});const l=new In(i);return new HN(a,l,s.fieldTransforms)}function xD(t,e,n,r,s,i){const a=t.Qu(1,e,n),l=[pp(e,r,n)],c=[s];if(i.length%2!=0)throw new se(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(pp(e,i[p])),c.push(i[p+1]);const d=[],h=vn.empty();for(let p=l.length-1;p>=0;--p)if(!XN(d,l[p])){const g=l[p];let T=c[p];T=dt(T);const k=a.Nu(g);if(T instanceof Fh)d.push(g);else{const I=Dc(T,k);I!=null&&(d.push(g),h.set(g,I))}}const m=new In(d);return new HN(h,m,a.fieldTransforms)}function wD(t,e,n,r=!1){return Dc(n,t.Qu(r?4:3,e))}function Dc(t,e){if(YN(t=dt(t)))return _0("Unsupported field value:",e,t),QN(t,e);if(t instanceof y0)return function(r,s){if(!GN(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Dc(l,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ct.fromDate(r);return{timestampValue:Md(s.serializer,i)}}if(r instanceof Ct){const i=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Md(s.serializer,i)}}if(r instanceof x0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mo)return{bytesValue:fN(s.serializer,r._byteString)};if(r instanceof ln){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:i0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof w0)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return t0(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Oh(r)}`)}(t,e)}function QN(t,e){const n={};return $E(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,(r,s)=>{const i=Dc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function YN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof x0||t instanceof mo||t instanceof ln||t instanceof y0||t instanceof w0)}function _0(t,e,n){if(!YN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Oh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function pp(t,e,n){if((e=dt(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return E0(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const bD=new RegExp("[~\\*/\\[\\]]");function E0(t,e,n){if(e.search(bD)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vh(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new se(B.INVALID_ARGUMENT,l+t+c)}function XN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _D(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _D extends ZN{data(){return super.data()}}function Uh(t,e){return typeof e=="string"?E0(t,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N0{}class k0 extends N0{}function Vs(t,e,...n){let r=[];e instanceof N0&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof S0).length,l=i.filter(c=>c instanceof zh).length;if(a>1||a>0&&l>0)throw new se(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zh extends k0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zh(e,n,r)}_apply(e){const n=this._parse(e);return ek(e._query,n),new gi(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=Lh(e.firestore);return function(i,a,l,c,d,h,m){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new se(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){dw(m,h);const g=[];for(const T of m)g.push(uw(c,i,T));p={arrayValue:{values:g}}}else p=uw(c,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||dw(m,h),p=wD(l,a,m,h==="in"||h==="not-in");return Nt.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kr(t,e,n){const r=e,s=Uh("where",t);return zh._create(s,r,n)}class S0 extends N0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)ek(a,c),a=ap(a,c)}(e._query,n),new gi(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class T0 extends k0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new T0(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new se(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new se(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(i,a)}(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Co(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ud(t,e="asc"){const n=e,r=Uh("orderBy",t);return T0._create(r,n)}class j0 extends k0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new j0(e,n,r)}_apply(e){return new gi(e.firestore,e.converter,Rd(e._query,this._limit,this._limitType))}}function JN(t){return dD("limit",t),j0._create("limit",t,"F")}function uw(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new se(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(e)&&n.indexOf("/")!==-1)throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!pe.isDocumentKey(r))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Px(t,new pe(r))}if(n instanceof ln)return Px(t,n._key);throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function dw(t,e){if(!Array.isArray(t)||t.length===0)throw new se(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ek(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ND{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return aa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>mt(a.doubleValue));return new w0(i)}convertGeoPoint(e){return new x0(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=ri(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);qe(xN(r));const s=new oc(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||ss(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nk extends ZN{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Uh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gu extends nk{data(e={}){return super.data(e)}}class kD{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gu(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Gu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new vl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Gu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new vl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:SD(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){t=fr(t,ln);const e=fr(t.firestore,la);return lD(v0(e),t._key).then(n=>jD(e,t,n))}class rk extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function hc(t){t=fr(t,gi);const e=fr(t.firestore,la),n=v0(e),r=new rk(e);return ED(t._query),cD(n,t._query).then(s=>new kD(e,r,t,s))}function fw(t,e,n){t=fr(t,ln);const r=fr(t.firestore,la),s=tk(t.converter,e,n);return $h(r,[KN(Lh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Wn.none())])}function po(t,e,n,...r){t=fr(t,ln);const s=fr(t.firestore,la),i=Lh(s);let a;return a=typeof(e=dt(e))=="string"||e instanceof Vh?xD(i,"updateDoc",t._key,e,n,r):yD(i,"updateDoc",t._key,e),$h(s,[a.toMutation(t._key,Wn.exists(!0))])}function TD(t){return $h(fr(t.firestore,la),[new n0(t._key,Wn.none())])}function Qa(t,e){const n=fr(t.firestore,la),r=$n(t),s=tk(t.converter,e);return $h(n,[KN(Lh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function $h(t,e){return function(r,s){const i=new Xr;return r.asyncQueue.enqueueAndForget(async()=>X5(await oD(r),s,i)),i.promise}(v0(t),e)}function jD(t,e,n){const r=n.docs.get(e._key),s=new rk(t);return new nk(t,s,e._key,r,new vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Io=s})(ia),Qi(new ti("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new la(new CR(r.getProvider("auth-internal")),new DR(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new se(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(d.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),jr(Tx,"4.7.3",e),jr(Tx,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="firebasestorage.googleapis.com",ik="storageBucket",ID=2*60*1e3,CD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends Or{constructor(e,n,r=0){super(Wf(e),`Firebase Storage: ${n} (${Wf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Wf(t){return"storage/"+t}function I0(){const t="An unknown error occurred, please check the error payload for server response.";return new ft(ht.UNKNOWN,t)}function AD(t){return new ft(ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function PD(t){return new ft(ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function RD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(ht.UNAUTHENTICATED,t)}function DD(){return new ft(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OD(t){return new ft(ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function MD(){return new ft(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VD(){return new ft(ht.CANCELED,"User canceled the upload/download.")}function LD(t){return new ft(ht.INVALID_URL,"Invalid URL '"+t+"'.")}function FD(t){return new ft(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UD(){return new ft(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ik+"' property when initializing the app?")}function zD(){return new ft(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $D(){return new ft(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BD(t){return new ft(ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gp(t){return new ft(ht.INVALID_ARGUMENT,t)}function ak(){return new ft(ht.APP_DELETED,"The Firebase app was deleted.")}function qD(t){return new ft(ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new ft(ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function el(t){throw new ft(ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(r.path==="")return r;throw FD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${h}/b/${s}/o${p}`,"i"),T={bucket:1,path:3},k=n===sk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",w=new RegExp(`^https?://${k}/${s}/${I}`,"i"),b=[{regex:l,indices:c,postModify:i},{regex:g,indices:T,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<b.length;P++){const R=b[P],O=R.regex.exec(e);if(O){const N=O[R.indices.bucket];let x=O[R.indices.path];x||(x=""),r=new Cn(N,x),R.postModify(r);break}}if(r==null)throw LD(e);return r}}class WD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let d=!1;function h(...I){d||(d=!0,e.apply(null,I))}function m(I){s=setTimeout(()=>{s=null,t(g,c())},I)}function p(){i&&clearTimeout(i)}function g(I,...w){if(d){p();return}if(I){p(),h.call(null,I,...w);return}if(c()||a){p(),h.call(null,I,...w);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,m(b)}let T=!1;function k(I){T||(T=!0,p(),!d&&(s!==null?(I||(l=2),clearTimeout(s),m(0)):I||(l=1)))}return m(0),i=setTimeout(()=>{a=!0,k(!0)},n),k}function GD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){return t!==void 0}function QD(t){return typeof t=="object"&&!Array.isArray(t)}function C0(t){return typeof t=="string"||t instanceof String}function mw(t){return A0()&&t instanceof Blob}function A0(){return typeof Blob<"u"}function pw(t,e,n,r){if(r<e)throw gp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ok(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Bi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bi||(Bi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,s,i,a,l,c,d,h,m,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,T)=>{this.resolve_=g,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new wu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===Bi.NO_ERROR,c=i.getStatus();if(!l||YD(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Bi.ABORT;r(!1,new wu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new wu(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());KD(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=I0();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?ak():VD();a(c)}else{const c=MD();a(c)}};this.canceled_?n(!1,new wu(!1,null,!0)):this.backoffId_=HD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ZD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nO(t,e,n,r,s,i,a=!0){const l=ok(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return eO(d,e),ZD(d,n),JD(d,i),tO(d,r),new XD(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sO(...t){const e=rO();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(A0())return new Blob(t);throw new ft(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){if(typeof atob>"u")throw BD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hf{constructor(e,n){this.data=e,this.contentType=n||null}}function oO(t,e){switch(t){case kr.RAW:return new Hf(lk(e));case kr.BASE64:case kr.BASE64URL:return new Hf(ck(t,e));case kr.DATA_URL:return new Hf(cO(e),uO(e))}throw I0()}function lk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function lO(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(kr.DATA_URL,"Malformed data URL.")}return lk(e)}function ck(t,e){switch(t){case kr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Rl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case kr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Rl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aO(e)}catch(s){throw s.message.includes("polyfill")?s:Rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class uk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=dO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function cO(t){const e=new uk(t);return e.base64?ck(kr.BASE64,e.rest):lO(e.rest)}function uO(t){return new uk(t).contentType}function dO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){let r=0,s="";mw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(mw(this.data_)){const r=this.data_,s=iO(r,e,n);return s===null?null:new As(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new As(r,!0)}}static getBlob(...e){if(A0()){const n=e.map(r=>r instanceof As?r.data_:r);return new As(sO.apply(null,n))}else{const n=e.map(a=>C0(a)?oO(kr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new As(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){let e;try{e=JSON.parse(t)}catch{return null}return QD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fO(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function hk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t,e){return e}class rn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||mO}}let bu=null;function pO(t){return!C0(t)||t.length<2?t:hk(t)}function fk(){if(bu)return bu;const t=[];t.push(new rn("bucket")),t.push(new rn("generation")),t.push(new rn("metageneration")),t.push(new rn("name","fullPath",!0));function e(i,a){return pO(a)}const n=new rn("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new rn("size");return s.xform=r,t.push(s),t.push(new rn("timeCreated")),t.push(new rn("updated")),t.push(new rn("md5Hash",null,!0)),t.push(new rn("cacheControl",null,!0)),t.push(new rn("contentDisposition",null,!0)),t.push(new rn("contentEncoding",null,!0)),t.push(new rn("contentLanguage",null,!0)),t.push(new rn("contentType",null,!0)),t.push(new rn("metadata","customMetadata",!0)),bu=t,bu}function gO(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Cn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function vO(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return gO(r,t),r}function mk(t,e,n){const r=dk(e);return r===null?null:vO(t,r,n)}function yO(t,e,n,r){const s=dk(e);if(s===null||!C0(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,m=t.fullPath,p="/b/"+a(h)+"/o/"+a(m),g=P0(p,n,r),T=ok({alt:"media",token:d});return g+T})[0]}function xO(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class pk{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){if(!t)throw I0()}function wO(t,e){function n(r,s){const i=mk(t,s,e);return gk(i!==null),i}return n}function bO(t,e){function n(r,s){const i=mk(t,s,e);return gk(i!==null),yO(i,s,t.host,t._protocol)}return n}function vk(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=DD():s=RD():n.getStatus()===402?s=PD(t.bucket):n.getStatus()===403?s=OD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function _O(t){const e=vk(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=AD(t.path)),i.serverResponse=s.serverResponse,i}return n}function EO(t,e,n){const r=e.fullServerUrl(),s=P0(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new pk(s,i,bO(t,n),a);return l.errorHandler=_O(e),l}function NO(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function kO(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NO(null,e)),r}function SO(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let P=0;P<2;P++)b=b+Math.random().toString().slice(2);return b}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const d=kO(e,r,s),h=xO(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",g=As.getBlob(m,r,p);if(g===null)throw zD();const T={name:d.fullPath},k=P0(i,t.host,t._protocol),I="POST",w=t.maxUploadRetryTime,y=new pk(k,I,wO(t,n),w);return y.urlParams=T,y.headers=a,y.body=g.uploadData(),y.errorHandler=vk(e),y}class TO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw el("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw el("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw el("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw el("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw el("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jO extends TO{initXhr(){this.xhr_.responseType="text"}}function yk(){return new jO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ta(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hk(this._location.path)}get storage(){return this._service}get parent(){const e=hO(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qD(e)}}function IO(t,e,n){t._throwIfRoot("uploadBytes");const r=SO(t.storage,t._location,fk(),new As(e,!0),n);return t.storage.makeRequestWithTokens(r,yk).then(s=>({metadata:s,ref:t}))}function CO(t){t._throwIfRoot("getDownloadURL");const e=EO(t.storage,t._location,fk());return t.storage.makeRequestWithTokens(e,yk).then(n=>{if(n===null)throw $D();return n})}function AO(t,e){const n=fO(t._location.path,e),r=new Cn(t._location.bucket,n);return new ta(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){return/^[A-Za-z]+:\/\//.test(t)}function RO(t,e){return new ta(t,e)}function xk(t,e){if(t instanceof R0){const n=t;if(n._bucket==null)throw UD();const r=new ta(n,n._bucket);return e!=null?xk(r,e):r}else return e!==void 0?AO(t,e):t}function DO(t,e){if(e&&PO(e)){if(t instanceof R0)return RO(t,e);throw gp("To use ref(service, url), the first argument must be a Storage instance.")}else return xk(t,e)}function gw(t,e){const n=e==null?void 0:e[ik];return n==null?null:Cn.makeFromBucketSpec(n,t)}function OO(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Q1(s,t.app.options.projectId))}class R0{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=sk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ID,this._maxUploadRetryTime=CD,this._requests=new Set,s!=null?this._bucket=Cn.makeFromBucketSpec(s,this._host):this._bucket=gw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=gw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ta(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new WD(ak());{const a=nO(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const vw="@firebase/storage",yw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="storage";function MO(t,e,n){return t=dt(t),IO(t,e,n)}function VO(t){return t=dt(t),CO(t)}function LO(t,e){return t=dt(t),DO(t,e)}function FO(t=Og(),e){t=dt(t);const r=_h(t,wk).getImmediate({identifier:e}),s=H1("storage");return s&&UO(r,...s),r}function UO(t,e,n,r={}){OO(t,e,n,r)}function zO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new R0(n,r,s,e,ia)}function $O(){Qi(new ti(wk,zO,"PUBLIC").setMultipleInstances(!0)),jr(vw,yw,""),jr(vw,yw,"esm2017")}$O();const BO={apiKey:"AIzaSyD9bcS2pNPKvmHTEWmyw4wpta9oHwdHfSQ",authDomain:"respect-pill.firebaseapp.com",projectId:"respect-pill",storageBucket:"respect-pill.firebasestorage.app",messagingSenderId:"1010603665326",appId:"1:1010603665326:web:bd4dab0f4edef85eb60a3f"},D0=Z1(BO),tl=SR(D0),ut=fD(D0),qO=FO(D0);async function WO(t,e,n){const r=t.name.split(".").pop(),s=`${Date.now()}.${r}`,i=`${e}/${n}/${s}`,a=LO(qO,i);return await MO(a,t),{url:await VO(a),path:i}}async function HO(t,e){if(!t.type.startsWith("image/"))throw new Error("Only image files are allowed for avatars");if(t.size>5*1024*1024)throw new Error("Avatar image must be less than 5MB");return(await WO(t,"avatars",e)).url}const yt=z1((t,e)=>({user:null,profile:null,loading:!0,initialized:!1,initialize:async()=>{try{mP(tl,async n=>{if(n){let r=null;try{const s=$n(ut,"profiles",n.uid),i=await hw(s);i.exists()&&(r={id:i.id,...i.data()})}catch(s){console.error("Failed to load profile (possibly offline):",s),r=null}t({user:{id:n.uid,email:n.email,name:n.displayName||"",avatar:(n.photoURL||r&&r.avatar)??null,emailVerified:n.emailVerified},profile:r,loading:!1,initialized:!0})}else t({user:null,profile:null,loading:!1,initialized:!0})})}catch(n){console.error("Auth initialization error:",n),t({loading:!1,initialized:!0})}},login:async(n,r)=>{await dP(tl,n,r)},loginWithGoogle:async()=>{const n=new $r,s=(await OP(tl,n)).user,i={userId:s.uid,name:s.displayName||"",avatar:s.photoURL||"",updatedAt:new Date().toISOString()};try{await fw($n(ut,"profiles",s.uid),i,{merge:!0})}catch(a){console.error("Failed to create or merge profile for Google sign-in",a)}},register:async(n,r,s)=>{const a=(await uP(tl,n,r)).user,l={userId:a.uid,name:s||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await fw($n(ut,"profiles",a.uid),l),t({user:{id:a.uid,email:a.email,name:s||"",emailVerified:a.emailVerified},profile:{id:a.uid,...l}})},logout:async()=>{await pP(tl),t({user:null,profile:null})},loadProfile:async n=>{try{const r=$n(ut,"profiles",n),s=await hw(r);if(s.exists()){const i={id:s.id,...s.data()};t({profile:i})}}catch(r){console.error("Failed to load profile in loadProfile:",r)}},updateProfile:async n=>{const{user:r,profile:s}=e();if(!r||!s)return;const i=$n(ut,"profiles",r.id);await po(i,{...n,updatedAt:new Date().toISOString()}),t({profile:{...s,...n}})},uploadAvatar:async n=>{const{user:r}=e();if(!r)throw new Error("User not authenticated");const s=await HO(n,r.id);await e().updateProfile({avatar:s})},saveDietPlan:async n=>{await e().updateProfile({dietPlan:n})},saveWorkoutPlan:async n=>{await e().updateProfile({workoutPlan:n})},saveFinancialData:async n=>{await e().updateProfile({financialData:n})},saveRelationalAudit:async n=>{await e().updateProfile({relationalAudit:n})}}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...d},h)=>M.createElement("svg",{ref:h,...GO,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${KO(t)}`,l].join(" "),...d},[...e.map(([m,p])=>M.createElement(m,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=fe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=fe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=fe("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=fe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=fe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=fe("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=fe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=fe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=fe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=fe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=fe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=fe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=fe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=fe("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=fe("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=fe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=fe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=fe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=fe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=fe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var yM=t=>{switch(t){case"success":return bM;case"info":return EM;case"warning":return _M;case"error":return NM;default:return null}},xM=Array(12).fill(0),wM=({visible:t,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},xM.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_M=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kM=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SM=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},wp=1,TM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:wp++,i=this.toasts.find(l=>l.id===s),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:n}),{...l,...t,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],$.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(IM(c)&&!c.ok){s=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:d,description:h})}else if(e.success!==void 0){s=!1;let d=typeof e.success=="function"?await e.success(c):e.success,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let d=typeof e.error=="function"?await e.error(c):e.error,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,d)=>a.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||wp++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},mn=new TM,jM=(t,e)=>{let n=(e==null?void 0:e.id)||wp++;return mn.addToast({title:t,...e,id:n}),n},IM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",CM=jM,AM=()=>mn.toasts,PM=()=>mn.getActiveToasts(),Ke=Object.assign(CM,{success:mn.success,info:mn.info,warning:mn.warning,error:mn.error,custom:mn.custom,message:mn.message,promise:mn.promise,dismiss:mn.dismiss,loading:mn.loading},{getHistory:AM,getToasts:PM});function RM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}RM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _u(t){return t.label!==void 0}var DM=3,OM="32px",MM="16px",Ew=4e3,VM=356,LM=14,FM=20,UM=200;function er(...t){return t.filter(Boolean).join(" ")}function zM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var $M=t=>{var e,n,r,s,i,a,l,c,d,h,m;let{invert:p,toast:g,unstyled:T,interacting:k,setHeights:I,visibleToasts:w,heights:y,index:b,toasts:P,expanded:R,removeToast:O,defaultRichColors:N,closeButton:x,style:E,cancelButtonStyle:_,actionButtonStyle:C,className:A="",descriptionClassName:j="",duration:ne,position:te,gap:me,loadingIcon:W,expandByDefault:q,classNames:F,icons:Y,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:ie}=t,[he,ke]=$.useState(null),[De,At]=$.useState(null),[je,ds]=$.useState(!1),[Yn,_n]=$.useState(!1),[Mn,pr]=$.useState(!1),[hs,fs]=$.useState(!1),[ms,bi]=$.useState(!1),[Ro,fa]=$.useState(0),[_i,D]=$.useState(0),L=$.useRef(g.duration||ne||Ew),z=$.useRef(null),J=$.useRef(null),X=b===0,K=b+1<=w,Z=g.type,ge=g.dismissible!==!1,Oe=g.className||"",Mt=g.descriptionClassName||"",Vn=$.useMemo(()=>y.findIndex(xe=>xe.toastId===g.id)||0,[y,g.id]),Ln=$.useMemo(()=>{var xe;return(xe=g.closeButton)!=null?xe:x},[g.closeButton,x]),gr=$.useMemo(()=>g.duration||ne||Ew,[g.duration,ne]),vr=$.useRef(0),En=$.useRef(0),ps=$.useRef(0),Xn=$.useRef(null),[Do,gs]=te.split("-"),Oo=$.useMemo(()=>y.reduce((xe,Me,We)=>We>=Vn?xe:xe+Me.height,0),[y,Vn]),Mo=SM(),Ei=g.invert||p,Ni=Z==="loading";En.current=$.useMemo(()=>Vn*me+Oo,[Vn,Oo]),$.useEffect(()=>{L.current=gr},[gr]),$.useEffect(()=>{ds(!0)},[]),$.useEffect(()=>{let xe=J.current;if(xe){let Me=xe.getBoundingClientRect().height;return D(Me),I(We=>[{toastId:g.id,height:Me,position:g.position},...We]),()=>I(We=>We.filter(Vt=>Vt.toastId!==g.id))}},[I,g.id]),$.useLayoutEffect(()=>{if(!je)return;let xe=J.current,Me=xe.style.height;xe.style.height="auto";let We=xe.getBoundingClientRect().height;xe.style.height=Me,D(We),I(Vt=>Vt.find(hn=>hn.toastId===g.id)?Vt.map(hn=>hn.toastId===g.id?{...hn,height:We}:hn):[{toastId:g.id,height:We,position:g.position},...Vt])},[je,g.title,g.description,I,g.id]);let Fn=$.useCallback(()=>{_n(!0),fa(En.current),I(xe=>xe.filter(Me=>Me.toastId!==g.id)),setTimeout(()=>{O(g)},UM)},[g,O,I,En]);$.useEffect(()=>{if(g.promise&&Z==="loading"||g.duration===1/0||g.type==="loading")return;let xe;return R||k||ie&&Mo?(()=>{if(ps.current<vr.current){let Me=new Date().getTime()-vr.current;L.current=L.current-Me}ps.current=new Date().getTime()})():L.current!==1/0&&(vr.current=new Date().getTime(),xe=setTimeout(()=>{var Me;(Me=g.onAutoClose)==null||Me.call(g,g),Fn()},L.current)),()=>clearTimeout(xe)},[R,k,g,Z,ie,Mo,Fn]),$.useEffect(()=>{g.delete&&Fn()},[Fn,g.delete]);function Mr(){var xe,Me,We;return Y!=null&&Y.loading?$.createElement("div",{className:er(F==null?void 0:F.loader,(xe=g==null?void 0:g.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":Z==="loading"},Y.loading):W?$.createElement("div",{className:er(F==null?void 0:F.loader,(Me=g==null?void 0:g.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Z==="loading"},W):$.createElement(wM,{className:er(F==null?void 0:F.loader,(We=g==null?void 0:g.classNames)==null?void 0:We.loader),visible:Z==="loading"})}return $.createElement("li",{tabIndex:0,ref:J,className:er(A,Oe,F==null?void 0:F.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Z],(n=g==null?void 0:g.classNames)==null?void 0:n[Z]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:N,"data-styled":!(g.jsx||g.unstyled||T),"data-mounted":je,"data-promise":!!g.promise,"data-swiped":ms,"data-removed":Yn,"data-visible":K,"data-y-position":Do,"data-x-position":gs,"data-index":b,"data-front":X,"data-swiping":Mn,"data-dismissible":ge,"data-type":Z,"data-invert":Ei,"data-swipe-out":hs,"data-swipe-direction":De,"data-expanded":!!(R||q&&je),style:{"--index":b,"--toasts-before":b,"--z-index":P.length-b,"--offset":`${Yn?Ro:En.current}px`,"--initial-height":q?"auto":`${_i}px`,...E,...g.style},onDragEnd:()=>{pr(!1),ke(null),Xn.current=null},onPointerDown:xe=>{Ni||!ge||(z.current=new Date,fa(En.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(pr(!0),Xn.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Me,We,Vt;if(hs||!ge)return;Xn.current=null;let hn=Number(((xe=J.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),et=Number(((Me=J.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yr=new Date().getTime()-((We=z.current)==null?void 0:We.getTime()),Lt=he==="x"?hn:et,fn=Math.abs(Lt)/yr;if(Math.abs(Lt)>=FM||fn>.11){fa(En.current),(Vt=g.onDismiss)==null||Vt.call(g,g),At(he==="x"?hn>0?"right":"left":et>0?"down":"up"),Fn(),fs(!0),bi(!1);return}pr(!1),ke(null)},onPointerMove:xe=>{var Me,We,Vt,hn;if(!Xn.current||!ge||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;let et=xe.clientY-Xn.current.y,yr=xe.clientX-Xn.current.x,Lt=(We=t.swipeDirections)!=null?We:zM(te);!he&&(Math.abs(yr)>1||Math.abs(et)>1)&&ke(Math.abs(yr)>Math.abs(et)?"x":"y");let fn={x:0,y:0};he==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&et<0||Lt.includes("bottom")&&et>0)&&(fn.y=et):he==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&yr<0||Lt.includes("right")&&yr>0)&&(fn.x=yr),(Math.abs(fn.x)>0||Math.abs(fn.y)>0)&&bi(!0),(Vt=J.current)==null||Vt.style.setProperty("--swipe-amount-x",`${fn.x}px`),(hn=J.current)==null||hn.style.setProperty("--swipe-amount-y",`${fn.y}px`)}},Ln&&!g.jsx?$.createElement("button",{"aria-label":le,"data-disabled":Ni,"data-close-button":!0,onClick:Ni||!ge?()=>{}:()=>{var xe;Fn(),(xe=g.onDismiss)==null||xe.call(g,g)},className:er(F==null?void 0:F.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:kM):null,g.jsx||M.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:$.createElement($.Fragment,null,Z||g.icon||g.promise?$.createElement("div",{"data-icon":"",className:er(F==null?void 0:F.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Mr():null,g.type!=="loading"?g.icon||(Y==null?void 0:Y[Z])||yM(Z):null):null,$.createElement("div",{"data-content":"",className:er(F==null?void 0:F.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},$.createElement("div",{"data-title":"",className:er(F==null?void 0:F.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?$.createElement("div",{"data-description":"",className:er(j,Mt,F==null?void 0:F.description,(d=g==null?void 0:g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),M.isValidElement(g.cancel)?g.cancel:g.cancel&&_u(g.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||_,onClick:xe=>{var Me,We;_u(g.cancel)&&ge&&((We=(Me=g.cancel).onClick)==null||We.call(Me,xe),Fn())},className:er(F==null?void 0:F.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,M.isValidElement(g.action)?g.action:g.action&&_u(g.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||C,onClick:xe=>{var Me,We;_u(g.action)&&((We=(Me=g.action).onClick)==null||We.call(Me,xe),!xe.defaultPrevented&&Fn())},className:er(F==null?void 0:F.actionButton,(m=g==null?void 0:g.classNames)==null?void 0:m.actionButton)},g.action.label):null))};function Nw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function BM(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?MM:OM;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}var qM=M.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:d,theme:h="light",richColors:m,duration:p,style:g,visibleToasts:T=DM,toastOptions:k,dir:I=Nw(),gap:w=LM,loadingIcon:y,icons:b,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:R}=t,[O,N]=$.useState([]),x=$.useMemo(()=>Array.from(new Set([r].concat(O.filter(ie=>ie.position).map(ie=>ie.position)))),[O,r]),[E,_]=$.useState([]),[C,A]=$.useState(!1),[j,ne]=$.useState(!1),[te,me]=$.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=$.useRef(null),q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=$.useRef(null),Y=$.useRef(!1),le=$.useCallback(ie=>{N(he=>{var ke;return(ke=he.find(De=>De.id===ie.id))!=null&&ke.delete||mn.dismiss(ie.id),he.filter(({id:De})=>De!==ie.id)})},[]);return $.useEffect(()=>mn.subscribe(ie=>{if(ie.dismiss){N(he=>he.map(ke=>ke.id===ie.id?{...ke,delete:!0}:ke));return}setTimeout(()=>{rj.flushSync(()=>{N(he=>{let ke=he.findIndex(De=>De.id===ie.id);return ke!==-1?[...he.slice(0,ke),{...he[ke],...ie},...he.slice(ke+1)]:[ie,...he]})})})}),[]),$.useEffect(()=>{if(h!=="system"){me(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:he})=>{me(he?"dark":"light")})}catch{ie.addListener(({matches:ke})=>{try{me(ke?"dark":"light")}catch(De){console.error(De)}})}},[h]),$.useEffect(()=>{O.length<=1&&A(!1)},[O]),$.useEffect(()=>{let ie=he=>{var ke,De;s.every(At=>he[At]||he.code===At)&&(A(!0),(ke=W.current)==null||ke.focus()),he.code==="Escape"&&(document.activeElement===W.current||(De=W.current)!=null&&De.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[s]),$.useEffect(()=>{if(W.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,Y.current=!1)}},[W.current]),$.createElement("section",{ref:e,"aria-label":`${P} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((ie,he)=>{var ke;let[De,At]=ie.split("-");return O.length?$.createElement("ol",{key:ie,dir:I==="auto"?Nw():I,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":De,"data-lifted":C&&O.length>1&&!i,"data-x-position":At,style:{"--front-toast-height":`${((ke=E[0])==null?void 0:ke.height)||0}px`,"--width":`${VM}px`,"--gap":`${w}px`,...g,...BM(c,d)},onBlur:je=>{Y.current&&!je.currentTarget.contains(je.relatedTarget)&&(Y.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,F.current=je.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{j||A(!1)},onDragEnd:()=>A(!1),onPointerDown:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},O.filter(je=>!je.position&&he===0||je.position===ie).map((je,ds)=>{var Yn,_n;return $.createElement($M,{key:je.id,icons:b,index:ds,toast:je,defaultRichColors:m,duration:(Yn=k==null?void 0:k.duration)!=null?Yn:p,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:n,visibleToasts:T,closeButton:(_n=k==null?void 0:k.closeButton)!=null?_n:a,interacting:j,position:ie,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:le,toasts:O.filter(Mn=>Mn.position==je.position),heights:E.filter(Mn=>Mn.position==je.position),setHeights:_,expandByDefault:i,gap:w,loadingIcon:y,expanded:C,pauseWhenPageIsHidden:R,swipeDirections:t.swipeDirections})})):null}))});const WM=[{name:"Dashboard",path:"/app/dashboard",icon:ZO,color:"text-primary-400",bgColor:"bg-primary-500/10",hoverBg:"hover:bg-primary-500/20",border:"border-primary-500"},{name:"Corpo",path:"/app/corpo",icon:Ku,color:"text-red-400",bgColor:"bg-red-500/10",hoverBg:"hover:bg-red-500/20",border:"border-red-500"},{name:"Mente",path:"/app/mente",icon:Ya,color:"text-accent-400",bgColor:"bg-accent-500/10",hoverBg:"hover:bg-accent-500/20",border:"border-accent-500"},{name:"Postura e Presena",path:"/app/postura",icon:ii,color:"text-success-400",bgColor:"bg-success-500/10",hoverBg:"hover:bg-success-500/20",border:"border-success-500"},{name:"Vida Afetiva",path:"/app/vida-afetiva",icon:Xa,color:"text-pink-400",bgColor:"bg-pink-500/10",hoverBg:"hover:bg-pink-500/20",border:"border-pink-500"},{name:"Sexualidade",path:"/app/sexualidade",icon:yp,color:"text-orange-400",bgColor:"bg-orange-500/10",hoverBg:"hover:bg-orange-500/20",border:"border-orange-500"},{name:"Disciplina e Rotina",path:"/app/disciplina",icon:cs,color:"text-indigo-400",bgColor:"bg-indigo-500/10",hoverBg:"hover:bg-indigo-500/20",border:"border-indigo-500"},{name:"Propsito de Vida",path:"/app/carreira",icon:bk,color:"text-cyan-400",bgColor:"bg-cyan-500/10",hoverBg:"hover:bg-cyan-500/20",border:"border-cyan-500"},{name:"Desafios",path:"/app/challenges",icon:jk,color:"text-yellow-400",bgColor:"bg-yellow-500/10",hoverBg:"hover:bg-yellow-500/20",border:"border-yellow-500"},{name:"Arsenal",path:"/app/tools",icon:Ik,color:"text-cobalt-400",bgColor:"bg-cobalt-500/10",hoverBg:"hover:bg-cobalt-500/20",border:"border-cobalt-500"},{name:"Comunidade",path:"/app/community",icon:ii,color:"text-zinc-400",bgColor:"bg-zinc-500/10",hoverBg:"hover:bg-zinc-500/20",border:"border-zinc-500"}];function HM(){const{user:t,profile:e,logout:n}=yt(),r=xh(),s=To(),[i,a]=M.useState(!1),l=async()=>{try{await n(),Ke.success("Logout realizado com sucesso"),r("/login")}catch{Ke.error("Erro ao fazer logout")}};return o.jsxs("div",{className:"min-h-screen bg-dark-900",children:[o.jsx("header",{className:"bg-dark-850/80 backdrop-blur-xl border-b border-white/10 fixed top-0 left-0 right-0 z-20 shadow-lg shadow-black/20",children:o.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>a(!i),className:"lg:hidden text-zinc-400 hover:text-white p-2 transition-colors rounded-lg hover:bg-white/5",children:i?o.jsx(us,{className:"h-6 w-6"}):o.jsx(oM,{className:"h-6 w-6"})}),o.jsx(zi,{to:"/app/dashboard",className:"text-lg sm:text-xl font-bold text-white tracking-tight gradient-text",children:"Respect Pill"})]}),o.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{className:"flex items-center space-x-2 text-zinc-300 hover:text-white px-3 py-2 rounded-lg transition-all hover:bg-white/5",children:[t!=null&&t.avatar||e!=null&&e.avatar?o.jsx("img",{src:(t==null?void 0:t.avatar)||(e==null?void 0:e.avatar),alt:(t==null?void 0:t.name)||(e==null?void 0:e.name)||"Avatar",className:"h-7 w-7 rounded-full object-cover border border-white/10"}):o.jsx(xp,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:(t==null?void 0:t.name)||(e==null?void 0:e.name)||"Usurio"})]}),o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 rounded-xl border border-white/10 shadow-2xl py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[o.jsxs(zi,{to:"/app/settings",className:"flex items-center space-x-2 px-4 py-3 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors rounded-lg mx-1",children:[o.jsx(dM,{className:"h-4 w-4"}),o.jsx("span",{children:"Configuraes"})]}),o.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-4 py-3 text-sm text-zinc-300 hover:bg-white/5 hover:text-white w-full text-left transition-colors rounded-lg mx-1",children:[o.jsx(iM,{className:"h-4 w-4"}),o.jsx("span",{children:"Sair"})]})]})]})})]})})}),o.jsxs("div",{className:"flex pt-16",children:[i&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-30 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),o.jsx("aside",{className:`
          w-64 bg-dark-850/50 backdrop-blur-xl border-r border-white/10 min-h-screen fixed left-0 top-16 overflow-y-auto z-30 transition-transform duration-300 ease-in-out
          lg:translate-x-0
          ${i?"translate-x-0":"-translate-x-full"}
        `,children:o.jsx("nav",{className:"p-4 space-y-2",children:WM.map(c=>{const d=c.icon,h=s.pathname===c.path;return o.jsxs(zi,{to:c.path,onClick:()=>a(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all border-l-4 ${h?`${c.bgColor} ${c.color} ${c.border} font-semibold shadow-lg shadow-${c.color.split("-")[1]}/10`:`text-zinc-400 hover:text-white ${c.hoverBg} border-transparent hover:border-zinc-700`}`,children:[o.jsx(d,{className:`h-5 w-5 ${h?c.color:"text-zinc-500"}`}),o.jsx("span",{className:"text-sm font-medium",children:c.name})]},c.path)})})}),o.jsx("main",{className:"flex-1 lg:ml-64 p-4 sm:p-6 lg:p-8 bg-dark-900",children:o.jsx(Yj,{})})]})]})}const vi=z1((t,e)=>({trackers:[],plans:[],currentPlan:null,loading:!1,loadTrackers:async(n,r,s)=>{try{t({loading:!0});const i=sr(ut,"trackers");let a=Vs(i,Kr("userId","==",n));r&&(a=Vs(a,Kr("date",">=",r))),s&&(a=Vs(a,Kr("date","<=",s)));const l=await hc(a),c=[];l.forEach(d=>{const h=d.data();c.push({id:d.id,userId:h.userId,type:h.type,date:h.date,value:h.value,metadata:h.metadata||{},createdAt:h.createdAt,updatedAt:h.updatedAt})}),t({trackers:c,loading:!1})}catch(i){console.error("Load trackers error:",i),t({loading:!1})}},loadPlans:async n=>{try{const r=sr(ut,"plans"),s=Vs(r,Kr("userId","==",n),Ud("createdAt","desc")),i=await hc(s),a=[];i.forEach(c=>{const d=c.data();a.push({id:c.id,userId:d.userId,title:d.title,description:d.description,duration:d.duration,pillars:d.pillars||[],objectives:d.objectives||[],dailyTasks:d.dailyTasks||[],status:d.status,startDate:d.startDate,endDate:d.endDate,progress:d.progress||0,createdAt:d.createdAt,updatedAt:d.updatedAt})});const l=a.find(c=>c.status==="active")||null;t({plans:a,currentPlan:l})}catch(r){console.error("Load plans error:",r)}},createTracker:async n=>{try{const r=new Date().toISOString(),s={...n,createdAt:r,updatedAt:r},a={id:(await Qa(sr(ut,"trackers"),s)).id,...s};t(l=>({trackers:[...l.trackers,a]}))}catch(r){throw console.error("Create tracker error:",r),r}},updateTracker:async(n,r)=>{try{const s=new Date().toISOString(),i={...r,updatedAt:s},a=$n(ut,"trackers",n);await po(a,i),t(l=>({trackers:l.trackers.map(c=>c.id===n?{...c,...i}:c)}))}catch(s){throw console.error("Update tracker error:",s),s}},deleteTracker:async n=>{try{await TD($n(ut,"trackers",n)),t(r=>({trackers:r.trackers.filter(s=>s.id!==n)}))}catch(r){throw console.error("Delete tracker error:",r),r}},createPlan:async(n,r)=>{try{const s=new Date().toISOString(),i={userId:n,...r,status:"active",progress:0,startDate:s,endDate:new Date(Date.now()+r.duration*24*60*60*1e3).toISOString(),createdAt:s,updatedAt:s},l={id:(await Qa(sr(ut,"plans"),i)).id,...i};return t(c=>({plans:[l,...c.plans],currentPlan:l})),l}catch(s){throw console.error("Create plan error:",s),s}},updatePlanProgress:async(n,r)=>{try{const s=$n(ut,"plans",n);await po(s,{progress:r}),t(i=>{var a;return{plans:i.plans.map(l=>l.id===n?{...l,progress:r}:l),currentPlan:((a=i.currentPlan)==null?void 0:a.id)===n?{...i.currentPlan,progress:r}:i.currentPlan}})}catch(s){throw console.error("Update plan progress error:",s),s}},getStreak:async(n,r)=>{const{trackers:s}=e(),i=s.filter(d=>d.userId===n&&d.type===r);if(i.length===0)return 0;const a=i.sort((d,h)=>new Date(h.date).getTime()-new Date(d.date).getTime());let l=0;const c=new Date;c.setHours(0,0,0,0);for(let d=0;d<a.length;d++){const h=new Date(a[d].date);h.setHours(0,0,0,0);const m=new Date(c);if(m.setDate(m.getDate()-d),h.getTime()===m.getTime())l++;else break}return l},saveTrackerValue:async(n,r,s,i)=>{try{const{trackers:a,updateTracker:l,createTracker:c}=e(),d=a.find(h=>h.userId===n&&h.date===r&&h.type===s);d?await l(d.id,{value:i}):await c({userId:n,type:s,date:r,value:i,metadata:{}})}catch(a){throw console.error("Save tracker value error:",a),a}},exportTrackers:async(n,r)=>{const{trackers:s}=e(),i=s.filter(a=>a.userId===n);if(r==="json")return JSON.stringify(i,null,2);{const a=["Date","Type","Value","Created At"],l=i.map(c=>[c.date,c.type,JSON.stringify(c.value),c.createdAt]);return[a,...l].map(c=>c.join(",")).join(`
`)}}}));function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function mr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Pe(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ae(t){Pe(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||qd(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ck(t,e){Pe(2,arguments);var n=Ae(t),r=mr(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function GM(t,e){Pe(2,arguments);var n=Ae(t).getTime(),r=mr(e);return new Date(n+r)}var KM={};function ua(){return KM}function yi(t,e){var n,r,s,i,a,l,c,d;Pe(1,arguments);var h=ua(),m=mr((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ae(t),g=p.getDay(),T=(g<m?7:0)+g-m;return p.setDate(p.getDate()-T),p.setHours(0,0,0,0),p}function mc(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Wd(t){Pe(1,arguments);var e=Ae(t);return e.setHours(0,0,0,0),e}var QM=864e5;function YM(t,e){Pe(2,arguments);var n=Wd(t),r=Wd(e),s=n.getTime()-mc(n),i=r.getTime()-mc(r);return Math.round((s-i)/QM)}function Yu(t,e){Pe(2,arguments);var n=Ae(t),r=Ae(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function cn(t,e){Pe(2,arguments);var n=Wd(t),r=Wd(e);return n.getTime()===r.getTime()}function XM(t){return Pe(1,arguments),t instanceof Date||qd(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ZM(t){if(Pe(1,arguments),!XM(t)&&typeof t!="number")return!1;var e=Ae(t);return!isNaN(Number(e))}function JM(t,e){Pe(2,arguments);var n=Ae(t),r=Ae(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function kw(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function eV(t,e){Pe(2,arguments);var n=Ae(t),r=Ae(e),s=kw(n,r),i=Math.abs(YM(n,r));n.setDate(n.getDate()-s*i);var a=+(kw(n,r)===-s),l=s*(i-a);return l===0?0:l}function tV(t,e){return Pe(2,arguments),Ae(t).getTime()-Ae(e).getTime()}var nV={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},rV="trunc";function sV(t){return nV[rV]}function iV(t){Pe(1,arguments);var e=Ae(t);return e.setHours(23,59,59,999),e}function aV(t){Pe(1,arguments);var e=Ae(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function oV(t){Pe(1,arguments);var e=Ae(t);return iV(e).getTime()===aV(e).getTime()}function lV(t,e){Pe(2,arguments);var n=Ae(t),r=Ae(e),s=Yu(n,r),i=Math.abs(JM(n,r)),a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var l=Yu(n,r)===-s;oV(Ae(t))&&i===1&&Yu(t,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function cV(t,e,n){Pe(2,arguments);var r=tV(t,e)/1e3;return sV()(r)}function xi(t,e){var n;Pe(1,arguments);var r=t||{},s=Ae(r.start),i=Ae(r.end),a=i.getTime();if(!(s.getTime()<=a))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var d=Number((n=void 0)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)l.push(Ae(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}function wi(t,e){var n,r,s,i,a,l,c,d;Pe(1,arguments);var h=ua(),m=mr((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ae(t),g=p.getDay(),T=(g<m?-7:0)+6-(g-m);return p.setDate(p.getDate()+T),p.setHours(23,59,59,999),p}function uV(t,e){Pe(2,arguments);var n=mr(e);return GM(t,-n)}var dV=864e5;function hV(t){Pe(1,arguments);var e=Ae(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/dV)+1}function Hd(t){Pe(1,arguments);var e=1,n=Ae(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function Ak(t){Pe(1,arguments);var e=Ae(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Hd(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=Hd(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function fV(t){Pe(1,arguments);var e=Ak(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Hd(n);return r}var mV=6048e5;function pV(t){Pe(1,arguments);var e=Ae(t),n=Hd(e).getTime()-fV(e).getTime();return Math.round(n/mV)+1}function Gd(t,e){var n,r,s,i,a,l,c,d;Pe(1,arguments);var h=ua(),m=mr((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ae(t),g=p.getUTCDay(),T=(g<m?7:0)+g-m;return p.setUTCDate(p.getUTCDate()-T),p.setUTCHours(0,0,0,0),p}function Pk(t,e){var n,r,s,i,a,l,c,d;Pe(1,arguments);var h=Ae(t),m=h.getUTCFullYear(),p=ua(),g=mr((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(m+1,0,g),T.setUTCHours(0,0,0,0);var k=Gd(T,e),I=new Date(0);I.setUTCFullYear(m,0,g),I.setUTCHours(0,0,0,0);var w=Gd(I,e);return h.getTime()>=k.getTime()?m+1:h.getTime()>=w.getTime()?m:m-1}function gV(t,e){var n,r,s,i,a,l,c,d;Pe(1,arguments);var h=ua(),m=mr((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Pk(t,e),g=new Date(0);g.setUTCFullYear(p,0,m),g.setUTCHours(0,0,0,0);var T=Gd(g,e);return T}var vV=6048e5;function yV(t,e){Pe(1,arguments);var n=Ae(t),r=Gd(n,e).getTime()-gV(n,e).getTime();return Math.round(r/vV)+1}function $e(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var _s={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return $e(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$e(r+1,2)},d:function(e,n){return $e(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $e(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $e(e.getUTCHours(),n.length)},m:function(e,n){return $e(e.getUTCMinutes(),n.length)},s:function(e,n){return $e(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return $e(i,n.length)}},xa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xV={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return _s.y(e,n)},Y:function(e,n,r,s){var i=Pk(e,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return $e(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):$e(a,n.length)},R:function(e,n){var r=Ak(e);return $e(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $e(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return $e(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return _s.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=yV(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):$e(i,n.length)},I:function(e,n,r){var s=pV(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):$e(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):_s.d(e,n)},D:function(e,n,r){var s=hV(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return $e(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return $e(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return $e(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=xa.noon:s===0?i=xa.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=xa.evening:s>=12?i=xa.afternoon:s>=4?i=xa.morning:i=xa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return _s.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):_s.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):_s.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):_s.s(e,n)},S:function(e,n){return _s.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Tw(a);case"XXXX":case"XX":return Pi(a);case"XXXXX":case"XXX":default:return Pi(a,":")}},x:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"x":return Tw(a);case"xxxx":case"xx":return Pi(a);case"xxxxx":case"xxx":default:return Pi(a,":")}},O:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Sw(a,":");case"OOOO":default:return"GMT"+Pi(a,":")}},z:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Sw(a,":");case"zzzz":default:return"GMT"+Pi(a,":")}},t:function(e,n,r,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return $e(a,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,a=i.getTime();return $e(a,n.length)}};function Sw(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=e;return n+String(s)+a+$e(i,2)}function Tw(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$e(Math.abs(t)/60,2)}return Pi(t,e)}function Pi(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=$e(Math.floor(s/60),2),a=$e(s%60,2);return r+i+n+a}var jw=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Rk=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},wV=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return jw(e,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",jw(s,n)).replace("{{time}}",Rk(i,n))},bV={p:Rk,P:wV},_V=["D","DD"],EV=["YY","YYYY"];function NV(t){return _V.indexOf(t)!==-1}function kV(t){return EV.indexOf(t)!==-1}function Iw(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var SV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TV=function(e,n,r){var s,i=SV[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Za(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var jV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AV={date:Za({formats:jV,defaultWidth:"full"}),time:Za({formats:IV,defaultWidth:"full"}),dateTime:Za({formats:CV,defaultWidth:"full"})},PV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RV=function(e,n,r,s){return PV[e]};function Er(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var d=t.argumentCallback?t.argumentCallback(e):e;return s[d]}}var DV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UV=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zV={ordinalNumber:UV,era:Er({values:DV,defaultWidth:"wide"}),quarter:Er({values:OV,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Er({values:MV,defaultWidth:"wide"}),day:Er({values:VV,defaultWidth:"wide"}),dayPeriod:Er({values:LV,defaultWidth:"wide",formattingValues:FV,defaultFormattingWidth:"wide"})};function Nr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?BV(l,function(m){return m.test(a)}):$V(l,function(m){return m.test(a)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var h=e.slice(a.length);return{value:d,rest:h}}}function $V(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function BV(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Dk(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=e.slice(s.length);return{value:a,rest:l}}}var qV=/^(\d+)(th|st|nd|rd)?/i,WV=/\d+/i,HV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GV={any:[/^b/i,/^(a|c)/i]},KV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QV={any:[/1/i,/2/i,/3/i,/4/i]},YV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},e3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},t3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},n3={ordinalNumber:Dk({matchPattern:qV,parsePattern:WV,valueCallback:function(e){return parseInt(e,10)}}),era:Nr({matchPatterns:HV,defaultMatchWidth:"wide",parsePatterns:GV,defaultParseWidth:"any"}),quarter:Nr({matchPatterns:KV,defaultMatchWidth:"wide",parsePatterns:QV,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Nr({matchPatterns:YV,defaultMatchWidth:"wide",parsePatterns:XV,defaultParseWidth:"any"}),day:Nr({matchPatterns:ZV,defaultMatchWidth:"wide",parsePatterns:JV,defaultParseWidth:"any"}),dayPeriod:Nr({matchPatterns:e3,defaultMatchWidth:"any",parsePatterns:t3,defaultParseWidth:"any"})},Ok={code:"en-US",formatDistance:TV,formatLong:AV,formatRelative:RV,localize:zV,match:n3,options:{weekStartsOn:0,firstWeekContainsDate:1}},r3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i3=/^'([^]*?)'?$/,a3=/''/g,o3=/[a-zA-Z]/;function ye(t,e,n){var r,s,i,a,l,c,d,h,m,p,g,T,k,I,w,y,b,P;Pe(2,arguments);var R=String(e),O=ua(),N=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:O.locale)!==null&&r!==void 0?r:Ok,x=mr((i=(a=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:O.firstWeekContainsDate)!==null&&a!==void 0?a:(m=O.locale)===null||m===void 0||(p=m.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=mr((g=(T=(k=(I=n==null?void 0:n.weekStartsOn)!==null&&I!==void 0?I:n==null||(w=n.locale)===null||w===void 0||(y=w.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&k!==void 0?k:O.weekStartsOn)!==null&&T!==void 0?T:(b=O.locale)===null||b===void 0||(P=b.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&g!==void 0?g:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var _=Ae(t);if(!ZM(_))throw new RangeError("Invalid time value");var C=mc(_),A=uV(_,C),j={firstWeekContainsDate:x,weekStartsOn:E,locale:N,_originalDate:_},ne=R.match(s3).map(function(te){var me=te[0];if(me==="p"||me==="P"){var W=bV[me];return W(te,N.formatLong)}return te}).join("").match(r3).map(function(te){if(te==="''")return"'";var me=te[0];if(me==="'")return l3(te);var W=xV[me];if(W)return!(n!=null&&n.useAdditionalWeekYearTokens)&&kV(te)&&Iw(te,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&NV(te)&&Iw(te,e,String(t)),W(A,te,N.localize,j);if(me.match(o3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+me+"`");return te}).join("");return ne}function l3(t){var e=t.match(i3);return e?e[1].replace(a3,"'"):t}function Mk(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function c3(t){return Mk({},t)}var Cw=1440,u3=2520,Gf=43200,d3=86400;function h3(t,e,n){var r,s;Pe(2,arguments);var i=ua(),a=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:i.locale)!==null&&r!==void 0?r:Ok;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Yu(t,e);if(isNaN(l))throw new RangeError("Invalid time value");var c=Mk(c3(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:l}),d,h;l>0?(d=Ae(e),h=Ae(t)):(d=Ae(t),h=Ae(e));var m=cV(h,d),p=(mc(h)-mc(d))/1e3,g=Math.round((m-p)/60),T;if(g<2)return n!=null&&n.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,c):m<10?a.formatDistance("lessThanXSeconds",10,c):m<20?a.formatDistance("lessThanXSeconds",20,c):m<40?a.formatDistance("halfAMinute",0,c):m<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):g===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",g,c);if(g<45)return a.formatDistance("xMinutes",g,c);if(g<90)return a.formatDistance("aboutXHours",1,c);if(g<Cw){var k=Math.round(g/60);return a.formatDistance("aboutXHours",k,c)}else{if(g<u3)return a.formatDistance("xDays",1,c);if(g<Gf){var I=Math.round(g/Cw);return a.formatDistance("xDays",I,c)}else if(g<d3)return T=Math.round(g/Gf),a.formatDistance("aboutXMonths",T,c)}if(T=lV(h,d),T<12){var w=Math.round(g/Gf);return a.formatDistance("xMonths",w,c)}else{var y=T%12,b=Math.floor(T/12);return y<3?a.formatDistance("aboutXYears",b,c):y<9?a.formatDistance("overXYears",b,c):a.formatDistance("almostXYears",b+1,c)}}function bp(t,e){return Pe(1,arguments),h3(t,Date.now(),e)}function f3(t){return Pe(1,arguments),cn(t,Date.now())}function da(t,e){Pe(2,arguments);var n=mr(e);return Ck(t,-n)}const Aw=[{text:"A disciplina  a ponte entre metas e realizaes.",author:"Jim Rohn"},{text:"O que fazemos na vida ecoa na eternidade.",author:"Maximus"},{text:"A dor  temporria. A glria  eterna.",author:"Desconhecido"},{text:"No conte os dias, faa os dias contarem.",author:"Muhammad Ali"},{text:"Seja a mudana que voc quer ver no mundo.",author:"Mahatma Gandhi"}];function m3(){const t=Math.floor((Date.now()-new Date(new Date().getFullYear(),0,0).getTime())/1e3/60/60/24),e=Aw[t%Aw.length];return o.jsxs("div",{className:"bg-dark-850 p-6 border border-white/10 relative overflow-hidden group hover:border-gold-500/30 transition-all duration-500",children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(lM,{className:"h-16 w-16 text-gold-500"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx("div",{className:"h-px w-8 bg-gold-500"}),o.jsx("span",{className:"text-xs font-bold text-gold-500 uppercase tracking-widest",children:"Aforismo do Dia"})]}),o.jsx("blockquote",{className:"mb-4",children:o.jsxs("p",{className:"text-xl font-light text-white italic leading-relaxed",children:['"',e.text,'"']})}),o.jsxs("cite",{className:"text-sm text-zinc-400 font-normal not-italic",children:[" ",e.author]})]})]})}function p3({days:t,type:e="porn"}){const n=()=>{switch(e){case"porn":return"Sem Pornografia";case"alcohol":return"Sem lcool";case"drugs":return"Sem Drogas";default:return"Dias Limpos"}};return o.jsxs("div",{className:"bg-dark-850 p-6 border border-white/10 hover:border-cobalt-500/30 transition-all duration-300 group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(V0,{className:"h-5 w-5 text-cobalt-400"}),o.jsx("span",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:n()})]}),t>0&&o.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-500",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{children:"Ativo"})]})]}),o.jsxs("div",{className:"flex items-end space-x-2",children:[o.jsx("span",{className:"text-4xl font-light text-white tracking-tighter",children:t}),o.jsx("span",{className:"text-sm text-zinc-500 mb-1 font-light uppercase tracking-wide",children:t===1?"Dia":"Dias"})]}),o.jsx("div",{className:"mt-4 w-full bg-dark-900 h-1 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-cobalt-600 to-cobalt-400 transition-all duration-1000 ease-out",style:{width:`${Math.min(t,90)/90*100}%`}})}),o.jsx("p",{className:"mt-2 text-xs text-zinc-600 text-right",children:"Meta: 90 dias"})]})}function g3(){var I;const{user:t}=yt(),{currentPlan:e,trackers:n,loadTrackers:r,loadPlans:s,getStreak:i}=vi();M.useEffect(()=>{t&&(r(t.id),s(t.id))},[t,r,s]);const[a,l]=M.useState({workout:0,reading:0,sleep:0}),c=new Date,d=yi(c,{weekStartsOn:1}),h=wi(c,{weekStartsOn:1}),m=xi({start:d,end:h}),p=n.filter(w=>w.date===ye(c,"yyyy-MM-dd")),g=p.filter(w=>{var y;return(y=w.value)==null?void 0:y.completed}).length,T=p.length;M.useEffect(()=>{let w=!0;async function y(){if(!t){w&&l({workout:0,reading:0,sleep:0});return}try{const[b,P,R]=await Promise.all([i(t.id,"workout"),i(t.id,"reading"),i(t.id,"sleep")]);w&&l({workout:b,reading:P,sleep:R})}catch(b){console.error("Error fetching streaks",b)}}return y(),()=>{w=!1}},[t,i]);const k=w=>{const b=n.filter(P=>P.type===w).filter(P=>{var R;return(R=P.value)==null?void 0:R.completed}).length;return T>0?Math.round(b/Math.max(T,1)*100):0};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-stretch",children:[o.jsxs("div",{className:"flex-1 bg-gradient-to-br from-dark-800 to-dark-900 rounded-2xl p-8 border border-white/5 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:o.jsx(Bd,{className:"h-32 w-32 text-white"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Comando Central"}),o.jsx("p",{className:"text-zinc-400 mb-6 max-w-lg",children:e?`Dia ${Math.ceil((Date.now()-new Date(e.startDate).getTime())/(1e3*60*60*24))} do Protocolo de 90 Dias`:"Sua jornada de auto-domnio comea agora."}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(zi,{to:"/app/disciplina",className:"bg-cobalt-600 hover:bg-cobalt-500 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 transition-all shadow-lg shadow-cobalt-500/20 hover:shadow-cobalt-500/40 hover:-translate-y-0.5",children:[o.jsx(Oc,{className:"h-5 w-5 fill-current"}),o.jsx("span",{children:"Iniciar Protocolo Dirio"})]}),o.jsxs(zi,{to:"/app/content",className:"px-6 py-3 rounded-lg font-medium text-zinc-300 hover:text-white hover:bg-white/5 transition-colors flex items-center space-x-2",children:[o.jsx("span",{children:"Ver Currculo"}),o.jsx(O0,{className:"h-4 w-4"})]})]})]})]}),o.jsx("div",{className:"md:w-1/3",children:o.jsx(m3,{})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-dark-850 p-6 rounded-2xl border border-white/10 hover:border-cobalt-500/30 transition-all group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-2 bg-cobalt-500/10 rounded-lg group-hover:bg-cobalt-500/20 transition-colors",children:o.jsx(_t,{className:"h-6 w-6 text-cobalt-400"})}),o.jsx("span",{className:"text-xs text-zinc-500 uppercase font-medium tracking-wider",children:"Hoje"})]}),o.jsxs("div",{className:"text-3xl font-light text-white mb-1",children:[T>0?Math.round(g/T*100):0,"%"]}),o.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Concluso de tarefas"}),o.jsx("div",{className:"bg-dark-900 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-cobalt-500 h-full rounded-full transition-all duration-500",style:{width:`${T>0?g/T*100:0}%`}})})]}),o.jsx(p3,{days:Math.max(a.workout,a.reading,a.sleep),type:"general"}),o.jsxs("div",{className:"bg-dark-850 p-6 rounded-2xl border border-white/10 hover:border-gold-500/30 transition-all group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-2 bg-gold-500/10 rounded-lg group-hover:bg-gold-500/20 transition-colors",children:o.jsx(Bd,{className:"h-6 w-6 text-gold-400"})}),o.jsx("span",{className:"text-xs text-zinc-500 uppercase font-medium tracking-wider",children:"Plano"})]}),o.jsxs("div",{className:"text-3xl font-light text-white mb-1",children:[(e==null?void 0:e.progress)||0,"%"]}),o.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Evoluo 90 dias"}),o.jsx("div",{className:"bg-dark-900 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-gold-500 h-full rounded-full transition-all duration-500",style:{width:`${(e==null?void 0:e.progress)||0}%`}})})]}),o.jsxs("div",{className:"bg-dark-850 p-6 rounded-2xl border border-white/10 hover:border-purple-500/30 transition-all group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg group-hover:bg-purple-500/20 transition-colors",children:o.jsx(ii,{className:"h-6 w-6 text-purple-400"})}),o.jsx("span",{className:"text-xs text-zinc-500 uppercase font-medium tracking-wider",children:"Tribo"})]}),o.jsx("div",{className:"text-3xl font-light text-white mb-1",children:"1,247"}),o.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Membros ativos"}),o.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3,4].map(w=>o.jsx("div",{className:"w-6 h-6 rounded-full bg-dark-700 border border-dark-850 flex items-center justify-center text-[10px] text-zinc-400",children:String.fromCharCode(64+w)},w)),o.jsx("div",{className:"w-6 h-6 rounded-full bg-dark-800 border border-dark-850 flex items-center justify-center text-[10px] text-zinc-500",children:"+"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-light text-white tracking-tight",children:"Protocolo de Hoje"}),o.jsxs("div",{className:"text-sm text-zinc-500",children:[ye(c,"dd 'de' MMMM",{locale:void 0})," "]})]}),o.jsxs("div",{className:"space-y-3",children:[(I=e==null?void 0:e.dailyTasks)==null?void 0:I.filter(w=>w.date===ye(c,"yyyy-MM-dd")).map(w=>o.jsxs("div",{className:"group flex items-center p-4 bg-dark-850 border border-white/5 rounded-xl hover:border-cobalt-500/30 transition-all hover:bg-dark-800",children:[o.jsx("button",{className:`flex-shrink-0 w-6 h-6 rounded-full border-2 mr-4 flex items-center justify-center transition-colors ${w.completed?"bg-cobalt-500 border-cobalt-500":"border-zinc-600 group-hover:border-cobalt-400"}`,children:w.completed&&o.jsx(_t,{className:"h-4 w-4 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-medium transition-colors ${w.completed?"text-zinc-500 line-through":"text-white group-hover:text-cobalt-100"}`,children:w.title}),o.jsx("p",{className:"text-sm text-zinc-500",children:w.description})]}),o.jsxs("div",{className:"flex items-center text-zinc-500 text-sm bg-dark-900 px-3 py-1 rounded-lg",children:[o.jsx(M0,{className:"h-3 w-3 mr-2"}),w.duration,"min"]})]},w.id)),(!(e!=null&&e.dailyTasks)||e.dailyTasks.filter(w=>w.date===ye(c,"yyyy-MM-dd")).length===0)&&o.jsxs("div",{className:"text-center py-12 bg-dark-850 rounded-xl border border-white/5 border-dashed",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-dark-800 mb-4",children:o.jsx(_t,{className:"h-6 w-6 text-zinc-600"})}),o.jsx("p",{className:"text-zinc-400",children:"Nenhuma tarefa agendada para hoje."}),o.jsx("button",{className:"mt-4 text-cobalt-400 hover:text-cobalt-300 text-sm font-medium",children:"Adicionar tarefa manual"})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl p-6 border border-white/10",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Consistncia Semanal"}),o.jsx("div",{className:"space-y-4",children:m.map(w=>{const y=n.filter(N=>N.date===ye(w,"yyyy-MM-dd")),b=y.filter(N=>{var x;return(x=N.value)==null?void 0:x.completed}).length,P=y.length,R=P>0?b/P*100:0,O=f3(w);return o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsx("span",{className:`text-sm w-8 ${O?"text-cobalt-400 font-bold":"text-zinc-500"}`,children:ye(w,"EEE")}),o.jsx("div",{className:"flex-1 mx-4 bg-dark-900 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${R===100?"bg-green-500":"bg-cobalt-500"}`,style:{width:`${R}%`}})}),o.jsxs("span",{className:"text-xs text-zinc-500 w-8 text-right",children:[Math.round(R),"%"]})]},w.toISOString())})})]}),o.jsxs("div",{className:"bg-gradient-to-br from-gold-900/20 to-dark-850 rounded-2xl p-6 border border-gold-500/10",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Nvel de Disciplina"}),o.jsxs("div",{className:"flex items-end space-x-2 mb-4",children:[o.jsx("span",{className:"text-4xl font-bold text-gold-400",children:"Elite"}),o.jsx("span",{className:"text-sm text-gold-500/60 mb-1",children:"Top 5%"})]}),o.jsx("p",{className:"text-sm text-zinc-400",children:"Sua consistncia nos ltimos 7 dias est acima da mdia da comunidade. Mantenha o foco."})]})]})]}),o.jsxs("div",{className:"bg-dark-850 p-6 border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-light text-white tracking-tight",children:"Progresso por pilares"}),o.jsx(XO,{className:"h-5 w-5 text-neutral-500"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["workout","reading","sleep"].map(w=>{const y=k(w),b={workout:"Treino",reading:"Leitura",sleep:"Sono"};return o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"text-3xl font-light text-white",children:[y,"%"]}),o.jsx("div",{className:"text-sm text-neutral-400 font-light tracking-wide uppercase",children:b[w]})]}),o.jsx("div",{className:"bg-white/5 h-1",children:o.jsx("div",{className:"bg-gradient-to-r from-cobalt-500 to-gold-400 h-1 transition-all duration-300",style:{width:`${y}%`}})})]},w)})})]})]})}var Mc=t=>t.type==="checkbox",Li=t=>t instanceof Date,pn=t=>t==null;const Vk=t=>typeof t=="object";var kt=t=>!pn(t)&&!Array.isArray(t)&&Vk(t)&&!Li(t),v3=t=>kt(t)&&t.target?Mc(t.target)?t.target.checked:t.target.value:t,y3=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,x3=(t,e)=>t.has(y3(e)),w3=t=>{const e=t.constructor&&t.constructor.prototype;return kt(e)&&e.hasOwnProperty("isPrototypeOf")},F0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(F0&&(t instanceof Blob||r))&&(n||kt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!w3(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Pt(t[s]));else return t;return e}var qh=t=>/^\w*$/.test(t),pt=t=>t===void 0,U0=t=>Array.isArray(t)?t.filter(Boolean):[],z0=t=>U0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,n)=>{if(!e||!kt(t))return n;const r=(qh(e)?[e]:z0(e)).reduce((s,i)=>pn(s)?s:s[i],t);return pt(r)||r===t?pt(t[e])?n:t[e]:r},br=t=>typeof t=="boolean",Ge=(t,e,n)=>{let r=-1;const s=qh(e)?[e]:z0(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const d=t[l];c=kt(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Pw={BLUR:"blur",FOCUS_OUT:"focusout"},ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},b3=$.createContext(null);b3.displayName="HookFormContext";var _3=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==ir.all&&(e._proxyFormState[a]=!r||ir.all),t[a]}});return s};const E3=typeof window<"u"?$.useLayoutEffect:$.useEffect;var Tn=t=>typeof t=="string",N3=(t,e,n,r,s)=>Tn(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n),_p=t=>pn(t)||!Vk(t);function Ps(t,e,n=new WeakSet){if(_p(t)||_p(e))return Object.is(t,e);if(Li(t)&&Li(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Li(a)&&Li(l)||kt(a)&&kt(l)||Array.isArray(a)&&Array.isArray(l)?!Ps(a,l,n):!Object.is(a,l))return!1}}return!0}var Lk=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Dl=t=>Array.isArray(t)?t:[t],Rw=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function Fk(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&kt(s)&&i){const a=Fk(s,i);kt(a)&&(n[r]=a)}else t[r]&&(n[r]=i)}return n}var sn=t=>kt(t)&&!Object.keys(t).length,$0=t=>t.type==="file",ar=t=>typeof t=="function",Kd=t=>{if(!F0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Uk=t=>t.type==="select-multiple",B0=t=>t.type==="radio",k3=t=>B0(t)||Mc(t),Kf=t=>Kd(t)&&t.isConnected;function S3(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=pt(t)?r++:t[e[r++]];return t}function T3(t){for(const e in t)if(t.hasOwnProperty(e)&&!pt(t[e]))return!1;return!0}function xt(t,e){const n=Array.isArray(e)?e:qh(e)?[e]:z0(e),r=n.length===1?t:S3(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(kt(r)&&sn(r)||Array.isArray(r)&&T3(r))&&xt(t,n.slice(0,-1)),t}var j3=t=>{for(const e in t)if(ar(t[e]))return!0;return!1};function zk(t){return Array.isArray(t)||kt(t)&&!j3(t)}function Ep(t,e={}){for(const n in t){const r=t[n];zk(r)?(e[n]=Array.isArray(r)?[]:{},Ep(r,e[n])):pt(r)||(e[n]=!0)}return e}function ka(t,e,n){n||(n=Ep(e));for(const r in t){const s=t[r];if(zk(s))pt(e)||_p(n[r])?n[r]=Ep(s,Array.isArray(s)?[]:{}):ka(s,pn(e)?{}:e[r],n[r]);else{const i=e[r];n[r]=!Ps(s,i)}}return n}const Dw={value:!1,isValid:!1},Ow={value:!0,isValid:!0};var $k=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!pt(t[0].attributes.value)?pt(t[0].value)||t[0].value===""?Ow:{value:t[0].value,isValid:!0}:Ow:Dw}return Dw},Bk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>pt(t)?t:e?t===""?NaN:t&&+t:n&&Tn(t)?new Date(t):r?r(t):t;const Mw={isValid:!1,value:null};var qk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Mw):Mw;function Vw(t){const e=t.ref;return $0(e)?e.files:B0(e)?qk(t.refs).value:Uk(e)?[...e.selectedOptions].map(({value:n})=>n):Mc(e)?$k(t.refs).value:Bk(pt(e.value)?t.ref.value:e.value,t)}var I3=(t,e,n,r)=>{const s={};for(const i of t){const a=oe(e,i);a&&Ge(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Qd=t=>t instanceof RegExp,nl=t=>pt(t)?t:Qd(t)?t.source:kt(t)?Qd(t.value)?t.value.source:t.value:t,Lw=t=>({isOnSubmit:!t||t===ir.onSubmit,isOnBlur:t===ir.onBlur,isOnChange:t===ir.onChange,isOnAll:t===ir.all,isOnTouch:t===ir.onTouched});const Fw="AsyncFunction";var C3=t=>!!t&&!!t.validate&&!!(ar(t.validate)&&t.validate.constructor.name===Fw||kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Fw)),A3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Uw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ol=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Ol(l,e))break}else if(kt(l)&&Ol(l,e))break}}};function zw(t,e,n){const r=oe(t,n);if(r||qh(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=oe(e,i),l=oe(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var P3=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return sn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||ir.all))},R3=(t,e,n)=>!t||!e||t===e||Dl(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),D3=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,O3=(t,e)=>!U0(oe(t,e)).length&&xt(t,e),M3=(t,e,n)=>{const r=Dl(oe(t,n));return Ge(r,"root",e[n]),Ge(t,n,r),t};function $w(t,e,n="validate"){if(Tn(t)||Array.isArray(t)&&t.every(Tn)||br(t)&&!t)return{type:n,message:Tn(t)?t:"",ref:e}}var wa=t=>kt(t)&&!Qd(t)?t:{value:t,message:""},Bw=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:d,minLength:h,min:m,max:p,pattern:g,validate:T,name:k,valueAsNumber:I,mount:w}=t._f,y=oe(n,k);if(!w||e.has(k))return{};const b=l?l[0]:a,P=A=>{s&&b.reportValidity&&(b.setCustomValidity(br(A)?"":A||""),b.reportValidity())},R={},O=B0(a),N=Mc(a),x=O||N,E=(I||$0(a))&&pt(a.value)&&pt(y)||Kd(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,_=Lk.bind(null,k,r,R),C=(A,j,ne,te=Fr.maxLength,me=Fr.minLength)=>{const W=A?j:ne;R[k]={type:A?te:me,message:W,ref:a,..._(A?te:me,W)}};if(i?!Array.isArray(y)||!y.length:c&&(!x&&(E||pn(y))||br(y)&&!y||N&&!$k(l).isValid||O&&!qk(l).isValid)){const{value:A,message:j}=Tn(c)?{value:!!c,message:c}:wa(c);if(A&&(R[k]={type:Fr.required,message:j,ref:b,..._(Fr.required,j)},!r))return P(j),R}if(!E&&(!pn(m)||!pn(p))){let A,j;const ne=wa(p),te=wa(m);if(!pn(y)&&!isNaN(y)){const me=a.valueAsNumber||y&&+y;pn(ne.value)||(A=me>ne.value),pn(te.value)||(j=me<te.value)}else{const me=a.valueAsDate||new Date(y),W=Y=>new Date(new Date().toDateString()+" "+Y),q=a.type=="time",F=a.type=="week";Tn(ne.value)&&y&&(A=q?W(y)>W(ne.value):F?y>ne.value:me>new Date(ne.value)),Tn(te.value)&&y&&(j=q?W(y)<W(te.value):F?y<te.value:me<new Date(te.value))}if((A||j)&&(C(!!A,ne.message,te.message,Fr.max,Fr.min),!r))return P(R[k].message),R}if((d||h)&&!E&&(Tn(y)||i&&Array.isArray(y))){const A=wa(d),j=wa(h),ne=!pn(A.value)&&y.length>+A.value,te=!pn(j.value)&&y.length<+j.value;if((ne||te)&&(C(ne,A.message,j.message),!r))return P(R[k].message),R}if(g&&!E&&Tn(y)){const{value:A,message:j}=wa(g);if(Qd(A)&&!y.match(A)&&(R[k]={type:Fr.pattern,message:j,ref:a,..._(Fr.pattern,j)},!r))return P(j),R}if(T){if(ar(T)){const A=await T(y,n),j=$w(A,b);if(j&&(R[k]={...j,..._(Fr.validate,j.message)},!r))return P(j.message),R}else if(kt(T)){let A={};for(const j in T){if(!sn(A)&&!r)break;const ne=$w(await T[j](y,n),b,j);ne&&(A={...ne,..._(j,ne.message)},P(ne.message),r&&(R[k]=A))}if(!sn(A)&&(R[k]={ref:b,...A},!r))return R}}return P(!0),R};const V3={mode:ir.onSubmit,reValidateMode:ir.onChange,shouldFocusError:!0};function L3(t={}){let e={...V3,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ar(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=kt(e.defaultValues)||kt(e.values)?Pt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Pt(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const p={array:Rw(),state:Rw()},g=e.criteriaMode===ir.all,T=D=>L=>{clearTimeout(d),d=setTimeout(D,L)},k=async D=>{if(!e.disabled&&(h.isValid||m.isValid||D)){const L=e.resolver?sn((await N()).errors):await E(r,!0);L!==n.isValid&&p.state.next({isValid:L})}},I=(D,L)=>{!e.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((D||Array.from(l.mount)).forEach(z=>{z&&(L?Ge(n.validatingFields,z,L):xt(n.validatingFields,z))}),p.state.next({validatingFields:n.validatingFields,isValidating:!sn(n.validatingFields)}))},w=(D,L=[],z,J,X=!0,K=!0)=>{if(J&&z&&!e.disabled){if(a.action=!0,K&&Array.isArray(oe(r,D))){const Z=z(oe(r,D),J.argA,J.argB);X&&Ge(r,D,Z)}if(K&&Array.isArray(oe(n.errors,D))){const Z=z(oe(n.errors,D),J.argA,J.argB);X&&Ge(n.errors,D,Z),O3(n.errors,D)}if((h.touchedFields||m.touchedFields)&&K&&Array.isArray(oe(n.touchedFields,D))){const Z=z(oe(n.touchedFields,D),J.argA,J.argB);X&&Ge(n.touchedFields,D,Z)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=ka(s,i)),p.state.next({name:D,isDirty:C(D,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ge(i,D,L)},y=(D,L)=>{Ge(n.errors,D,L),p.state.next({errors:n.errors})},b=D=>{n.errors=D,p.state.next({errors:n.errors,isValid:!1})},P=(D,L,z,J)=>{const X=oe(r,D);if(X){const K=oe(i,D,pt(z)?oe(s,D):z);pt(K)||J&&J.defaultChecked||L?Ge(i,D,L?K:Vw(X._f)):ne(D,K),a.mount&&!a.action&&k()}},R=(D,L,z,J,X)=>{let K=!1,Z=!1;const ge={name:D};if(!e.disabled){if(!z||J){(h.isDirty||m.isDirty)&&(Z=n.isDirty,n.isDirty=ge.isDirty=C(),K=Z!==ge.isDirty);const Oe=Ps(oe(s,D),L);Z=!!oe(n.dirtyFields,D),Oe?xt(n.dirtyFields,D):Ge(n.dirtyFields,D,!0),ge.dirtyFields=n.dirtyFields,K=K||(h.dirtyFields||m.dirtyFields)&&Z!==!Oe}if(z){const Oe=oe(n.touchedFields,D);Oe||(Ge(n.touchedFields,D,z),ge.touchedFields=n.touchedFields,K=K||(h.touchedFields||m.touchedFields)&&Oe!==z)}K&&X&&p.state.next(ge)}return K?ge:{}},O=(D,L,z,J)=>{const X=oe(n.errors,D),K=(h.isValid||m.isValid)&&br(L)&&n.isValid!==L;if(e.delayError&&z?(c=T(()=>y(D,z)),c(e.delayError)):(clearTimeout(d),c=null,z?Ge(n.errors,D,z):xt(n.errors,D)),(z?!Ps(X,z):X)||!sn(J)||K){const Z={...J,...K&&br(L)?{isValid:L}:{},errors:n.errors,name:D};n={...n,...Z},p.state.next(Z)}},N=async D=>{I(D,!0);const L=await e.resolver(i,e.context,I3(D||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return I(D),L},x=async D=>{const{errors:L}=await N(D);if(D)for(const z of D){const J=oe(L,z);J?Ge(n.errors,z,J):xt(n.errors,z)}else n.errors=L;return L},E=async(D,L,z={valid:!0})=>{for(const J in D){const X=D[J];if(X){const{_f:K,...Z}=X;if(K){const ge=l.array.has(K.name),Oe=X._f&&C3(X._f);Oe&&h.validatingFields&&I([K.name],!0);const Mt=await Bw(X,l.disabled,i,g,e.shouldUseNativeValidation&&!L,ge);if(Oe&&h.validatingFields&&I([K.name]),Mt[K.name]&&(z.valid=!1,L))break;!L&&(oe(Mt,K.name)?ge?M3(n.errors,Mt,K.name):Ge(n.errors,K.name,Mt[K.name]):xt(n.errors,K.name))}!sn(Z)&&await E(Z,L,z)}}return z.valid},_=()=>{for(const D of l.unMount){const L=oe(r,D);L&&(L._f.refs?L._f.refs.every(z=>!Kf(z)):!Kf(L._f.ref))&&je(D)}l.unMount=new Set},C=(D,L)=>!e.disabled&&(D&&L&&Ge(i,D,L),!Ps(Y(),s)),A=(D,L,z)=>N3(D,l,{...a.mount?i:pt(L)?s:Tn(D)?{[D]:L}:L},z,L),j=D=>U0(oe(a.mount?i:s,D,e.shouldUnregister?oe(s,D,[]):[])),ne=(D,L,z={})=>{const J=oe(r,D);let X=L;if(J){const K=J._f;K&&(!K.disabled&&Ge(i,D,Bk(L,K)),X=Kd(K.ref)&&pn(L)?"":L,Uk(K.ref)?[...K.ref.options].forEach(Z=>Z.selected=X.includes(Z.value)):K.refs?Mc(K.ref)?K.refs.forEach(Z=>{(!Z.defaultChecked||!Z.disabled)&&(Array.isArray(X)?Z.checked=!!X.find(ge=>ge===Z.value):Z.checked=X===Z.value||!!X)}):K.refs.forEach(Z=>Z.checked=Z.value===X):$0(K.ref)?K.ref.value="":(K.ref.value=X,K.ref.type||p.state.next({name:D,values:Pt(i)})))}(z.shouldDirty||z.shouldTouch)&&R(D,X,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&F(D)},te=(D,L,z)=>{for(const J in L){if(!L.hasOwnProperty(J))return;const X=L[J],K=D+"."+J,Z=oe(r,K);(l.array.has(D)||kt(X)||Z&&!Z._f)&&!Li(X)?te(K,X,z):ne(K,X,z)}},me=(D,L,z={})=>{const J=oe(r,D),X=l.array.has(D),K=Pt(L);Ge(i,D,K),X?(p.array.next({name:D,values:Pt(i)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&z.shouldDirty&&p.state.next({name:D,dirtyFields:ka(s,i),isDirty:C(D,K)})):J&&!J._f&&!pn(K)?te(D,K,z):ne(D,K,z),Uw(D,l)&&p.state.next({...n,name:D}),p.state.next({name:a.mount?D:void 0,values:Pt(i)})},W=async D=>{a.mount=!0;const L=D.target;let z=L.name,J=!0;const X=oe(r,z),K=Oe=>{J=Number.isNaN(Oe)||Li(Oe)&&isNaN(Oe.getTime())||Ps(Oe,oe(i,z,Oe))},Z=Lw(e.mode),ge=Lw(e.reValidateMode);if(X){let Oe,Mt;const Vn=L.type?Vw(X._f):v3(D),Ln=D.type===Pw.BLUR||D.type===Pw.FOCUS_OUT,gr=!A3(X._f)&&!e.resolver&&!oe(n.errors,z)&&!X._f.deps||D3(Ln,oe(n.touchedFields,z),n.isSubmitted,ge,Z),vr=Uw(z,l,Ln);Ge(i,z,Vn),Ln?(!L||!L.readOnly)&&(X._f.onBlur&&X._f.onBlur(D),c&&c(0)):X._f.onChange&&X._f.onChange(D);const En=R(z,Vn,Ln),ps=!sn(En)||vr;if(!Ln&&p.state.next({name:z,type:D.type,values:Pt(i)}),gr)return(h.isValid||m.isValid)&&(e.mode==="onBlur"?Ln&&k():Ln||k()),ps&&p.state.next({name:z,...vr?{}:En});if(!Ln&&vr&&p.state.next({...n}),e.resolver){const{errors:Xn}=await N([z]);if(K(Vn),J){const Do=zw(n.errors,r,z),gs=zw(Xn,r,Do.name||z);Oe=gs.error,z=gs.name,Mt=sn(Xn)}}else I([z],!0),Oe=(await Bw(X,l.disabled,i,g,e.shouldUseNativeValidation))[z],I([z]),K(Vn),J&&(Oe?Mt=!1:(h.isValid||m.isValid)&&(Mt=await E(r,!0)));J&&(X._f.deps&&(!Array.isArray(X._f.deps)||X._f.deps.length>0)&&F(X._f.deps),O(z,Mt,Oe,En))}},q=(D,L)=>{if(oe(n.errors,L)&&D.focus)return D.focus(),1},F=async(D,L={})=>{let z,J;const X=Dl(D);if(e.resolver){const K=await x(pt(D)?D:X);z=sn(K),J=D?!X.some(Z=>oe(K,Z)):z}else D?(J=(await Promise.all(X.map(async K=>{const Z=oe(r,K);return await E(Z&&Z._f?{[K]:Z}:Z)}))).every(Boolean),!(!J&&!n.isValid)&&k()):J=z=await E(r);return p.state.next({...!Tn(D)||(h.isValid||m.isValid)&&z!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:z}:{},errors:n.errors}),L.shouldFocus&&!J&&Ol(r,q,D?X:l.mount),J},Y=(D,L)=>{let z={...a.mount?i:s};return L&&(z=Fk(L.dirtyFields?n.dirtyFields:n.touchedFields,z)),pt(D)?z:Tn(D)?oe(z,D):D.map(J=>oe(z,J))},le=(D,L)=>({invalid:!!oe((L||n).errors,D),isDirty:!!oe((L||n).dirtyFields,D),error:oe((L||n).errors,D),isValidating:!!oe(n.validatingFields,D),isTouched:!!oe((L||n).touchedFields,D)}),ie=D=>{D&&Dl(D).forEach(L=>xt(n.errors,L)),p.state.next({errors:D?n.errors:{}})},he=(D,L,z)=>{const J=(oe(r,D,{_f:{}})._f||{}).ref,X=oe(n.errors,D)||{},{ref:K,message:Z,type:ge,...Oe}=X;Ge(n.errors,D,{...Oe,...L,ref:J}),p.state.next({name:D,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&J&&J.focus&&J.focus()},ke=(D,L)=>ar(D)?p.state.subscribe({next:z=>"values"in z&&D(A(void 0,L),z)}):A(D,L,!0),De=D=>p.state.subscribe({next:L=>{R3(D.name,L.name,D.exact)&&P3(L,D.formState||h,Ro,D.reRenderRoot)&&D.callback({values:{...i},...n,...L,defaultValues:s})}}).unsubscribe,At=D=>(a.mount=!0,m={...m,...D.formState},De({...D,formState:m})),je=(D,L={})=>{for(const z of D?Dl(D):l.mount)l.mount.delete(z),l.array.delete(z),L.keepValue||(xt(r,z),xt(i,z)),!L.keepError&&xt(n.errors,z),!L.keepDirty&&xt(n.dirtyFields,z),!L.keepTouched&&xt(n.touchedFields,z),!L.keepIsValidating&&xt(n.validatingFields,z),!e.shouldUnregister&&!L.keepDefaultValue&&xt(s,z);p.state.next({values:Pt(i)}),p.state.next({...n,...L.keepDirty?{isDirty:C()}:{}}),!L.keepIsValid&&k()},ds=({disabled:D,name:L})=>{(br(D)&&a.mount||D||l.disabled.has(L))&&(D?l.disabled.add(L):l.disabled.delete(L))},Yn=(D,L={})=>{let z=oe(r,D);const J=br(L.disabled)||br(e.disabled);return Ge(r,D,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:D}},name:D,mount:!0,...L}}),l.mount.add(D),z?ds({disabled:br(L.disabled)?L.disabled:e.disabled,name:D}):P(D,!0,L.value),{...J?{disabled:L.disabled||e.disabled}:{},...e.progressive?{required:!!L.required,min:nl(L.min),max:nl(L.max),minLength:nl(L.minLength),maxLength:nl(L.maxLength),pattern:nl(L.pattern)}:{},name:D,onChange:W,onBlur:W,ref:X=>{if(X){Yn(D,L),z=oe(r,D);const K=pt(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,Z=k3(K),ge=z._f.refs||[];if(Z?ge.find(Oe=>Oe===K):K===z._f.ref)return;Ge(r,D,{_f:{...z._f,...Z?{refs:[...ge.filter(Kf),K,...Array.isArray(oe(s,D))?[{}]:[]],ref:{type:K.type,name:D}}:{ref:K}}}),P(D,!1,void 0,K)}else z=oe(r,D,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(x3(l.array,D)&&a.action)&&l.unMount.add(D)}}},_n=()=>e.shouldFocusError&&Ol(r,q,l.mount),Mn=D=>{br(D)&&(p.state.next({disabled:D}),Ol(r,(L,z)=>{const J=oe(r,z);J&&(L.disabled=J._f.disabled||D,Array.isArray(J._f.refs)&&J._f.refs.forEach(X=>{X.disabled=J._f.disabled||D}))},0,!1))},pr=(D,L)=>async z=>{let J;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let X=Pt(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:Z}=await N();n.errors=K,X=Pt(Z)}else await E(r);if(l.disabled.size)for(const K of l.disabled)xt(X,K);if(xt(n.errors,"root"),sn(n.errors)){p.state.next({errors:{}});try{await D(X,z)}catch(K){J=K}}else L&&await L({...n.errors},z),_n(),setTimeout(_n);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sn(n.errors)&&!J,submitCount:n.submitCount+1,errors:n.errors}),J)throw J},hs=(D,L={})=>{oe(r,D)&&(pt(L.defaultValue)?me(D,Pt(oe(s,D))):(me(D,L.defaultValue),Ge(s,D,Pt(L.defaultValue))),L.keepTouched||xt(n.touchedFields,D),L.keepDirty||(xt(n.dirtyFields,D),n.isDirty=L.defaultValue?C(D,Pt(oe(s,D))):C()),L.keepError||(xt(n.errors,D),h.isValid&&k()),p.state.next({...n}))},fs=(D,L={})=>{const z=D?Pt(D):s,J=Pt(z),X=sn(D),K=X?s:J;if(L.keepDefaultValues||(s=z),!L.keepValues){if(L.keepDirtyValues){const Z=new Set([...l.mount,...Object.keys(ka(s,i))]);for(const ge of Array.from(Z))oe(n.dirtyFields,ge)?Ge(K,ge,oe(i,ge)):me(ge,oe(K,ge))}else{if(F0&&pt(D))for(const Z of l.mount){const ge=oe(r,Z);if(ge&&ge._f){const Oe=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(Kd(Oe)){const Mt=Oe.closest("form");if(Mt){Mt.reset();break}}}}if(L.keepFieldsRef)for(const Z of l.mount)me(Z,oe(K,Z));else r={}}i=e.shouldUnregister?L.keepDefaultValues?Pt(s):{}:Pt(K),p.array.next({values:{...K}}),p.state.next({values:{...K}})}l={mount:L.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!L.keepIsValid||!!L.keepDirtyValues||!e.shouldUnregister&&!sn(K),a.watch=!!e.shouldUnregister,p.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:X?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Ps(D,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:X?{}:L.keepDirtyValues?L.keepDefaultValues&&i?ka(s,i):n.dirtyFields:L.keepDefaultValues&&D?ka(s,D):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ms=(D,L)=>fs(ar(D)?D(i):D,L),bi=(D,L={})=>{const z=oe(r,D),J=z&&z._f;if(J){const X=J.refs?J.refs[0]:J.ref;X.focus&&(X.focus(),L.shouldSelect&&ar(X.select)&&X.select())}},Ro=D=>{n={...n,...D}},_i={control:{register:Yn,unregister:je,getFieldState:le,handleSubmit:pr,setError:he,_subscribe:De,_runSchema:N,_focusError:_n,_getWatch:A,_getDirty:C,_setValid:k,_setFieldArray:w,_setDisabledField:ds,_setErrors:b,_getFieldArray:j,_reset:fs,_resetDefaultValues:()=>ar(e.defaultValues)&&e.defaultValues().then(D=>{ms(D,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:Mn,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(D){a=D},get _defaultValues(){return s},get _names(){return l},set _names(D){l=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:At,trigger:F,register:Yn,handleSubmit:pr,watch:ke,setValue:me,getValues:Y,reset:ms,resetField:hs,clearErrors:ie,unregister:je,setError:he,setFocus:bi,getFieldState:le};return{..._i,formControl:_i}}function rl(t={}){const e=$.useRef(void 0),n=$.useRef(void 0),[r,s]=$.useState({isDirty:!1,isValidating:!1,isLoading:ar(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ar(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ar(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=L3(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,E3(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),$.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),$.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),$.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),$.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),$.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),$.useEffect(()=>{var a;t.values&&!Ps(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),n.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),$.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=_3(r,i),e.current}const qw=(t,e,n)=>{if(t&&"reportValidity"in t){const r=oe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Wk=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?qw(r.ref,n,t):r.refs&&r.refs.forEach(s=>qw(s,n,t))}},F3=(t,e)=>{e.shouldUseNativeValidation&&Wk(t,e);const n={};for(const r in t){const s=oe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(U3(e.names||Object.keys(t),r)){const a=Object.assign({},oe(n,r));Ge(a,"root",i),Ge(n,r,a)}else Ge(n,r,i)}return n},U3=(t,e)=>t.some(n=>n.startsWith(e+"."));var z3=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return t.push(m)})}),e){var c=n[a].types,d=c&&c[r.code];n[a]=Lk(a,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},sl=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&Wk({},i),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:F3(z3(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ze;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ze||(ze={}));var Ww;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ww||(Ww={}));const ue=ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ks=t=>{switch(typeof t){case"undefined":return ue.undefined;case"string":return ue.string;case"number":return Number.isNaN(t)?ue.nan:ue.number;case"boolean":return ue.boolean;case"function":return ue.function;case"bigint":return ue.bigint;case"symbol":return ue.symbol;case"object":return Array.isArray(t)?ue.array:t===null?ue.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ue.promise:typeof Map<"u"&&t instanceof Map?ue.map:typeof Set<"u"&&t instanceof Set?ue.set:typeof Date<"u"&&t instanceof Date?ue.date:ue.object;default:return ue.unknown}},Q=ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class as extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(a))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),r}static assert(e){if(!(e instanceof as))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}as.create=t=>new as(t);const Np=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===ue.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ze.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${ze.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ze.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${ze.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ze.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,ze.assertNever(t)}return{message:n}};let $3=Np;function B3(){return $3}const q3=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function re(t,e){const n=B3(),r=q3({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Np?void 0:Np].filter(s=>!!s)});t.common.issues.push(r)}class Rn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return _e;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Rn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return _e;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const _e=Object.freeze({status:"aborted"}),yl=t=>({status:"dirty",value:t}),Qn=t=>({status:"valid",value:t}),Hw=t=>t.status==="aborted",Gw=t=>t.status==="dirty",go=t=>t.status==="valid",Yd=t=>typeof Promise<"u"&&t instanceof Promise;var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));class ai{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kw=(t,e)=>{if(go(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new as(t.common.issues);return this._error=n,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class Le{get description(){return this._def.description}_getType(e){return ks(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ks(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Rn,ctx:{common:e.parent.common,data:e.data,parsedType:ks(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Yd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ks(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Kw(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ks(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return go(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>go(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ks(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Yd(s)?s:Promise.resolve(s));return Kw(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:Q.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new xo({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Xs.create(this,this._def)}nullable(){return wo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pr.create(this)}promise(){return eh.create(this,this._def)}or(e){return Zd.create([this,e],this._def)}and(e){return Jd.create(this,e,this._def)}transform(e){return new xo({...Se(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Tp({...Se(this._def),innerType:this,defaultValue:n,typeName:Ee.ZodDefault})}brand(){return new fL({typeName:Ee.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new jp({...Se(this._def),innerType:this,catchValue:n,typeName:Ee.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return q0.create(this,e)}readonly(){return Ip.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const W3=/^c[^\s-]{8,}$/i,H3=/^[0-9a-z]+$/,G3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,K3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Q3=/^[a-z0-9_-]{21}$/i,Y3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,X3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,J3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qf;const eL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aL=new RegExp(`^${Hk}$`);function Gk(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function oL(t){return new RegExp(`^${Gk(t)}$`)}function lL(t){let e=`${Hk}T${Gk(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function cL(t,e){return!!((e==="v4"||!e)&&eL.test(t)||(e==="v6"||!e)&&nL.test(t))}function uL(t,e){if(!Y3.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function dL(t,e){return!!((e==="v4"||!e)&&tL.test(t)||(e==="v6"||!e)&&rL.test(t))}class Ls extends Le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ue.string){const i=this._getOrReturnCtx(e);return re(i,{code:Q.invalid_type,expected:ue.string,received:i.parsedType}),_e}const r=new Rn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?re(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&re(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Z3.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Qf||(Qf=new RegExp(J3,"u")),Qf.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")K3.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Q3.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"nanoid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")W3.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")H3.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")G3.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),re(s,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),re(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),re(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),re(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?lL(i).test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?aL.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:Q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?oL(i).test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:Q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?X3.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"duration",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?cL(e.data,i.version)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?uL(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"jwt",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?dL(e.data,i.version)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cidr",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?sL.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"base64",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?iL.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"base64url",code:Q.invalid_string,message:i.message}),r.dirty()):ze.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Q.invalid_string,...de.errToObj(r)})}_addCheck(e){return new Ls({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ls.create=t=>new Ls({checks:[],typeName:Ee.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});function hL(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class vo extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ue.number){const i=this._getOrReturnCtx(e);return re(i,{code:Q.invalid_type,expected:ue.number,received:i.parsedType}),_e}let r;const s=new Rn;for(const i of this._def.checks)i.kind==="int"?ze.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?hL(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),re(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:Q.not_finite,message:i.message}),s.dirty()):ze.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new vo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ze.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}vo.create=t=>new vo({checks:[],typeName:Ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class pc extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ue.bigint)return this._getInvalidInput(e);let r;const s=new Rn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),re(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ze.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return re(n,{code:Q.invalid_type,expected:ue.bigint,received:n.parsedType}),_e}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new pc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new pc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pc.create=t=>new pc({checks:[],typeName:Ee.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});class kp extends Le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ue.boolean){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ue.boolean,received:r.parsedType}),_e}return Qn(e.data)}}kp.create=t=>new kp({typeName:Ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Xd extends Le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ue.date){const i=this._getOrReturnCtx(e);return re(i,{code:Q.invalid_type,expected:ue.date,received:i.parsedType}),_e}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return re(i,{code:Q.invalid_date}),_e}const r=new Rn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ze.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xd({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xd.create=t=>new Xd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ee.ZodDate,...Se(t)});class Qw extends Le{_parse(e){if(this._getType(e)!==ue.symbol){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ue.symbol,received:r.parsedType}),_e}return Qn(e.data)}}Qw.create=t=>new Qw({typeName:Ee.ZodSymbol,...Se(t)});class Yw extends Le{_parse(e){if(this._getType(e)!==ue.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ue.undefined,received:r.parsedType}),_e}return Qn(e.data)}}Yw.create=t=>new Yw({typeName:Ee.ZodUndefined,...Se(t)});class Xw extends Le{_parse(e){if(this._getType(e)!==ue.null){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ue.null,received:r.parsedType}),_e}return Qn(e.data)}}Xw.create=t=>new Xw({typeName:Ee.ZodNull,...Se(t)});class Zw extends Le{constructor(){super(...arguments),this._any=!0}_parse(e){return Qn(e.data)}}Zw.create=t=>new Zw({typeName:Ee.ZodAny,...Se(t)});class Jw extends Le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Qn(e.data)}}Jw.create=t=>new Jw({typeName:Ee.ZodUnknown,...Se(t)});class oi extends Le{_parse(e){const n=this._getOrReturnCtx(e);return re(n,{code:Q.invalid_type,expected:ue.never,received:n.parsedType}),_e}}oi.create=t=>new oi({typeName:Ee.ZodNever,...Se(t)});class eb extends Le{_parse(e){if(this._getType(e)!==ue.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ue.void,received:r.parsedType}),_e}return Qn(e.data)}}eb.create=t=>new eb({typeName:Ee.ZodVoid,...Se(t)});class Pr extends Le{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ue.array)return re(n,{code:Q.invalid_type,expected:ue.array,received:n.parsedType}),_e;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(re(n,{code:a?Q.too_big:Q.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(re(n,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(re(n,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new ai(n,a,n.path,l)))).then(a=>Rn.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new ai(n,a,n.path,l)));return Rn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Pr({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new Pr({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new Pr({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}Pr.create=(t,e)=>new Pr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Se(e)});function Sa(t){if(t instanceof bt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Xs.create(Sa(r))}return new bt({...t._def,shape:()=>e})}else return t instanceof Pr?new Pr({...t._def,type:Sa(t.element)}):t instanceof Xs?Xs.create(Sa(t.unwrap())):t instanceof wo?wo.create(Sa(t.unwrap())):t instanceof na?na.create(t.items.map(e=>Sa(e))):t}class bt extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ze.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ue.object){const d=this._getOrReturnCtx(e);return re(d,{code:Q.invalid_type,expected:ue.object,received:d.parsedType}),_e}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof oi&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||l.push(d);const c=[];for(const d of a){const h=i[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new ai(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof oi){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")l.length>0&&(re(s,{code:Q.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const m=s.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new ai(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const m=await h.key,p=await h.value;d.push({key:m,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Rn.mergeObjectSync(r,d)):Rn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new bt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:de.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new bt({...this._def,unknownKeys:"strip"})}passthrough(){return new bt({...this._def,unknownKeys:"passthrough"})}extend(e){return new bt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new bt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new bt({...this._def,catchall:e})}pick(e){const n={};for(const r of ze.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new bt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ze.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new bt({...this._def,shape:()=>n})}deepPartial(){return Sa(this)}partial(e){const n={};for(const r of ze.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new bt({...this._def,shape:()=>n})}required(e){const n={};for(const r of ze.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Xs;)i=i._def.innerType;n[r]=i}return new bt({...this._def,shape:()=>n})}keyof(){return Kk(ze.objectKeys(this.shape))}}bt.create=(t,e)=>new bt({shape:()=>t,unknownKeys:"strip",catchall:oi.create(),typeName:Ee.ZodObject,...Se(e)});bt.strictCreate=(t,e)=>new bt({shape:()=>t,unknownKeys:"strict",catchall:oi.create(),typeName:Ee.ZodObject,...Se(e)});bt.lazycreate=(t,e)=>new bt({shape:t,unknownKeys:"strip",catchall:oi.create(),typeName:Ee.ZodObject,...Se(e)});class Zd extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new as(l.ctx.common.issues));return re(n,{code:Q.invalid_union,unionErrors:a}),_e}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new as(c));return re(n,{code:Q.invalid_union,unionErrors:l}),_e}}get options(){return this._def.options}}Zd.create=(t,e)=>new Zd({options:t,typeName:Ee.ZodUnion,...Se(e)});function Sp(t,e){const n=ks(t),r=ks(e);if(t===e)return{valid:!0,data:t};if(n===ue.object&&r===ue.object){const s=ze.objectKeys(e),i=ze.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=Sp(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===ue.array&&r===ue.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=Sp(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ue.date&&r===ue.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Jd extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Hw(i)||Hw(a))return _e;const l=Sp(i.value,a.value);return l.valid?((Gw(i)||Gw(a))&&n.dirty(),{status:n.value,value:l.data}):(re(r,{code:Q.invalid_intersection_types}),_e)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Jd.create=(t,e,n)=>new Jd({left:t,right:e,typeName:Ee.ZodIntersection,...Se(n)});class na extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.array)return re(r,{code:Q.invalid_type,expected:ue.array,received:r.parsedType}),_e;if(r.data.length<this._def.items.length)return re(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&r.data.length>this._def.items.length&&(re(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ai(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Rn.mergeArray(n,a)):Rn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new na({...this._def,rest:e})}}na.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new na({items:t,typeName:Ee.ZodTuple,rest:null,...Se(e)})};class tb extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.map)return re(r,{code:Q.invalid_type,expected:ue.map,received:r.parsedType}),_e;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],d)=>({key:s._parse(new ai(r,l,r.path,[d,"key"])),value:i._parse(new ai(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return _e;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return _e;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}tb.create=(t,e,n)=>new tb({valueType:e,keyType:t,typeName:Ee.ZodMap,...Se(n)});class gc extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.set)return re(r,{code:Q.invalid_type,expected:ue.set,received:r.parsedType}),_e;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(re(r,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(re(r,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const d=new Set;for(const h of c){if(h.status==="aborted")return _e;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new ai(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new gc({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new gc({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}gc.create=(t,e)=>new gc({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Se(e)});class nb extends Le{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nb.create=(t,e)=>new nb({getter:t,typeName:Ee.ZodLazy,...Se(e)});class rb extends Le{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return re(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:e.data}}get value(){return this._def.value}}rb.create=(t,e)=>new rb({value:t,typeName:Ee.ZodLiteral,...Se(e)});function Kk(t,e){return new yo({values:t,typeName:Ee.ZodEnum,...Se(e)})}class yo extends Le{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{expected:ze.joinValues(r),received:n.parsedType,code:Q.invalid_type}),_e}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{received:n.data,code:Q.invalid_enum_value,options:r}),_e}return Qn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return yo.create(e,{...this._def,...n})}exclude(e,n=this._def){return yo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}yo.create=Kk;class sb extends Le{_parse(e){const n=ze.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ue.string&&r.parsedType!==ue.number){const s=ze.objectValues(n);return re(r,{expected:ze.joinValues(s),received:r.parsedType,code:Q.invalid_type}),_e}if(this._cache||(this._cache=new Set(ze.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ze.objectValues(n);return re(r,{received:r.data,code:Q.invalid_enum_value,options:s}),_e}return Qn(e.data)}get enum(){return this._def.values}}sb.create=(t,e)=>new sb({values:t,typeName:Ee.ZodNativeEnum,...Se(e)});class eh extends Le{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.promise&&n.common.async===!1)return re(n,{code:Q.invalid_type,expected:ue.promise,received:n.parsedType}),_e;const r=n.parsedType===ue.promise?n.data:Promise.resolve(n.data);return Qn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}eh.create=(t,e)=>new eh({type:t,typeName:Ee.ZodPromise,...Se(e)});class xo extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{re(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return _e;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?_e:c.status==="dirty"||n.value==="dirty"?yl(c.value):c});{if(n.value==="aborted")return _e;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?_e:l.status==="dirty"||n.value==="dirty"?yl(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?_e:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?_e:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!go(a))return _e;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>go(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):_e);ze.assertNever(s)}}xo.create=(t,e,n)=>new xo({schema:t,typeName:Ee.ZodEffects,effect:e,...Se(n)});xo.createWithPreprocess=(t,e,n)=>new xo({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...Se(n)});class Xs extends Le{_parse(e){return this._getType(e)===ue.undefined?Qn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xs.create=(t,e)=>new Xs({innerType:t,typeName:Ee.ZodOptional,...Se(e)});class wo extends Le{_parse(e){return this._getType(e)===ue.null?Qn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wo.create=(t,e)=>new wo({innerType:t,typeName:Ee.ZodNullable,...Se(e)});class Tp extends Le{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ue.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Tp.create=(t,e)=>new Tp({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class jp extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Yd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new as(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new as(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}jp.create=(t,e)=>new jp({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class ib extends Le{_parse(e){if(this._getType(e)!==ue.nan){const r=this._getOrReturnCtx(e);return re(r,{code:Q.invalid_type,expected:ue.nan,received:r.parsedType}),_e}return{status:"valid",value:e.data}}}ib.create=t=>new ib({typeName:Ee.ZodNaN,...Se(t)});class fL extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class q0 extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?_e:i.status==="dirty"?(n.dirty(),yl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?_e:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new q0({in:e,out:n,typeName:Ee.ZodPipeline})}}class Ip extends Le{_parse(e){const n=this._def.innerType._parse(e),r=s=>(go(s)&&(s.value=Object.freeze(s.value)),s);return Yd(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ip.create=(t,e)=>new Ip({innerType:t,typeName:Ee.ZodReadonly,...Se(e)});var Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const Zs=Ls.create,Ml=vo.create,Eu=kp.create;oi.create;const Cp=Pr.create,Vc=bt.create;Zd.create;Jd.create;na.create;const Ap=yo.create;eh.create;Xs.create;wo.create;const mL=t=>({id:Date.now().toString(),title:`Protocolo ${t} (Simulao)`,strategy:"Estratgia baseada em dficit calrico moderado e alta densidade nutricional.",calories:2400,macros:{protein:"200g",carbs:"250g",fats:"70g"},meals:[{name:"Desjejum",items:["3 Ovos inteiros","2 fatias de po integral","Caf preto sem acar"]},{name:"Almoo",items:["200g Peito de Frango grelhado","150g Arroz Branco","Brcolis e Cenoura  vontade"]},{name:"Lanche",items:["1 scoop Whey Protein","1 Banana","30g Aveia"]},{name:"Jantar",items:["200g Patinho Modo","100g Batata Doce","Salada de folhas verdes"]}],createdAt:new Date().toISOString()}),pL=()=>({score:65,wasteDetection:["Assinaturas de streaming no utilizadas","Pedidos frequentes de delivery","Taxas bancrias evitveis"],burnRateAnalysis:"Seu fluxo de caixa est positivo, mas a margem  estreita. 20% da renda est indo para gastos suprfluos no rastreados.",strategy:"Implementar regra dos 50/30/20 imediatamente. Cortar 2 assinaturas e cozinhar em casa durante a semana para liberar R$ 400,00 mensais para investimento."}),gL=()=>({healthScore:72,diagnosis:"A dinmica apresenta boa base de amizade, mas a polaridade sexual est diminuindo devido  rotina excessivamente domstica e falta de mistrio.",actionPlan:["Restabelecer a noite do encontro semanal (sem celulares)","Praticar escuta ativa por 10min dirios","Iniciar um hobby individual para gerar novidade"],goldenClause:"Nenhuma crtica ser feita sem antes oferecer uma validao genuna. Proibido resolver conflitos via texto."}),vL=()=>({distortion:"Leitura Mental / Catastrofizao",analysis:"Voc est assumindo que sabe o que os outros esto pensando e prevendo o pior cenrio possvel sem evidncias concretas.",reframe:"No tenho como saber o que pensam a menos que pergunte. O fato de no ter recebido resposta ainda no significa rejeio, apenas que esto ocupados.",action:"Focar no que posso controlar: minha prpria performance e atitude. Aguardar 24h antes de tirar qualquer concluso."});async function Wh(t,e){return console.warn("VITE_OPENROUTER_API_KEY no encontrada. Usando Mock Data."),await new Promise(n=>setTimeout(n,1500)),null}async function yL(t,e,n,r,s){const i=await Wh();return i?{id:Date.now().toString(),createdAt:new Date().toISOString(),...i}:mL(n)}async function xL(t,e){`${JSON.stringify(t)}${e}`;const n=await Wh();return n||pL()}async function wL(t,e,n,r,s){const i=await Wh();return i||gL()}async function bL(t,e){const n=await Wh();return n||vL()}async function _L(t){return[]}const EL=Vc({name:Zs().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Zs().email("Email invlido"),password:Zs().min(8,"Senha deve ter pelo menos 8 caracteres"),age:Ml().min(18,"Voc deve ter pelo menos 18 anos").max(100,"Idade invlida")}),NL=Vc({goals:Cp(Zs()).min(1,"Selecione pelo menos um objetivo"),priorityGoals:Cp(Zs()).length(3,"Selecione exatamente 3 prioridades"),experienceLevel:Ap(["beginner","intermediate","advanced"])}),kL=Vc({weight:Ml().min(30,"Peso invlido").max(300,"Peso invlido"),height:Ml().min(100,"Altura invlida").max(250,"Altura invlida"),activityLevel:Ap(["sedentary","light","moderate","active","very_active"]),sleepHours:Ml().min(4,"Mnimo 4 horas").max(12,"Mximo 12 horas"),workSchedule:Ap(["morning","afternoon","evening","night","flexible"])}),SL=Vc({dailyTimePreference:Ml().min(15,"Mnimo 15 minutos").max(120,"Mximo 120 minutos"),restrictions:Cp(Zs()),allergies:Zs(),injuries:Zs()}),TL=Vc({consentData:Eu().refine(t=>t===!0,{message:"Voc deve aceitar o uso de dados"}),consentPhotos:Eu(),consentSensitiveContent:Eu(),consentAgeVerification:Eu().refine(t=>t===!0,{message:"Voc deve confirmar ser maior de idade"})}),ab=[{id:"aesthetics",label:"Melhorar esttica corporal",icon:""},{id:"strength",label:"Aumentar fora fsica",icon:""},{id:"voice_presence",label:"Desenvolver voz e presena",icon:""},{id:"relationships",label:"Melhorar relacionamentos",icon:""},{id:"stop_porn",label:"Parar com pornografia",icon:""},{id:"reading",label:"Aumentar leitura",icon:""},{id:"sleep",label:"Melhorar sono",icon:""},{id:"social_skills",label:"Desenvolver habilidades sociais",icon:""}],jL=[{value:"sedentary",label:"Sedentrio",description:"Trabalho sentado, pouca atividade"},{value:"light",label:"Leve",description:"Caminhadas ocasionais"},{value:"moderate",label:"Moderado",description:"Exerccio 2-3x por semana"},{value:"active",label:"Ativo",description:"Exerccio 4-5x por semana"},{value:"very_active",label:"Muito ativo",description:"Exerccio dirio ou trabalho fsico"}];function IL(){const[t,e]=M.useState(1),[n,r]=M.useState(!1),s=xh(),{register:i}=yt(),a=rl({resolver:sl(EL),defaultValues:{name:"",email:"",password:"",age:18}}),l=rl({resolver:sl(NL),defaultValues:{goals:[],priorityGoals:[],experienceLevel:"beginner"}}),c=rl({resolver:sl(kL),defaultValues:{weight:70,height:170,activityLevel:"moderate",sleepHours:7,workSchedule:"morning"}}),d=rl({resolver:sl(SL),defaultValues:{dailyTimePreference:30,restrictions:[],allergies:"",injuries:""}}),h=rl({resolver:sl(TL),defaultValues:{consentData:!1,consentPhotos:!1,consentSensitiveContent:!1,consentAgeVerification:!1}}),m=5,p=async()=>{let I=!1;switch(t){case 1:I=await a.trigger();break;case 2:I=await l.trigger();break;case 3:I=await c.trigger();break;case 4:I=await d.trigger();break;case 5:I=await h.trigger();break}I&&t<m&&e(t+1)},g=()=>{t>1&&e(t-1)},T=async()=>{r(!0);try{const I=a.getValues(),w=l.getValues(),y=c.getValues(),b=d.getValues(),P=h.getValues(),R={...I,...w,...y,...b,...P};await i(R.email,R.password);const O={age:R.age,weight:R.weight,height:R.height,activityLevel:R.activityLevel,goals:R.goals,priorityGoals:R.priorityGoals,experienceLevel:R.experienceLevel,dailyTimePreference:String(R.dailyTimePreference),workSchedule:R.workSchedule,sleepHours:R.sleepHours,restrictions:R.restrictions,allergies:R.allergies?[R.allergies]:[],injuries:R.injuries?[R.injuries]:[],consentFlags:{terms:R.consentData,privacy:R.consentData,marketing:R.consentPhotos}};Ke.info("Gerando seu plano personalizado de 90 dias...");const N=await _L(O),x=new Date().toISOString();await Qa(sr(ut,"plans"),{userId:R.email,title:"Plano de 90 Dias - Respect Pill",description:"Plano personalizado baseado em suas metas e perfil",duration:90,pillars:R.goals.slice(0,3),objectives:R.priorityGoals,dailyTasks:N,status:"active",startDate:x,endDate:new Date(Date.now()+90*24*60*60*1e3).toISOString(),progress:0,createdAt:x,updatedAt:x}),Ke.success("Bem-vindo ao Respect Pill! Seu plano de 90 dias foi criado."),s("/app/dashboard")}catch(I){console.error("Onboarding error:",I),Ke.error("Erro ao criar conta. Tente novamente.")}finally{r(!1)}},k=()=>{switch(t){case 1:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Vamos comear"}),o.jsx("p",{className:"text-gray-600",children:"Informaes bsicas para criar sua conta"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome completo"}),o.jsx("input",{...a.register("name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Seu nome"}),a.formState.errors.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.formState.errors.name.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{...a.register("email"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"}),a.formState.errors.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.formState.errors.email.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),o.jsx("input",{...a.register("password"),type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mnimo 8 caracteres"}),a.formState.errors.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.formState.errors.password.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idade"}),o.jsx("input",{...a.register("age",{valueAsNumber:!0}),type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"18",max:"100"}),a.formState.errors.age&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.formState.errors.age.message})]})]})]});case 2:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Seus objetivos"}),o.jsx("p",{className:"text-gray-600",children:"O que voc quer alcanar nos prximos 90 dias?"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecione seus objetivos"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:ab.map(I=>o.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[o.jsx("input",{type:"checkbox",...l.register("goals"),value:I.id,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-2xl",children:I.icon}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:I.label})]},I.id))}),l.formState.errors.goals&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.formState.errors.goals.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Priorize suas 3 principais metas"}),o.jsx("div",{className:"space-y-2",children:[1,2,3].map(I=>o.jsxs("select",{...l.register(`priorityGoals.${I-1}`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsxs("option",{value:"",children:["Selecione a prioridade ",I]}),ab.map(w=>o.jsxs("option",{value:w.id,children:[w.icon," ",w.label]},w.id))]},I))}),l.formState.errors.priorityGoals&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.formState.errors.priorityGoals.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Seu nvel de experincia"}),o.jsx("div",{className:"space-y-2",children:["beginner","intermediate","advanced"].map(I=>o.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[o.jsx("input",{type:"radio",...l.register("experienceLevel"),value:I,className:"border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[I==="beginner"&&"Iniciante",I==="intermediate"&&"Intermedirio",I==="advanced"&&"Avanado"]})]},I))}),l.formState.errors.experienceLevel&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.formState.errors.experienceLevel.message})]})]})]});case 3:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sua sade e rotina"}),o.jsx("p",{className:"text-gray-600",children:"Informaes para personalizar seu plano"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso (kg)"}),o.jsx("input",{...c.register("weight",{valueAsNumber:!0}),type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.formState.errors.weight&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.weight.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Altura (cm)"}),o.jsx("input",{...c.register("height",{valueAsNumber:!0}),type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.formState.errors.height&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.height.message})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Nvel de atividade fsica"}),o.jsx("div",{className:"space-y-2",children:jL.map(I=>o.jsxs("label",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[o.jsx("input",{type:"radio",...c.register("activityLevel"),value:I.value,className:"mt-1 border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-700",children:I.label}),o.jsx("div",{className:"text-xs text-gray-500",children:I.description})]})]},I.value))}),c.formState.errors.activityLevel&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.activityLevel.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas de sono desejadas"}),o.jsx("input",{...c.register("sleepHours",{valueAsNumber:!0}),type:"number",min:"4",max:"12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.formState.errors.sleepHours&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.sleepHours.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio de trabalho"}),o.jsxs("select",{...c.register("workSchedule"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"morning",children:"Manh"}),o.jsx("option",{value:"afternoon",children:"Tarde"}),o.jsx("option",{value:"evening",children:"Noite"}),o.jsx("option",{value:"night",children:"Madrugada"}),o.jsx("option",{value:"flexible",children:"Flexvel"})]}),c.formState.errors.workSchedule&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.formState.errors.workSchedule.message})]})]})]});case 4:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Preferncias e restries"}),o.jsx("p",{className:"text-gray-600",children:"Ajude-nos a personalizar ainda mais seu plano"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo dirio disponvel (minutos)"}),o.jsx("input",{...d.register("dailyTimePreference",{valueAsNumber:!0}),type:"number",min:"15",max:"120",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.formState.errors.dailyTimePreference&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.formState.errors.dailyTimePreference.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alergias alimentares"}),o.jsx("textarea",{...d.register("allergies"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,placeholder:"Ex: lactose, glten, amendoim..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leses ou limitaes fsicas"}),o.jsx("textarea",{...d.register("injuries"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,placeholder:"Ex: dor no joelho, problema nas costas..."})]})]})]});case 5:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Termos e condies"}),o.jsx("p",{className:"text-gray-600",children:"ltimas confirmaes antes de comear"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[o.jsx("input",{type:"checkbox",...h.register("consentData"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Aceito o uso de dados"}),o.jsx("div",{className:"text-gray-600",children:"Concordo com o processamento dos meus dados para personalizao do plano"})]})]}),h.formState.errors.consentData&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.formState.errors.consentData.message}),o.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[o.jsx("input",{type:"checkbox",...h.register("consentPhotos"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Aceito receber comunicaes"}),o.jsx("div",{className:"text-gray-600",children:"Quero receber dicas e atualizaes sobre meu progresso"})]})]}),o.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[o.jsx("input",{type:"checkbox",...h.register("consentSensitiveContent"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Aceito contedo sensvel"}),o.jsx("div",{className:"text-gray-600",children:"Estou ciente que o contedo pode abordar temas sensveis"})]})]}),o.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[o.jsx("input",{type:"checkbox",...h.register("consentAgeVerification"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Confirmo ser maior de idade"}),o.jsx("div",{className:"text-gray-600",children:"Tenho 18 anos ou mais"})]})]}),h.formState.errors.consentAgeVerification&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.formState.errors.consentAgeVerification.message})]})]});default:return null}};return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4,5].map(I=>o.jsx("div",{className:`w-full h-2 rounded-full mx-1 ${I<=t?"bg-blue-600":"bg-gray-200"}`},I))}),o.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Passo ",t," de ",m]})]}),k(),o.jsxs("div",{className:"flex justify-between mt-8",children:[o.jsx("button",{onClick:g,disabled:t===1,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Voltar"}),t<m?o.jsx("button",{onClick:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Prximo"}):o.jsx("button",{onClick:T,disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Criando conta...":"Finalizar"})]})]})})}function CL(){return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Perfil"}),o.jsx("p",{className:"text-zinc-400",children:"Em construo..."})]})}function AL(){return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Configuraes"}),o.jsx("p",{className:"text-zinc-400",children:"Em construo..."})]})}function PL(){const{user:t,profile:e}=yt(),[n,r]=M.useState({profileVisibility:"private",showProgress:!0,showGoals:!1,allowMessages:!1,dataSharing:!1,marketingEmails:!1,sensitiveContent:!1}),[s,i]=M.useState({exportInProgress:!1,exportFormat:"json"}),[a,l]=M.useState({showConfirmation:!1,password:"",reason:""}),c=async(p,g)=>{try{if(r(T=>({...T,[p]:g})),e!=null&&e.id){const T=$n(ut,"profiles",e.id);await po(T,{[`privacy.${p}`]:g}),Ke.success("Configurao de privacidade atualizada")}}catch(T){console.error("Error updating privacy setting:",T),Ke.error("Erro ao atualizar configurao")}},d=async()=>{try{i(w=>({...w,exportInProgress:!0}));const p={profile:e,privacySettings:n,exportDate:new Date().toISOString(),format:s.exportFormat},g=s.exportFormat==="json"?JSON.stringify(p,null,2):h(p),T=new Blob([g],{type:s.exportFormat==="json"?"application/json":"text/csv"}),k=URL.createObjectURL(T),I=document.createElement("a");I.href=k,I.download=`respect-pill-data-${new Date().toISOString().split("T")[0]}.${s.exportFormat}`,I.click(),URL.revokeObjectURL(k),i(w=>({...w,exportInProgress:!1,lastExportDate:new Date().toISOString()})),Ke.success("Dados exportados com sucesso!")}catch(p){console.error("Error exporting data:",p),i(g=>({...g,exportInProgress:!1})),Ke.error("Erro ao exportar dados")}},h=p=>{var T,k;return[["Campo","Valor"],["Nome",((T=p.profile)==null?void 0:T.name)||""],["Email",(t==null?void 0:t.email)||""],["Idade",((k=p.profile)==null?void 0:k.age)||""],["Data de Exportao",p.exportDate]].map(I=>I.join(",")).join(`
`)},m=async()=>{if(!a.password){Ke.error("Por favor, insira sua senha");return}try{Ke.success("Solicitao de excluso enviada. Voc receber um email de confirmao."),l({showConfirmation:!1,password:"",reason:""})}catch(p){console.error("Error deleting account:",p),Ke.error("Erro ao processar excluso")}};return o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Privacidade e Segurana"}),o.jsx("p",{className:"text-gray-600",children:"Controle seus dados e configuraes de privacidade conforme a LGPD"})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(V0,{className:"h-6 w-6 text-blue-600 mr-3"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Configuraes de Privacidade"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibilidade do Perfil"}),o.jsxs("select",{value:n.profileVisibility,onChange:p=>c("profileVisibility",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"private",children:"Privado - Apenas eu"}),o.jsx("option",{value:"connections",children:"Conexes - Amigos e comunidade"}),o.jsx("option",{value:"public",children:"Pblico - Qualquer pessoa"})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Quem pode ver seu perfil e progresso"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium text-gray-900",children:"Mostrar Progresso"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Compartilhar seu progresso com outros usurios"})]}),o.jsx("button",{onClick:()=>c("showProgress",!n.showProgress),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.showProgress?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.showProgress?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium text-gray-900",children:"Mostrar Metas"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Compartilhar suas metas pessoais"})]}),o.jsx("button",{onClick:()=>c("showGoals",!n.showGoals),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.showGoals?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.showGoals?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium text-gray-900",children:"Permitir Mensagens"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Outros usurios podem te enviar mensagens"})]}),o.jsx("button",{onClick:()=>c("allowMessages",!n.allowMessages),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.allowMessages?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.allowMessages?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium text-gray-900",children:"Compartilhamento de Dados"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Usar dados para melhorar a plataforma (anonimizado)"})]}),o.jsx("button",{onClick:()=>c("dataSharing",!n.dataSharing),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.dataSharing?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.dataSharing?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium text-gray-900",children:"Emails de Marketing"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Receber emails sobre novidades e promoes"})]}),o.jsx("button",{onClick:()=>c("marketingEmails",!n.marketingEmails),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.marketingEmails?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.marketingEmails?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium text-gray-900",children:"Contedo Sensvel"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Acessar contedo sobre sexualidade e relacionamentos"})]}),o.jsx("button",{onClick:()=>c("sensitiveContent",!n.sensitiveContent),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.sensitiveContent?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.sensitiveContent?"translate-x-6":"translate-x-1"}`})})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(ww,{className:"h-6 w-6 text-green-600 mr-3"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Exportao de Dados (LGPD)"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600",children:"De acordo com a LGPD, voc tem o direito de receber todos os seus dados pessoais em formato porttil."}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:s.exportFormat,onChange:p=>i(g=>({...g,exportFormat:p.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"json",children:"JSON"}),o.jsx("option",{value:"csv",children:"CSV"})]}),o.jsxs("button",{onClick:d,disabled:s.exportInProgress,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[o.jsx(ww,{className:"h-4 w-4"}),o.jsx("span",{children:s.exportInProgress?"Exportando...":"Exportar Dados"})]})]}),s.lastExportDate&&o.jsxs("p",{className:"text-sm text-gray-500",children:["ltima exportao: ",new Date(s.lastExportDate).toLocaleString("pt-BR")]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(gM,{className:"h-6 w-6 text-red-600 mr-3"}),o.jsx("h2",{className:"text-xl font-bold text-red-900",children:"Excluir Conta"})]}),a.showConfirmation?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-red-700 font-medium",children:"Confirme sua identidade para prosseguir com a excluso:"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha atual"}),o.jsx("input",{type:"password",value:a.password,onChange:p=>l(g=>({...g,password:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Digite sua senha para confirmar"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo (opcional)"}),o.jsx("textarea",{value:a.reason,onChange:p=>l(g=>({...g,reason:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Por que est deixando o Respect Pill?"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>l({showConfirmation:!1,password:"",reason:""}),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:m,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Excluso"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-red-700",children:"Ateno: Esta ao  irreversvel. Todos os seus dados sero permanentemente excludos."}),o.jsx("button",{onClick:()=>l(p=>({...p,showConfirmation:!0})),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Solicitar Excluso de Conta"})]})]})]})]})}const RL=["Respeito acima de tudo - sem discurso de dio","Contedo construtivo e voltado para evoluo","Sem misoginia, machismo txico ou discurso de dio","Contedo sexual apenas em reas apropriadas","Mantenha o foco em crescimento pessoal"],Qk=["Introduo","Progresso","Dvida","Motivao","Relacionamentos","Treino","Alimentao","Sono","Leitura","Desafio","Vitria","Frustrao","Reflexo","Agradecimento","Pedido de Ajuda"];function DL(){const{user:t}=yt(),[e,n]=M.useState([]),[r,s]=M.useState(!0),[i,a]=M.useState(!1),[l,c]=M.useState(null),[d,h]=M.useState([]),[m,p]=M.useState(""),[g,T]=M.useState("");M.useEffect(()=>{k()},[g]);const k=async()=>{try{s(!0);const R=sr(ut,"posts");let O=Vs(R,Kr("isActive","==",!0),Ud("createdAt","desc"),JN(20));g&&(O=Vs(O,Kr("tags","array-contains",g)));const N=await hc(O),x=[];N.forEach(E=>{const _=E.data();x.push({id:E.id,userId:_.userId,userName:_.userName||"Usurio Annimo",userAvatar:_.userAvatar,title:_.title,content:_.content,images:_.images||[],tags:_.tags||[],likes:_.likes||0,comments:_.comments||0,isLiked:!1,isActive:_.isActive,createdAt:_.createdAt,updatedAt:_.updatedAt})}),n(x)}catch(R){console.error("Error loading posts:",R),n([])}finally{s(!1)}},I=async R=>{try{const O=sr(ut,"comments"),N=Vs(O,Kr("postId","==",R),Kr("isActive","==",!0),Ud("createdAt","asc")),x=await hc(N),E=[];x.forEach(_=>{const C=_.data();E.push({id:_.id,postId:C.postId,userId:C.userId,userName:C.userName||"Usurio Annimo",userAvatar:C.userAvatar,content:C.content,likes:C.likes||0,isLiked:!1,isActive:C.isActive,createdAt:C.createdAt,updatedAt:C.updatedAt})}),h(E)}catch(O){console.error("Error loading comments:",O)}},w=async R=>{try{const O=new Date().toISOString(),N={userId:(t==null?void 0:t.id)||"guest",userName:(t==null?void 0:t.name)||"Usurio Annimo",title:R.title,content:R.content,images:[],tags:R.tags,likes:0,comments:0,isActive:!0,createdAt:O,updatedAt:O},E={id:(await Qa(sr(ut,"posts"),N)).id,...N,isLiked:!1};n([E,...e]),a(!1),Ke.success("Post criado com sucesso!")}catch(O){console.error("Error creating post:",O),Ke.error("Erro ao criar post. Tente novamente.")}},y=async R=>{try{const O=e.find(_=>_.id===R);if(!O)return;const N=O.isLiked?O.likes-1:O.likes+1,x=!O.isLiked,E=$n(ut,"posts",R);await po(E,{likes:N}),n(e.map(_=>_.id===R?{..._,likes:N,isLiked:x}:_))}catch(O){console.error("Error liking post:",O)}},b=async()=>{if(!(!t||!l||!m.trim()))try{const R=new Date().toISOString(),O={postId:l.id,userId:t.id,userName:t.name,content:m.trim(),likes:0,isActive:!0,createdAt:R,updatedAt:R},x={id:(await Qa(sr(ut,"comments"),O)).id,...O};h([...d,x]),p("");const E=$n(ut,"posts",l.id);await po(E,{comments:l.comments+1}),n(e.map(_=>_.id===l.id?{..._,comments:_.comments+1}:_)),c({...l,comments:l.comments+1})}catch(R){console.error("Error creating comment:",R)}},P=async(R,O)=>{if(t)try{await Qa(sr(ut,"reports"),{reporterId:t.id,targetId:O,targetType:R,reason:"inappropriate",status:"pending",createdAt:new Date().toISOString()}),alert("Contedo reportado. Obrigado por ajudar a manter a comunidade segura.")}catch(N){console.error("Error reporting content:",N)}};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Carregando comunidade..."})]})}):o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[o.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:o.jsx(ii,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Comunidade e Identidade Masculina"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Conecte-se com outros homens na jornada de evoluo"})]})]}),o.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm sm:text-base w-full sm:w-auto justify-center",children:[o.jsx(Qu,{className:"h-4 w-4"}),o.jsx("span",{children:"Criar post"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>T(""),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium transition-colors ${g===""?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),Qk.map(R=>o.jsx("button",{onClick:()=>T(R),className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium transition-colors ${g===R?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R},R))]})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.map(R=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 font-semibold",children:R.userName.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:R.userName}),o.jsx("div",{className:"text-sm text-gray-500",children:bp(new Date(R.createdAt),{addSuffix:!0})})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>P("post",R.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(kk,{className:"h-4 w-4"})})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:R.title}),o.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:R.content}),R.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:R.tags.map(O=>o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:O},O))})]}),o.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:()=>y(R.id),className:`flex items-center space-x-2 transition-colors ${R.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[o.jsx(Xa,{className:`h-4 w-4 ${R.isLiked?"fill-current":""}`}),o.jsx("span",{className:"text-sm",children:R.likes})]}),o.jsxs("button",{onClick:()=>{c(R),I(R.id)},className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",children:[o.jsx(Qu,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:R.comments})]}),o.jsxs("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",children:[o.jsx(hM,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Compartilhar"})]})]})})]},R.id)),e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx(Qu,{className:"h-16 w-16 mx-auto"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum post ainda"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Seja o primeiro a compartilhar sua jornada!"}),o.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Criar primeiro post"})]})]}),i&&o.jsx(OL,{onClose:()=>a(!1),onSubmit:w}),l&&o.jsx(ML,{post:l,comments:d,newComment:m,onClose:()=>c(null),onLikePost:y,onCreateComment:b,onSetNewComment:p,onReportContent:P}),o.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Regras da Comunidade"}),o.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:RL.map((R,O)=>o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),o.jsx("span",{children:R})]},O))})]})})]})}function OL({onClose:t,onSubmit:e}){const[n,r]=M.useState(""),[s,i]=M.useState(""),[a,l]=M.useState([]),[c,d]=M.useState(!1),h=async p=>{if(p.preventDefault(),!n.trim()||!s.trim()){alert("Por favor, preencha ttulo e contedo");return}d(!0);try{await e({title:n.trim(),content:s.trim(),tags:a,images:[]})}catch(g){console.error("Error submitting post:",g),alert("Erro ao criar post. Tente novamente.")}finally{d(!1)}},m=p=>{l(g=>g.includes(p)?g.filter(T=>T!==p):[...g,p])};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Criar novo post"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:o.jsx(us,{className:"h-6 w-6"})})]})}),o.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),o.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"D um ttulo para seu post...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contedo"}),o.jsx("textarea",{value:s,onChange:p=>i(p.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Compartilhe sua experincia, dvida ou reflexo...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (opcional)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Qk.map(p=>o.jsx("button",{type:"button",onClick:()=>m(p),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${a.includes(p)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p},p))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Publicando...":"Publicar"})]})]})]})})}function ML({post:t,comments:e,newComment:n,onClose:r,onLikePost:s,onCreateComment:i,onSetNewComment:a,onReportContent:l}){return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Discusso"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:o.jsx(us,{className:"h-6 w-6"})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 font-semibold",children:t.userName.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:t.userName}),o.jsx("div",{className:"text-sm text-gray-500",children:bp(new Date(t.createdAt),{addSuffix:!0})})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),o.jsx("p",{className:"text-gray-700 whitespace-pre-wrap mb-4",children:t.content}),t.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map(c=>o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:c},c))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:()=>s(t.id),className:`flex items-center space-x-2 transition-colors ${t.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[o.jsx(Xa,{className:`h-4 w-4 ${t.isLiked?"fill-current":""}`}),o.jsx("span",{className:"text-sm",children:t.likes})]}),o.jsxs("button",{onClick:()=>l("post",t.id),className:"flex items-center space-x-2 text-gray-500 hover:text-red-500 transition-colors",children:[o.jsx(kk,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Reportar"})]})]})]}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("h4",{className:"font-semibold text-gray-900",children:["Comentrios (",e.length,")"]}),e.map(c=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-sm font-semibold",children:c.userName.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 text-sm",children:c.userName}),o.jsx("div",{className:"text-xs text-gray-500",children:bp(new Date(c.createdAt),{addSuffix:!0})})]})]}),o.jsx("p",{className:"text-gray-700 text-sm mb-2",children:c.content}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"text-xs text-gray-500 hover:text-red-500 transition-colors",children:"Curtir"}),o.jsx("button",{onClick:()=>l("comment",c.id),className:"text-xs text-gray-500 hover:text-red-500 transition-colors",children:"Reportar"})]})]},c.id)),e.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Qu,{className:"h-8 w-8 mx-auto mb-2"}),o.jsx("p",{children:"Seja o primeiro a comentar!"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx("textarea",{value:n,onChange:c=>a(c.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Escreva um comentrio..."})}),o.jsx("button",{onClick:i,disabled:!n.trim(),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(uM,{className:"h-5 w-5"})})]})]})]})})}const VL={video:Oc,audio:rM,text:bw,pdf:bw,quiz:zd},Nu={body:{label:"Corpo",color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/20"},mind:{label:"Mente",color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/20"},posture:{label:"Postura & Presena",color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20"},affective:{label:"Vida Afetiva",color:"text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/20"},sexuality:{label:"Sexualidade",color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/20"},discipline:{label:"Disciplina & Rotina",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20"},career:{label:"Propsito de Vida",color:"text-cyan-400",bg:"bg-cyan-500/10",border:"border-cyan-500/20"},community:{label:"Comunidade & Identidade",color:"text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20"}};function LL(){const[t,e]=M.useState([]),[n,r]=M.useState(null),[s,i]=M.useState(!0);M.useEffect(()=>{a()},[]);const a=async()=>{var p;try{i(!0);const g=sr(ut,"content"),T=Vs(g,Kr("isActive","==",!0),Ud("order","asc"),JN(100)),k=await hc(T),I=[];k.forEach(b=>{const P=b.data();I.push({id:b.id,title:P.title,description:P.description,type:P.type,duration:P.duration,level:P.level,pillar:P.pillar,thumbnailUrl:P.thumbnailUrl,contentUrl:P.contentUrl,isLocked:P.isLocked||!1,prerequisites:P.prerequisites||[],order:P.order||0,tags:P.tags||[]})});const w={};I.forEach(b=>{w[b.pillar]||(w[b.pillar]={}),w[b.pillar][b.level]||(w[b.pillar][b.level]=[]),w[b.pillar][b.level].push(b)});const y=[];Object.entries(w).forEach(([b,P])=>{Object.entries(P).forEach(([R,O])=>{const N=O.reduce((E,_)=>E+_.duration,0),x=Math.round(O.filter(E=>!E.isLocked).length/O.length*100);y.push({id:`${b}-${R}`,title:`${l(b)} - ${c(R)}`,description:d(b),pillar:b,level:R,modules:O.sort((E,_)=>E.order-_.order),totalDuration:N,progress:x,isActive:x>0&&x<100})})}),y.length===0&&Object.keys(Nu).forEach(b=>{y.push({id:`${b}-beginner`,title:`${l(b)}`,description:d(b),pillar:b,level:"beginner",modules:[],totalDuration:0,progress:0,isActive:!1})}),e(y),r(((p=y[0])==null?void 0:p.id)||null)}catch(g){console.error("Error loading content:",g)}finally{i(!1)}},l=p=>{var g;return((g=Nu[p])==null?void 0:g.label)||p},c=p=>({beginner:"Iniciante",intermediate:"Intermedirio",advanced:"Avanado"})[p]||p,d=p=>({body:"Domine sua biologia, nutrio e performance fsica.",mind:"Desenvolva resilincia, foco e clareza mental.",posture:"Construa uma presena magntica e linguagem corporal poderosa.",affective:"Cultive relacionamentos saudveis e inteligncia emocional.",sexuality:"Explore a energia sexual como fonte de vitalidade e conexo.",discipline:"Estabelea rotinas inquebrveis e autodisciplina.",career:"Acelere seu crescimento profissional e habilidades de comunicao.",community:"Encontre seu propsito e contribua para algo maior."})[p]||"Trilha de aprendizado personalizada",h=p=>{p.isLocked||console.log("Opening module:",p.id)};if(s)return o.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cobalt-500 mx-auto mb-4"}),o.jsx("p",{className:"text-zinc-400",children:"Carregando trilhas..."})]})});const m=t.find(p=>p.id===n);return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Currculo"}),o.jsx("p",{className:"text-zinc-400",children:"O mapa completo para sua evoluo nas 8 reas fundamentais."})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[o.jsx("h3",{className:"text-sm font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Trilhas Disponveis"}),o.jsx("div",{className:"space-y-2",children:t.map(p=>{const g=Nu[p.pillar]||Nu.body,T=n===p.id;return o.jsxs("button",{onClick:()=>r(p.id),className:`w-full text-left p-4 rounded-xl border transition-all duration-300 group ${T?`bg-dark-800 ${g.border} shadow-lg shadow-black/20`:"bg-dark-850 border-white/5 hover:bg-dark-800 hover:border-white/10"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:`text-sm font-medium ${T?g.color:"text-zinc-400 group-hover:text-zinc-300"}`,children:l(p.pillar)}),p.progress>0&&o.jsxs("span",{className:"text-xs text-zinc-500",children:[p.progress,"%"]})]}),o.jsx("h4",{className:`font-medium mb-1 ${T?"text-white":"text-zinc-300"}`,children:c(p.level)}),o.jsx("div",{className:"w-full bg-dark-900 h-1 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${T?"bg-white":"bg-zinc-700"}`,style:{width:`${p.progress}%`}})})]},p.id)})})]}),o.jsx("div",{className:"lg:col-span-8",children:m?o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-8 border-b border-white/10 bg-gradient-to-br from-dark-800 to-dark-900 relative",children:[o.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:o.jsx(pM,{className:"h-32 w-32 text-white"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-white/5 text-white border border-white/10",children:c(m.level)}),o.jsxs("div",{className:"flex items-center text-zinc-400 text-xs",children:[o.jsx(M0,{className:"h-3 w-3 mr-1"}),Math.ceil(m.totalDuration/60),"h total"]})]}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:m.title}),o.jsx("p",{className:"text-zinc-400 leading-relaxed max-w-2xl",children:m.description})]})]}),o.jsx("div",{className:"p-6",children:m.modules.length>0?o.jsx("div",{className:"space-y-4",children:m.modules.map(p=>{const g=VL[p.type];return o.jsxs("div",{onClick:()=>h(p),className:`group relative flex items-center p-4 rounded-xl border transition-all duration-300 ${p.isLocked?"bg-dark-900/50 border-white/5 opacity-50 cursor-not-allowed":"bg-dark-800 border-white/5 hover:border-cobalt-500/30 hover:bg-dark-750 cursor-pointer"}`,children:[o.jsx("div",{className:"flex-shrink-0 mr-4",children:o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center border ${p.isLocked?"bg-dark-900 border-white/5 text-zinc-600":"bg-cobalt-500/10 border-cobalt-500/20 text-cobalt-400 group-hover:text-cobalt-300"}`,children:p.isLocked?o.jsx(sM,{className:"h-5 w-5"}):o.jsx(g,{className:"h-5 w-5"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:`font-medium truncate ${p.isLocked?"text-zinc-500":"text-white group-hover:text-cobalt-100"}`,children:p.title}),!p.isLocked&&o.jsx("span",{className:"text-[10px] uppercase tracking-wider px-2 py-0.5 rounded bg-white/5 text-zinc-400 border border-white/5",children:p.type})]}),o.jsx("p",{className:"text-sm text-zinc-500 truncate",children:p.description})]}),o.jsx("div",{className:"flex-shrink-0 ml-4 flex items-center",children:!p.isLocked&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(O0,{className:"h-4 w-4 text-white"})})})]},p.id)})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-dark-800 mb-4",children:o.jsx(zd,{className:"h-8 w-8 text-zinc-600"})}),o.jsx("h3",{className:"text-white font-medium mb-2",children:"Em Breve"}),o.jsx("p",{className:"text-zinc-500 max-w-sm mx-auto",children:"Os mdulos desta trilha esto sendo preparados pelos nossos especialistas."})]})})]}):o.jsx("div",{className:"flex items-center justify-center h-full min-h-[400px] text-zinc-500",children:"Selecione uma trilha para comear"})})]})]})}var Yk="https://js.stripe.com/v3",FL=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var UL=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Yk,'"]')),n=0;n<e.length;n++){var r=e[n];if(FL.test(r.src))return r}return null},ob=function(e){var n="",r=document.createElement("script");r.src="".concat(Yk).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},il=null,ku=null,Su=null,zL=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},$L=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},BL=function(e){return il!==null?il:(il=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=UL();if(!(s&&e)){if(!s)s=ob(e);else if(s&&Su!==null&&ku!==null){var i;s.removeEventListener("load",Su),s.removeEventListener("error",ku),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=ob(e)}}Su=$L(n,r),ku=zL(r),s.addEventListener("load",Su),s.addEventListener("error",ku)}catch(a){r(a);return}}),il.catch(function(n){return il=null,Promise.reject(n)}))},al,qL=function(){return al||(al=BL(null).catch(function(e){return al=null,Promise.reject(e)}),al)};Promise.resolve().then(function(){return qL()}).catch(function(t){console.warn(t)});var Xk={exports:{}},WL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HL=WL,GL=HL;function Zk(){}function Jk(){}Jk.resetWarningCache=Zk;var KL=function(){function t(r,s,i,a,l,c){if(c!==GL){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Jk,resetWarningCache:Zk};return n.PropTypes=n,n};Xk.exports=KL();var QL=Xk.exports;const rt=th(QL);function lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(n),!0).forEach(function(r){eS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(e){return typeof e}:Xu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function eS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tS(t,e){return YL(t)||XL(t,e)||ZL(t,e)||JL()}function YL(t){if(Array.isArray(t))return t}function XL(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,a,l;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function ZL(t,e){if(t){if(typeof t=="string")return ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(t,e)}}function ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var kn=function(e,n,r){var s=!!r,i=$.useRef(r);$.useEffect(function(){i.current=r},[r]),$.useEffect(function(){if(!s||!e)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,a),function(){e.off(n,a)}},[s,n,e,i])},Pp=function(e){var n=$.useRef(e);return $.useEffect(function(){n.current=e},[e]),n.current},bo=function(e){return e!==null&&Xu(e)==="object"},e6=function(e){return bo(e)&&typeof e.then=="function"},t6=function(e){return bo(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},db="[object Object]",n6=function t(e,n){if(!bo(e)||!bo(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(e)===db,a=Object.prototype.toString.call(n)===db;if(i!==a)return!1;if(!i&&!r)return e===n;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(var d={},h=0;h<l.length;h+=1)d[l[h]]=!0;for(var m=0;m<c.length;m+=1)d[c[m]]=!0;var p=Object.keys(d);if(p.length!==l.length)return!1;var g=e,T=n,k=function(w){return t(g[w],T[w])};return p.every(k)},nS=function(e,n,r){return bo(e)?Object.keys(e).reduce(function(s,i){var a=!bo(n)||!n6(e[i],n[i]);return r.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?cb(cb({},s||{}),{},eS({},i,e[i])):s},null):null},rS="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",hb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rS;if(e===null||t6(e))return e;throw new Error(n)},r6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rS;if(e6(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return hb(s,n)})};var r=hb(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},s6=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Hh=$.createContext(null);Hh.displayName="ElementsContext";var sS=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},iS=function(e){var n=e.stripe,r=e.options,s=e.children,i=$.useMemo(function(){return r6(n)},[n]),a=$.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),l=tS(a,2),c=l[0],d=l[1];$.useEffect(function(){var p=!0,g=function(k){d(function(I){return I.stripe?I:{stripe:k,elements:k.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(T){T&&p&&g(T)}):i.tag==="sync"&&!c.stripe&&g(i.stripe),function(){p=!1}},[i,c,r]);var h=Pp(n);$.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var m=Pp(r);return $.useEffect(function(){if(c.elements){var p=nS(r,m,["clientSecret","fonts"]);p&&c.elements.update(p)}},[r,m,c.elements]),$.useEffect(function(){s6(c.stripe)},[c.stripe]),$.createElement(Hh.Provider,{value:c},s)};iS.propTypes={stripe:rt.any,options:rt.object};var i6=function(e){var n=$.useContext(Hh);return sS(n,e)},a6=function(){var e=i6("calls useElements()"),n=e.elements;return n};rt.func.isRequired;var aS=$.createContext(null);aS.displayName="CustomCheckoutSdkContext";var o6=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},l6=$.createContext(null);l6.displayName="CustomCheckoutContext";rt.any,rt.shape({clientSecret:rt.string.isRequired,elementsOptions:rt.object}).isRequired;var Rp=function(e){var n=$.useContext(aS),r=$.useContext(Hh);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?o6(n,e):sS(r,e)},c6=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},St=function(e,n){var r="".concat(c6(e),"Element"),s=function(c){var d=c.id,h=c.className,m=c.options,p=m===void 0?{}:m,g=c.onBlur,T=c.onFocus,k=c.onReady,I=c.onChange,w=c.onEscape,y=c.onClick,b=c.onLoadError,P=c.onLoaderStart,R=c.onNetworksChange,O=c.onConfirm,N=c.onCancel,x=c.onShippingAddressChange,E=c.onShippingRateChange,_=Rp("mounts <".concat(r,">")),C="elements"in _?_.elements:null,A="customCheckoutSdk"in _?_.customCheckoutSdk:null,j=$.useState(null),ne=tS(j,2),te=ne[0],me=ne[1],W=$.useRef(null),q=$.useRef(null);kn(te,"blur",g),kn(te,"focus",T),kn(te,"escape",w),kn(te,"click",y),kn(te,"loaderror",b),kn(te,"loaderstart",P),kn(te,"networkschange",R),kn(te,"confirm",O),kn(te,"cancel",N),kn(te,"shippingaddresschange",x),kn(te,"shippingratechange",E),kn(te,"change",I);var F;k&&(e==="expressCheckout"?F=k:F=function(){k(te)}),kn(te,"ready",F),$.useLayoutEffect(function(){if(W.current===null&&q.current!==null&&(C||A)){var le=null;A?le=A.createElement(e,p):C&&(le=C.create(e,p)),W.current=le,me(le),le&&le.mount(q.current)}},[C,A,p]);var Y=Pp(p);return $.useEffect(function(){if(W.current){var le=nS(p,Y,["paymentRequest"]);le&&"update"in W.current&&W.current.update(le)}},[p,Y]),$.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),$.createElement("div",{id:d,className:h,ref:q})},i=function(c){Rp("mounts <".concat(r,">"));var d=c.id,h=c.className;return $.createElement("div",{id:d,className:h})},a=n?i:s;return a.propTypes={id:rt.string,className:rt.string,onChange:rt.func,onBlur:rt.func,onFocus:rt.func,onReady:rt.func,onEscape:rt.func,onClick:rt.func,onLoadError:rt.func,onLoaderStart:rt.func,onNetworksChange:rt.func,onConfirm:rt.func,onCancel:rt.func,onShippingAddressChange:rt.func,onShippingRateChange:rt.func,options:rt.object},a.displayName=r,a.__elementType=e,a},Tt=typeof window>"u",u6=$.createContext(null);u6.displayName="EmbeddedCheckoutProviderContext";var d6=function(){var e=Rp("calls useStripe()"),n=e.stripe;return n};St("auBankAccount",Tt);var fb=St("card",Tt);St("cardNumber",Tt);St("cardExpiry",Tt);St("cardCvc",Tt);St("fpxBank",Tt);St("iban",Tt);St("idealBank",Tt);St("p24Bank",Tt);St("epsBank",Tt);St("payment",Tt);St("expressCheckout",Tt);St("currencySelector",Tt);St("paymentRequestButton",Tt);St("linkAuthentication",Tt);St("address",Tt);St("shippingAddress",Tt);St("paymentMethodMessaging",Tt);St("affirmMessage",Tt);St("afterpayClearpayMessage",Tt);const h6=null,f6=[{id:"basic-monthly",name:"Bsico",description:"Comece sua jornada com recursos essenciais",price:49,currency:"BRL",interval:"month",features:["Acesso s trilhas iniciantes","Trackers bsicos","Comunidade pblica","Suporte por email","Plano de 90 dias bsico"]},{id:"premium-monthly",name:"Premium",description:"Acesso completo para transformao acelerada",price:79,currency:"BRL",interval:"month",isPopular:!0,features:["Acesso a todas as trilhas","Trackers avanados","Comunidade premium","Suporte prioritrio","Plano de 90 dias personalizado","IA para gerao de dietas","Anlise de treinos por PDF","Contedo exclusivo mensal"]},{id:"premium-yearly",name:"Premium Anual",description:"Economize 2 meses com plano anual",price:790,currency:"BRL",interval:"year",features:["Tudo do Premium Mensal","2 meses grtis","Sesses Q&A mensais","Acesso antecipado a novos recursos","Desafios exclusivos com prmios"]}];function m6({plan:t,onSuccess:e}){const n=d6(),r=a6(),[s,i]=M.useState(!1),[a,l]=M.useState(null),c=async d=>{var h;if(d.preventDefault(),!(!n||!r)){i(!0),l(null);try{const m=await fetch("/api/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:t.id,price:t.price,currency:t.currency,interval:t.interval})}),{clientSecret:p}=await m.json(),g=await n.confirmCardPayment(p,{payment_method:{card:r.getElement(fb),billing_details:{name:"Nome do Usurio",email:"usuario@email.com"}}});g.error?(l(g.error.message||"Erro no pagamento"),Ke.error("Erro no pagamento: "+g.error.message)):((h=g.paymentIntent)==null?void 0:h.status)==="succeeded"&&(Ke.success("Assinatura criada com sucesso!"),e())}catch(m){l(m.message||"Erro ao processar pagamento"),Ke.error("Erro ao processar pagamento")}finally{i(!1)}}};return o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dados do carto"}),o.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:o.jsx(fb,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),a&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[o.jsx(QO,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm",children:a})]}),o.jsx("button",{type:"submit",disabled:!n||s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Processando..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(eM,{className:"h-4 w-4"}),o.jsxs("span",{children:["Assinar por ",t.currency==="BRL"?"R$":"$",t.price,"/",t.interval==="month"?"ms":"ano"]})]})})]})}function p6(){const[t,e]=M.useState(null),[n,r]=M.useState(!1),s=a=>{e(a),r(!0)},i=()=>{r(!1),e(null),window.location.href="/dashboard?subscription=success"};return n&&t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md w-full",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("button",{onClick:()=>r(!1),className:"text-blue-600 hover:text-blue-700 text-sm font-medium mb-4",children:" Voltar para planos"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Finalizar assinatura"}),o.jsxs("p",{className:"text-gray-600",children:["Plano selecionado: ",o.jsx("span",{className:"font-medium",children:t.name})]})]}),o.jsx(iS,{stripe:h6,children:o.jsx(m6,{plan:t,onSuccess:i})}),o.jsxs("div",{className:"mt-6 text-xs text-gray-500 text-center",children:[o.jsx("p",{children:"Seus dados esto protegidos com criptografia SSL."}),o.jsx("p",{children:"Voc pode cancelar a qualquer momento."})]})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Escolha seu plano"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comece sua jornada de evoluo com o plano que melhor se adapta s suas necessidades"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:f6.map(a=>o.jsxs("div",{className:`relative bg-white rounded-xl shadow-lg p-8 border-2 transition-all hover:shadow-xl ${a.isPopular?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:[a.isPopular&&o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Mais popular"})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a.name}),o.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:[a.currency==="BRL"?"R$":"$",a.price]}),o.jsxs("span",{className:"text-gray-600",children:["/",a.interval==="month"?"ms":"ano"]})]})]}),o.jsx("ul",{className:"space-y-3 mb-8",children:a.features.map((l,c)=>o.jsxs("li",{className:"flex items-start space-x-3",children:[o.jsx(_k,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-gray-700",children:l})]},c))}),o.jsx("button",{onClick:()=>s(a),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${a.isPopular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:"Escolher plano"})]},a.id))}),o.jsxs("div",{className:"mt-16 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Perguntas frequentes"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto text-left",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Posso cancelar a qualquer momento?"}),o.jsx("p",{className:"text-gray-600",children:"Sim! Voc pode cancelar sua assinatura a qualquer momento sem multas ou taxas adicionais."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"H perodo de teste?"}),o.jsx("p",{className:"text-gray-600",children:"Oferecemos 7 dias grtis para novos usurios experimentarem todas as funcionalidades."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Como funciona o plano anual?"}),o.jsx("p",{className:"text-gray-600",children:"O plano anual oferece 2 meses grtis - voc paga por 10 meses e usa por 12."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Posso mudar de plano depois?"}),o.jsx("p",{className:"text-gray-600",children:"Sim! Voc pode fazer upgrade ou downgrade do seu plano a qualquer momento."})]})]})]})]})})}var g6={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},v6=function(e,n,r){var s,i=g6[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+s:"h "+s:s},y6={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},x6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},w6={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b6={date:Za({formats:y6,defaultWidth:"full"}),time:Za({formats:x6,defaultWidth:"full"}),dateTime:Za({formats:w6,defaultWidth:"full"})},_6={lastWeek:function(e){var n=e.getUTCDay(),r=n===0||n===6?"ltimo":"ltima";return"'"+r+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},E6=function(e,n,r,s){var i=_6[e];return typeof i=="function"?i(n):i},N6={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},k6={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},S6={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},T6={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},j6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},I6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},C6=function(e,n){var r=Number(e);return(n==null?void 0:n.unit)==="week"?r+"":r+""},A6={ordinalNumber:C6,era:Er({values:N6,defaultWidth:"wide"}),quarter:Er({values:k6,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Er({values:S6,defaultWidth:"wide"}),day:Er({values:T6,defaultWidth:"wide"}),dayPeriod:Er({values:j6,defaultWidth:"wide",formattingValues:I6,defaultFormattingWidth:"wide"})},P6=/^(\d+)[o]?/i,R6=/\d+/i,D6={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},O6={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},M6={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},V6={any:[/1/i,/2/i,/3/i,/4/i]},L6={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},F6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},U6={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},z6={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},$6={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},B6={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},q6={ordinalNumber:Dk({matchPattern:P6,parsePattern:R6,valueCallback:function(e){return parseInt(e,10)}}),era:Nr({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:O6,defaultParseWidth:"any"}),quarter:Nr({matchPatterns:M6,defaultMatchWidth:"wide",parsePatterns:V6,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Nr({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:F6,defaultParseWidth:"any"}),day:Nr({matchPatterns:U6,defaultMatchWidth:"wide",parsePatterns:z6,defaultParseWidth:"any"}),dayPeriod:Nr({matchPatterns:$6,defaultMatchWidth:"any",parsePatterns:B6,defaultParseWidth:"any"})},ha={code:"pt-BR",formatDistance:v6,formatLong:b6,formatRelative:E6,localize:A6,match:q6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function W6(){var O,N,x,E,_,C,A,j,ne,te,me;const{user:t}=yt(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=vi(),[s,i]=M.useState(new Date),[a,l]=M.useState(""),[c,d]=M.useState(""),[h,m]=M.useState("");M.useEffect(()=>{t&&n(t.id)},[t,n]);const p=ye(s,"yyyy-MM-dd"),g=e.find(W=>W.date===p&&W.type==="workout"),T=e.find(W=>W.date===p&&W.type==="sleep"),k=e.find(W=>W.date===p&&W.type==="diet"),I=async()=>{!t||!a||!c||(await r(t.id,p,"workout",{completed:!0,type:a,duration:parseInt(c),timestamp:new Date().toISOString()}),l(""),d(""))},w=async()=>{!t||!h||(await r(t.id,p,"sleep",{completed:!0,hours:parseFloat(h),timestamp:new Date().toISOString()}),m(""))},y=async W=>{t&&await r(t.id,p,"diet",{completed:W!=="none",status:W,timestamp:new Date().toISOString()})},b=yi(new Date,{weekStartsOn:1}),P=wi(new Date,{weekStartsOn:1}),R=xi({start:b,end:P});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Corpo & Vitalidade"}),o.jsx("p",{className:"text-zinc-400",children:"Monitore e otimize sua mquina biolgica."})]}),o.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(W=>{const q=da(new Date,Math.abs(W)),F=cn(q,s);return o.jsx("button",{onClick:()=>i(q),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${F?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:W===0?"Hoje":ye(q,"dd/MM")},W)})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:o.jsx(Ku,{className:"h-5 w-5 text-red-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Treino"})]}),((O=g==null?void 0:g.value)==null?void 0:O.completed)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsx("div",{className:"p-6",children:(N=g==null?void 0:g.value)!=null&&N.completed?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/10 mb-4",children:o.jsx(Ku,{className:"h-8 w-8 text-green-500"})}),o.jsx("h3",{className:"text-white font-medium mb-1",children:g.value.type}),o.jsxs("p",{className:"text-zinc-500",children:[g.value.duration," minutos"]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tipo de Treino"}),o.jsxs("select",{value:a,onChange:W=>l(W.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Selecione..."}),o.jsx("option",{value:"Musculao",children:"Musculao"}),o.jsx("option",{value:"Cardio",children:"Cardio"}),o.jsx("option",{value:"HIIT",children:"HIIT"}),o.jsx("option",{value:"Artes Marciais",children:"Artes Marciais"}),o.jsx("option",{value:"Yoga/Mobilidade",children:"Yoga/Mobilidade"}),o.jsx("option",{value:"Esporte",children:"Esporte"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Durao (minutos)"}),o.jsx("input",{type:"number",value:c,onChange:W=>d(W.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 outline-none transition-all",placeholder:"Ex: 45"})]}),o.jsxs("button",{onClick:I,disabled:!a||!c,className:"w-full bg-red-600 hover:bg-red-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Registrar Treino"})]})]})})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:o.jsx(L0,{className:"h-5 w-5 text-green-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Nutrio"})]}),((x=k==null?void 0:k.value)==null?void 0:x.completed)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Como foi sua alimentao hoje em relao ao planejado?"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>y("full"),className:`w-full p-4 rounded-xl border text-left transition-all flex items-center justify-between ${((E=k==null?void 0:k.value)==null?void 0:E.status)==="full"?"bg-green-500/10 border-green-500/50 text-white":"bg-dark-900 border-white/5 text-zinc-400 hover:bg-dark-800"}`,children:[o.jsx("span",{children:"100% Limpo"}),((_=k==null?void 0:k.value)==null?void 0:_.status)==="full"&&o.jsx(_t,{className:"h-4 w-4 text-green-500"})]}),o.jsxs("button",{onClick:()=>y("partial"),className:`w-full p-4 rounded-xl border text-left transition-all flex items-center justify-between ${((C=k==null?void 0:k.value)==null?void 0:C.status)==="partial"?"bg-yellow-500/10 border-yellow-500/50 text-white":"bg-dark-900 border-white/5 text-zinc-400 hover:bg-dark-800"}`,children:[o.jsx("span",{children:"Parcial / Deslize Leve"}),((A=k==null?void 0:k.value)==null?void 0:A.status)==="partial"&&o.jsx(_t,{className:"h-4 w-4 text-yellow-500"})]}),o.jsxs("button",{onClick:()=>y("none"),className:`w-full p-4 rounded-xl border text-left transition-all flex items-center justify-between ${((j=k==null?void 0:k.value)==null?void 0:j.status)==="none"?"bg-red-500/10 border-red-500/50 text-white":"bg-dark-900 border-white/5 text-zinc-400 hover:bg-dark-800"}`,children:[o.jsx("span",{children:"Fora do Plano"}),((ne=k==null?void 0:k.value)==null?void 0:ne.status)==="none"&&o.jsx(_t,{className:"h-4 w-4 text-red-500"})]})]})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg",children:o.jsx(_w,{className:"h-5 w-5 text-indigo-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Sono"})]}),((te=T==null?void 0:T.value)==null?void 0:te.completed)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsx("div",{className:"p-6",children:(me=T==null?void 0:T.value)!=null&&me.completed?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-500/10 mb-4",children:o.jsx(_w,{className:"h-8 w-8 text-indigo-500"})}),o.jsxs("h3",{className:"text-white font-medium mb-1",children:[T.value.hours," horas"]}),o.jsx("p",{className:"text-zinc-500",children:"Registrado"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Horas de Sono"}),o.jsx("input",{type:"number",step:"0.5",value:h,onChange:W=>m(W.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 outline-none transition-all",placeholder:"Ex: 7.5"})]}),o.jsxs("button",{onClick:w,disabled:!h,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Registrar Sono"})]})]})})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Semanal"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[o.jsx(cs,{className:"h-4 w-4"}),o.jsxs("span",{children:[ye(b,"dd/MM")," - ",ye(P,"dd/MM")]})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:R.map(W=>{var le,ie;const q=ye(W,"yyyy-MM-dd"),F=e.find(he=>he.date===q&&he.type==="workout"),Y=cn(W,new Date);return o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("span",{className:`text-xs ${Y?"text-white font-bold":"text-zinc-500"}`,children:ye(W,"EEE",{locale:ha}).slice(0,3)}),o.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${(le=F==null?void 0:F.value)!=null&&le.completed?"bg-red-500/20 border-red-500/50 text-red-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:((ie=F==null?void 0:F.value)==null?void 0:ie.completed)&&o.jsx(Ku,{className:"h-4 w-4"})})]},q)})})]})]})}function H6(){var j,ne,te,me,W,q;const{user:t}=yt(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=vi(),[s,i]=M.useState(new Date),[a,l]=M.useState(""),[c,d]=M.useState(""),[h,m]=M.useState(10*60),[p,g]=M.useState(10*60),[T,k]=M.useState(!1);M.useEffect(()=>{t&&n(t.id)},[t,n]),M.useEffect(()=>{let F;return T&&p>0?F=setInterval(()=>{g(Y=>Y-1)},1e3):p===0&&(k(!1),P()),()=>clearInterval(F)},[T,p]);const I=ye(s,"yyyy-MM-dd"),w=e.find(F=>F.date===I&&F.type==="meditation"),y=e.find(F=>F.date===I&&F.type==="reading"),b=e.find(F=>F.date===I&&F.type==="journal"),P=async()=>{if(!t)return;const F=Math.floor(h/60);await r(t.id,I,"meditation",{completed:!0,duration:F,timestamp:new Date().toISOString()})},R=async()=>{!t||!a||(await r(t.id,I,"reading",{completed:!0,pages:parseInt(a),timestamp:new Date().toISOString()}),l(""))},O=async()=>{!t||!c||(await r(t.id,I,"journal",{completed:!0,content:c,timestamp:new Date().toISOString()}),d(""))},N=F=>{const Y=Math.floor(F/60),le=F%60;return`${Y}:${le.toString().padStart(2,"0")}`},x=()=>k(!T),E=()=>{k(!1),g(h)},_=yi(new Date,{weekStartsOn:1}),C=wi(new Date,{weekStartsOn:1}),A=xi({start:_,end:C});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Mente & Intelecto"}),o.jsx("p",{className:"text-zinc-400",children:"Expanda sua conscincia e capacidade cognitiva."})]}),o.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(F=>{const Y=da(new Date,Math.abs(F)),le=cn(Y,s);return o.jsx("button",{onClick:()=>i(Y),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${le?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:F===0?"Hoje":ye(Y,"dd/MM")},F)})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:o.jsx(Ya,{className:"h-5 w-5 text-blue-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Meditao"})]}),((j=w==null?void 0:w.value)==null?void 0:j.completed)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsx("div",{className:"p-6",children:(ne=w==null?void 0:w.value)!=null&&ne.completed?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/10 mb-4",children:o.jsx(Ya,{className:"h-8 w-8 text-blue-500"})}),o.jsx("h3",{className:"text-white font-medium mb-1",children:"Concludo"}),o.jsxs("p",{className:"text-zinc-500",children:[w.value.duration," minutos de foco"]})]}):o.jsxs("div",{className:"text-center space-y-6",children:[o.jsx("div",{className:"text-5xl font-mono font-light text-white tracking-wider",children:N(p)}),o.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[o.jsx("button",{onClick:x,className:`p-4 rounded-full transition-all ${T?"bg-dark-800 text-zinc-400 hover:bg-dark-700":"bg-blue-600 text-white hover:bg-blue-500 shadow-lg shadow-blue-500/20"}`,children:T?o.jsx(Sk,{className:"h-6 w-6"}):o.jsx(Oc,{className:"h-6 w-6 ml-1"})}),o.jsx("button",{onClick:E,className:"p-4 rounded-full bg-dark-800 text-zinc-400 hover:bg-dark-700 transition-all",children:o.jsx(cM,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"flex justify-center space-x-2",children:[5,10,15,20].map(F=>o.jsxs("button",{onClick:()=>{m(F*60),g(F*60),k(!1)},className:`px-3 py-1 rounded text-xs font-medium transition-all ${h===F*60?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-dark-900 text-zinc-500 border border-white/5 hover:border-white/10"}`,children:[F,"min"]},F))})]})})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:o.jsx(zd,{className:"h-5 w-5 text-amber-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Leitura"})]}),((te=y==null?void 0:y.value)==null?void 0:te.completed)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsx("div",{className:"p-6",children:(me=y==null?void 0:y.value)!=null&&me.completed?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-amber-500/10 mb-4",children:o.jsx(zd,{className:"h-8 w-8 text-amber-500"})}),o.jsxs("h3",{className:"text-white font-medium mb-1",children:[y.value.pages," pginas"]}),o.jsx("p",{className:"text-zinc-500",children:"Conhecimento absorvido"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Pginas Lidas"}),o.jsx("input",{type:"number",value:a,onChange:F=>l(F.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 outline-none transition-all",placeholder:"Ex: 20"})]}),o.jsxs("button",{onClick:R,disabled:!a,className:"w-full bg-amber-600 hover:bg-amber-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Registrar Leitura"})]})]})})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:o.jsx($d,{className:"h-5 w-5 text-emerald-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Dirio"})]}),((W=b==null?void 0:b.value)==null?void 0:W.completed)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsx("div",{className:"p-6",children:(q=b==null?void 0:b.value)!=null&&q.completed?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-emerald-500/10 mb-4",children:o.jsx($d,{className:"h-8 w-8 text-emerald-500"})}),o.jsx("h3",{className:"text-white font-medium mb-1",children:"Reflexo Registrada"}),o.jsxs("p",{className:"text-zinc-500 line-clamp-2 px-4 italic",children:['"',b.value.content,'"']})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Reflexo do Dia"}),o.jsx("textarea",{value:c,onChange:F=>d(F.target.value),rows:4,className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 outline-none transition-all resize-none",placeholder:"Como est sua mente hoje? O que voc aprendeu?"})]}),o.jsxs("button",{onClick:O,disabled:!c,className:"w-full bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Salvar Reflexo"})]})]})})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Mental"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[o.jsx(cs,{className:"h-4 w-4"}),o.jsxs("span",{children:[ye(_,"dd/MM")," - ",ye(C,"dd/MM")]})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:A.map(F=>{var he,ke;const Y=ye(F,"yyyy-MM-dd"),le=e.find(De=>De.date===Y&&De.type==="meditation"),ie=cn(F,new Date);return o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("span",{className:`text-xs ${ie?"text-white font-bold":"text-zinc-500"}`,children:ye(F,"EEE",{locale:ha}).slice(0,3)}),o.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${(he=le==null?void 0:le.value)!=null&&he.completed?"bg-blue-500/20 border-blue-500/50 text-blue-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:((ke=le==null?void 0:le.value)==null?void 0:ke.completed)&&o.jsx(Ya,{className:"h-4 w-4"})})]},Y)})})]})]})}function G6(){var k,I,w,y,b;const{user:t}=yt(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=vi(),[s,i]=M.useState(new Date),[a,l]=M.useState("");M.useEffect(()=>{t&&n(t.id)},[t,n]);const c=ye(s,"yyyy-MM-dd"),d=e.find(P=>P.date===c&&P.type==="posture"),h=async()=>{var O,N;if(!t)return;const P=((O=d==null?void 0:d.value)==null?void 0:O.checks)||0,R=((N=d==null?void 0:d.value)==null?void 0:N.stretchingDuration)||0;await r(t.id,c,"posture",{completed:!0,checks:P+1,stretchingDuration:R,timestamp:new Date().toISOString()})},m=async()=>{var R;if(!t||!a)return;const P=((R=d==null?void 0:d.value)==null?void 0:R.checks)||0;await r(t.id,c,"posture",{completed:!0,checks:P,stretchingDuration:parseInt(a),timestamp:new Date().toISOString()}),l("")},p=yi(new Date,{weekStartsOn:1}),g=wi(new Date,{weekStartsOn:1}),T=xi({start:p,end:g});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Postura & Presena"}),o.jsx("p",{className:"text-zinc-400",children:"Sua linguagem corporal define sua realidade."})]}),o.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(P=>{const R=da(new Date,Math.abs(P)),O=cn(R,s);return o.jsx("button",{onClick:()=>i(R),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${O?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:P===0?"Hoje":ye(R,"dd/MM")},P)})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:o.jsx(xp,{className:"h-5 w-5 text-amber-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Check de Postura"})]}),(((k=d==null?void 0:d.value)==null?void 0:k.checks)||0)>0&&o.jsxs("div",{className:"flex items-center space-x-1 text-amber-500",children:[o.jsx("span",{className:"font-bold text-lg",children:(I=d==null?void 0:d.value)==null?void 0:I.checks}),o.jsx("span",{className:"text-xs uppercase",children:"checks"})]})]}),o.jsxs("div",{className:"p-6 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-amber-500/10 mb-4 relative group cursor-pointer",onClick:h,children:[o.jsx("div",{className:"absolute inset-0 rounded-full bg-amber-500/20 animate-ping opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),o.jsx(vp,{className:"h-10 w-10 text-amber-500 transform group-hover:-translate-y-1 transition-transform duration-300"})]}),o.jsx("h3",{className:"text-white font-medium mb-1",children:"Corrija sua Postura"}),o.jsx("p",{className:"text-zinc-500 text-sm max-w-xs mx-auto",children:"Coluna ereta, ombros para trs, peito aberto. Respire fundo."})]}),o.jsxs("button",{onClick:h,className:"w-full bg-amber-600 hover:bg-amber-500 text-white font-medium py-3 rounded-xl transition-all shadow-lg shadow-amber-500/20 flex items-center justify-center space-x-2",children:[o.jsx(_t,{className:"h-5 w-5"}),o.jsx("span",{children:"Registrar Check (+1)"})]})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:o.jsx(xw,{className:"h-5 w-5 text-emerald-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Alongamento"})]}),(((w=d==null?void 0:d.value)==null?void 0:w.stretchingDuration)||0)>0&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsx("div",{className:"p-6",children:(((y=d==null?void 0:d.value)==null?void 0:y.stretchingDuration)||0)>0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-emerald-500/10 mb-4",children:o.jsx(xw,{className:"h-8 w-8 text-emerald-500"})}),o.jsxs("h3",{className:"text-white font-medium mb-1",children:[(b=d==null?void 0:d.value)==null?void 0:b.stretchingDuration," minutos"]}),o.jsx("p",{className:"text-zinc-500",children:"Flexibilidade trabalhada"}),o.jsx("button",{onClick:()=>l(""),className:"mt-4 text-xs text-zinc-500 hover:text-white underline",children:"Atualizar"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Durao (minutos)"}),o.jsx("input",{type:"number",value:a,onChange:P=>l(P.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 outline-none transition-all",placeholder:"Ex: 15"})]}),o.jsxs("button",{onClick:m,disabled:!a,className:"w-full bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Registrar Sesso"})]})]})})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Postural"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[o.jsx(cs,{className:"h-4 w-4"}),o.jsxs("span",{children:[ye(p,"dd/MM")," - ",ye(g,"dd/MM")]})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:T.map(P=>{var E,_;const R=ye(P,"yyyy-MM-dd"),O=e.find(C=>C.date===R&&C.type==="posture"),N=cn(P,new Date),x=(((E=O==null?void 0:O.value)==null?void 0:E.checks)||0)>0||(((_=O==null?void 0:O.value)==null?void 0:_.stretchingDuration)||0)>0;return o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("span",{className:`text-xs ${N?"text-white font-bold":"text-zinc-500"}`,children:ye(P,"EEE",{locale:ha}).slice(0,3)}),o.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${x?"bg-amber-500/20 border-amber-500/50 text-amber-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:x&&o.jsx(xp,{className:"h-4 w-4"})})]},R)})})]})]})}function K6(){var y,b,P,R,O,N,x,E,_;const{user:t}=yt(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=vi(),[s,i]=M.useState(new Date),[a,l]=M.useState(null),[c,d]=M.useState("");M.useEffect(()=>{t&&n(t.id)},[t,n]);const h=ye(s,"yyyy-MM-dd"),m=e.find(C=>C.date===h&&C.type==="affective"),p=async C=>{var ne,te;if(!t)return;const A=((ne=m==null?void 0:m.value)==null?void 0:ne.journal)||"",j=((te=m==null?void 0:m.value)==null?void 0:te.dateNight)||!1;await r(t.id,h,"affective",{completed:!0,emotionalState:C,journal:A,dateNight:j,timestamp:new Date().toISOString()}),l(C)},g=async()=>{var j,ne;if(!t||!c)return;const C=((j=m==null?void 0:m.value)==null?void 0:j.emotionalState)||a,A=((ne=m==null?void 0:m.value)==null?void 0:ne.dateNight)||!1;await r(t.id,h,"affective",{completed:!0,emotionalState:C,journal:c,dateNight:A,timestamp:new Date().toISOString()}),d("")},T=async()=>{var ne,te,me;if(!t)return;const C=((ne=m==null?void 0:m.value)==null?void 0:ne.emotionalState)||a,A=((te=m==null?void 0:m.value)==null?void 0:te.journal)||"",j=((me=m==null?void 0:m.value)==null?void 0:me.dateNight)||!1;await r(t.id,h,"affective",{completed:!0,emotionalState:C,journal:A,dateNight:!j,timestamp:new Date().toISOString()})},k=yi(new Date,{weekStartsOn:1}),I=wi(new Date,{weekStartsOn:1}),w=xi({start:k,end:I});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Vida Afetiva"}),o.jsx("p",{className:"text-zinc-400",children:"Cultive conexes profundas e inteligncia emocional."})]}),o.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(C=>{const A=da(new Date,Math.abs(C)),j=cn(A,s);return o.jsx("button",{onClick:()=>i(A),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${j?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:C===0?"Hoje":ye(A,"dd/MM")},C)})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg",children:o.jsx(fM,{className:"h-5 w-5 text-pink-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Estado Emocional"})]}),((y=m==null?void 0:m.value)==null?void 0:y.emotionalState)&&o.jsxs("div",{className:"flex items-center space-x-1 text-pink-500",children:[o.jsx("span",{className:"font-bold text-lg",children:m.value.emotionalState}),o.jsx("span",{className:"text-xs",children:"/10"})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-zinc-400 text-sm mb-6 text-center",children:"Como voc se sente hoje? (1-10)"}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(C=>{var j;const A=((j=m==null?void 0:m.value)==null?void 0:j.emotionalState)===C;return o.jsx("button",{onClick:()=>p(C),className:`aspect-square rounded-lg font-medium transition-all ${A?"bg-pink-500 text-white shadow-lg shadow-pink-500/30":"bg-dark-900 text-zinc-500 hover:bg-dark-800 hover:text-pink-400"}`,children:C},C)})})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:o.jsx(Xa,{className:"h-5 w-5 text-red-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Tempo de Qualidade"})]}),((b=m==null?void 0:m.value)==null?void 0:b.dateNight)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsxs("div",{className:"p-6 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:`inline-flex items-center justify-center w-24 h-24 rounded-full mb-4 relative group cursor-pointer transition-all ${(P=m==null?void 0:m.value)!=null&&P.dateNight?"bg-red-500/20":"bg-dark-900 hover:bg-dark-800"}`,onClick:T,children:o.jsx(Xa,{className:`h-10 w-10 transition-all ${(R=m==null?void 0:m.value)!=null&&R.dateNight?"text-red-500 fill-red-500":"text-zinc-600 group-hover:text-red-400"}`})}),o.jsx("h3",{className:"text-white font-medium mb-1",children:(O=m==null?void 0:m.value)!=null&&O.dateNight?"Conexo Registrada":"Registrar Conexo"}),o.jsx("p",{className:"text-zinc-500 text-sm max-w-xs mx-auto",children:"Date night, conversa profunda ou tempo de qualidade com quem importa."})]}),o.jsx("button",{onClick:T,className:`w-full font-medium py-3 rounded-xl transition-all flex items-center justify-center space-x-2 ${(N=m==null?void 0:m.value)!=null&&N.dateNight?"bg-dark-900 text-zinc-400 hover:bg-dark-800":"bg-red-600 hover:bg-red-500 text-white shadow-lg shadow-red-500/20"}`,children:(x=m==null?void 0:m.value)!=null&&x.dateNight?o.jsx(o.Fragment,{children:o.jsx("span",{children:"Desmarcar"})}):o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"h-5 w-5"}),o.jsx("span",{children:"Marcar como Feito"})]})})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:o.jsx($d,{className:"h-5 w-5 text-purple-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Dirio Afetivo"})]}),((E=m==null?void 0:m.value)==null?void 0:E.journal)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsx("div",{className:"p-6",children:(_=m==null?void 0:m.value)!=null&&_.journal?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-purple-500/10 mb-4",children:o.jsx($d,{className:"h-8 w-8 text-purple-500"})}),o.jsx("h3",{className:"text-white font-medium mb-1",children:"Registro Salvo"}),o.jsxs("p",{className:"text-zinc-500 line-clamp-3 px-4 italic",children:['"',m.value.journal,'"']})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Notas sobre Relacionamentos"}),o.jsx("textarea",{value:c,onChange:C=>d(C.target.value),rows:4,className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none transition-all resize-none",placeholder:"Observaes, gratido ou pontos de melhoria..."})]}),o.jsxs("button",{onClick:g,disabled:!c,className:"w-full bg-purple-600 hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Salvar Nota"})]})]})})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Afetiva"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[o.jsx(cs,{className:"h-4 w-4"}),o.jsxs("span",{children:[ye(k,"dd/MM")," - ",ye(I,"dd/MM")]})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:w.map(C=>{var me,W,q;const A=ye(C,"yyyy-MM-dd"),j=e.find(F=>F.date===A&&F.type==="affective"),ne=cn(C,new Date),te=(((me=j==null?void 0:j.value)==null?void 0:me.emotionalState)||0)>0||((W=j==null?void 0:j.value)==null?void 0:W.dateNight)||((q=j==null?void 0:j.value)==null?void 0:q.journal);return o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("span",{className:`text-xs ${ne?"text-white font-bold":"text-zinc-500"}`,children:ye(C,"EEE",{locale:ha}).slice(0,3)}),o.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${te?"bg-pink-500/20 border-pink-500/50 text-pink-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:te&&o.jsx(Xa,{className:"h-4 w-4"})})]},A)})})]})]})}function Q6(){var k,I,w,y;const{user:t}=yt(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=vi(),[s,i]=M.useState(new Date),[a,l]=M.useState("");M.useEffect(()=>{t&&n(t.id)},[t,n]);const c=ye(s,"yyyy-MM-dd"),d=e.find(b=>b.date===c&&b.type==="sexuality"),h=async b=>{var R;if(!t)return;const P=((R=d==null?void 0:d.value)==null?void 0:R.practice)||"";await r(t.id,c,"sexuality",{completed:!0,energyLevel:b,practice:P,timestamp:new Date().toISOString()})},m=async()=>{var P;if(!t||!a)return;const b=((P=d==null?void 0:d.value)==null?void 0:P.energyLevel)||0;await r(t.id,c,"sexuality",{completed:!0,energyLevel:b,practice:a,timestamp:new Date().toISOString()}),l("")},p=yi(new Date,{weekStartsOn:1}),g=wi(new Date,{weekStartsOn:1}),T=xi({start:p,end:g});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sexualidade & Energia"}),o.jsx("p",{className:"text-zinc-400",children:"Transmute sua energia vital para criar e realizar."})]}),o.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(b=>{const P=da(new Date,Math.abs(b)),R=cn(P,s);return o.jsx("button",{onClick:()=>i(P),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${R?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:b===0?"Hoje":ye(P,"dd/MM")},b)})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:o.jsx(fc,{className:"h-5 w-5 text-purple-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Nvel de Energia Vital"})]}),(((k=d==null?void 0:d.value)==null?void 0:k.energyLevel)||0)>0&&o.jsxs("div",{className:"flex items-center space-x-1 text-purple-500",children:[o.jsx("span",{className:"font-bold text-lg",children:(I=d==null?void 0:d.value)==null?void 0:I.energyLevel}),o.jsx("span",{className:"text-xs",children:"/10"})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-zinc-400 text-sm mb-6 text-center",children:"Como est sua vitalidade hoje? (1-10)"}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(b=>{var R;const P=((R=d==null?void 0:d.value)==null?void 0:R.energyLevel)===b;return o.jsx("button",{onClick:()=>h(b),className:`aspect-square rounded-lg font-medium transition-all ${P?"bg-purple-500 text-white shadow-lg shadow-purple-500/30":"bg-dark-900 text-zinc-500 hover:bg-dark-800 hover:text-purple-400"}`,children:b},b)})})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg",children:o.jsx(yp,{className:"h-5 w-5 text-red-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Prtica / Transmutao"})]}),((w=d==null?void 0:d.value)==null?void 0:w.practice)&&o.jsx(_t,{className:"h-5 w-5 text-green-500"})]}),o.jsx("div",{className:"p-6",children:(y=d==null?void 0:d.value)!=null&&y.practice?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-500/10 mb-4",children:o.jsx(yp,{className:"h-8 w-8 text-red-500"})}),o.jsx("h3",{className:"text-white font-medium mb-1",children:"Prtica Registrada"}),o.jsx("p",{className:"text-zinc-500",children:d.value.practice})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tipo de Prtica"}),o.jsxs("select",{value:a,onChange:b=>l(b.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Selecione..."}),o.jsx("option",{value:"Transmutao (Trabalho/Criatividade)",children:"Transmutao (Trabalho/Criatividade)"}),o.jsx("option",{value:"Reteno Seminal",children:"Reteno Seminal"}),o.jsx("option",{value:"Exerccios de Kegel",children:"Exerccios de Kegel"}),o.jsx("option",{value:"Conexo ntima",children:"Conexo ntima"}),o.jsx("option",{value:"Outro",children:"Outro"})]})]}),o.jsxs("button",{onClick:m,disabled:!a,className:"w-full bg-red-600 hover:bg-red-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Registrar"})]})]})})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[o.jsx(cs,{className:"h-4 w-4"}),o.jsxs("span",{children:[ye(p,"dd/MM")," - ",ye(g,"dd/MM")]})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:T.map(b=>{var x,E;const P=ye(b,"yyyy-MM-dd"),R=e.find(_=>_.date===P&&_.type==="sexuality"),O=cn(b,new Date),N=(((x=R==null?void 0:R.value)==null?void 0:x.energyLevel)||0)>0||((E=R==null?void 0:R.value)==null?void 0:E.practice);return o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("span",{className:`text-xs ${O?"text-white font-bold":"text-zinc-500"}`,children:ye(b,"EEE",{locale:ha}).slice(0,3)}),o.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${N?"bg-purple-500/20 border-purple-500/50 text-purple-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:N&&o.jsx(fc,{className:"h-4 w-4"})})]},P)})})]})]})}function Y6(){var w,y,b,P,R;const{user:t}=yt(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=vi(),[s,i]=M.useState(new Date),[a,l]=M.useState(""),[c,d]=M.useState(["Acordar cedo","Leitura","Treino","Meditao"]);M.useEffect(()=>{t&&n(t.id)},[t,n]);const h=ye(s,"yyyy-MM-dd"),m=e.find(O=>O.date===h&&O.type==="habits"),p=async O=>{var C;if(!t)return;const N=((C=m==null?void 0:m.value)==null?void 0:C.completedHabits)||[],x=N.includes(O);let E;x?E=N.filter(A=>A!==O):E=[...N,O];const _=Math.round(E.length/c.length*100);await r(t.id,h,"habits",{completed:!0,completedHabits:E,adherence:_,timestamp:new Date().toISOString()})},g=()=>{a&&!c.includes(a)&&(d([...c,a]),l(""))},T=yi(new Date,{weekStartsOn:1}),k=wi(new Date,{weekStartsOn:1}),I=xi({start:T,end:k});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Disciplina & Rotina"}),o.jsx("p",{className:"text-zinc-400",children:"A liberdade vem da disciplina inegocivel."})]}),o.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(O=>{const N=da(new Date,Math.abs(O)),x=cn(N,s);return o.jsx("button",{onClick:()=>i(N),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${x?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:O===0?"Hoje":ye(N,"dd/MM")},O)})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:o.jsx(JO,{className:"h-5 w-5 text-emerald-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Checklist Dirio"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-zinc-400",children:"Aderncia:"}),o.jsxs("span",{className:`font-bold ${(((w=m==null?void 0:m.value)==null?void 0:w.adherence)||0)>=80?"text-green-500":(((y=m==null?void 0:m.value)==null?void 0:y.adherence)||0)>=50?"text-yellow-500":"text-red-500"}`,children:[((b=m==null?void 0:m.value)==null?void 0:b.adherence)||0,"%"]})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"space-y-3 mb-6",children:c.map(O=>{var x,E;const N=(E=(x=m==null?void 0:m.value)==null?void 0:x.completedHabits)==null?void 0:E.includes(O);return o.jsxs("button",{onClick:()=>p(O),className:`w-full p-4 rounded-xl border text-left transition-all flex items-center justify-between group ${N?"bg-emerald-500/10 border-emerald-500/50 text-white":"bg-dark-900 border-white/5 text-zinc-400 hover:bg-dark-800"}`,children:[o.jsx("span",{className:N?"":"group-hover:text-zinc-300",children:O}),o.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center transition-all ${N?"bg-emerald-500 border-emerald-500 text-white":"border-zinc-600 group-hover:border-zinc-500"}`,children:N&&o.jsx(_t,{className:"h-4 w-4"})})]},O)})}),o.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-white/5",children:[o.jsx("input",{type:"text",value:a,onChange:O=>l(O.target.value),placeholder:"Adicionar novo hbito...",className:"flex-1 bg-dark-900 border border-white/10 rounded-lg px-4 py-2 text-sm text-white focus:ring-1 focus:ring-emerald-500/50 outline-none",onKeyPress:O=>O.key==="Enter"&&g()}),o.jsx("button",{onClick:g,disabled:!a,className:"p-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-zinc-400 hover:text-white transition-colors disabled:opacity-50",children:o.jsx(Dr,{className:"h-5 w-5"})})]})]})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:o.jsx(M0,{className:"h-5 w-5 text-blue-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Rotina"})]})}),o.jsxs("div",{className:"p-6 text-center",children:[o.jsxs("div",{className:"relative inline-flex items-center justify-center mb-4",children:[o.jsxs("svg",{className:"w-32 h-32",children:[o.jsx("circle",{className:"text-dark-800",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"58",cx:"64",cy:"64"}),o.jsx("circle",{className:"text-emerald-500",strokeWidth:"8",strokeDasharray:365,strokeDashoffset:365-365*(((P=m==null?void 0:m.value)==null?void 0:P.adherence)||0)/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"58",cx:"64",cy:"64",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.5s ease"}})]}),o.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[o.jsxs("span",{className:"text-3xl font-bold text-white",children:[((R=m==null?void 0:m.value)==null?void 0:R.adherence)||0,"%"]}),o.jsx("span",{className:"block text-xs text-zinc-500 uppercase tracking-wider",children:"Hoje"})]})]}),o.jsx("p",{className:"text-zinc-400 text-sm",children:"Mantenha a consistncia para construir uma vida extraordinria."})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:o.jsx(Bd,{className:"h-5 w-5 text-amber-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Foco"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-white font-medium mb-1",children:"Objetivo Principal"}),o.jsx("p",{className:"text-zinc-500 text-sm italic mb-4",children:'"No negocie com sua mente."'}),o.jsx("div",{className:"w-full bg-dark-900 rounded-lg p-3 text-zinc-400 text-sm border border-white/5",children:"Completar todos os hbitos por 7 dias seguidos."})]})})]})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Disciplinar"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[o.jsx(cs,{className:"h-4 w-4"}),o.jsxs("span",{children:[ye(T,"dd/MM")," - ",ye(k,"dd/MM")]})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:I.map(O=>{var C;const N=ye(O,"yyyy-MM-dd"),x=e.find(A=>A.date===N&&A.type==="habits"),E=cn(O,new Date),_=((C=x==null?void 0:x.value)==null?void 0:C.adherence)||0;return o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("span",{className:`text-xs ${E?"text-white font-bold":"text-zinc-500"}`,children:ye(O,"EEE",{locale:ha}).slice(0,3)}),o.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${_>0?_>=80?"bg-emerald-500/20 border-emerald-500/50 text-emerald-400":_>=50?"bg-yellow-500/20 border-yellow-500/50 text-yellow-400":"bg-red-500/20 border-red-500/50 text-red-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:_>0&&o.jsxs("span",{className:"text-xs font-bold",children:[_,"%"]})})]},N)})})]})]})}function X6(){var b,P,R,O,N,x,E,_,C,A,j,ne,te,me;const{user:t}=yt(),{trackers:e,loadTrackers:n,saveTrackerValue:r}=vi(),[s,i]=M.useState(new Date),[a,l]=M.useState(""),[c,d]=M.useState(""),[h,m]=M.useState("");M.useEffect(()=>{t&&n(t.id)},[t,n]);const p=ye(s,"yyyy-MM-dd"),g=e.find(W=>W.date===p&&W.type==="career"),T=async()=>{var F,Y;if(!t||!c)return;const W=((F=g==null?void 0:g.value)==null?void 0:F.networkingContacts)||[],q=a||((Y=g==null?void 0:g.value)==null?void 0:Y.financialGoal)||0;await r(t.id,p,"career",{completed:!0,financialGoal:parseFloat(q.toString()),currentAmount:parseFloat(c),networkingContacts:W,timestamp:new Date().toISOString()}),d("")},k=async()=>{var Y,le,ie;if(!t||!h)return;const W=((Y=g==null?void 0:g.value)==null?void 0:Y.networkingContacts)||[],q=((le=g==null?void 0:g.value)==null?void 0:le.financialGoal)||0,F=((ie=g==null?void 0:g.value)==null?void 0:ie.currentAmount)||0;await r(t.id,p,"career",{completed:!0,financialGoal:q,currentAmount:F,networkingContacts:[...W,h],timestamp:new Date().toISOString()}),m("")},I=yi(new Date,{weekStartsOn:1}),w=wi(new Date,{weekStartsOn:1}),y=xi({start:I,end:w});return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Propsito de Vida"}),o.jsx("p",{className:"text-zinc-400",children:"Construa seu imprio e expanda sua influncia."})]}),o.jsx("div",{className:"flex items-center space-x-2 bg-dark-850 p-1 rounded-lg border border-white/10",children:[-2,-1,0].map(W=>{const q=da(new Date,Math.abs(W)),F=cn(q,s);return o.jsx("button",{onClick:()=>i(q),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${F?"bg-dark-700 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:W===0?"Hoje":ye(q,"dd/MM")},W)})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-cyan-500/10 rounded-lg",children:o.jsx(tM,{className:"h-5 w-5 text-cyan-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Metas Financeiras"})]}),(((b=g==null?void 0:g.value)==null?void 0:b.currentAmount)||0)>0&&o.jsxs("div",{className:"flex items-center space-x-1 text-cyan-500",children:[o.jsx(Bh,{className:"h-4 w-4"}),o.jsxs("span",{className:"font-bold",children:["R$ ",(P=g==null?void 0:g.value)==null?void 0:P.currentAmount]})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-zinc-400",children:"Progresso Mensal"}),o.jsxs("span",{className:"text-white font-medium",children:[Math.round((((R=g==null?void 0:g.value)==null?void 0:R.currentAmount)||0)/(((O=g==null?void 0:g.value)==null?void 0:O.financialGoal)||1e4)*100),"%"]})]}),o.jsx("div",{className:"w-full bg-dark-900 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-cyan-500 rounded-full transition-all duration-500",style:{width:`${Math.min(100,(((N=g==null?void 0:g.value)==null?void 0:N.currentAmount)||0)/(((x=g==null?void 0:g.value)==null?void 0:x.financialGoal)||1e4)*100)}%`}})})]}),o.jsxs("div",{className:"space-y-4",children:[!((E=g==null?void 0:g.value)!=null&&E.financialGoal)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Meta Mensal (R$)"}),o.jsx("input",{type:"number",value:a,onChange:W=>l(W.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 outline-none transition-all",placeholder:"Ex: 10000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Faturamento Hoje (R$)"}),o.jsx("input",{type:"number",value:c,onChange:W=>d(W.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 outline-none transition-all",placeholder:"Ex: 500"})]}),o.jsxs("button",{onClick:T,disabled:!c,className:"w-full bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Registrar Entrada"})]})]})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg",children:o.jsx(ii,{className:"h-5 w-5 text-indigo-400"})}),o.jsx("h2",{className:"font-semibold text-white",children:"Networking"})]}),(((C=(_=g==null?void 0:g.value)==null?void 0:_.networkingContacts)==null?void 0:C.length)||0)>0&&o.jsxs("div",{className:"flex items-center space-x-1 text-indigo-500",children:[o.jsx("span",{className:"font-bold",children:(j=(A=g==null?void 0:g.value)==null?void 0:A.networkingContacts)==null?void 0:j.length}),o.jsx("span",{className:"text-xs uppercase",children:"contatos"})]})]}),o.jsxs("div",{className:"p-6",children:[(((te=(ne=g==null?void 0:g.value)==null?void 0:ne.networkingContacts)==null?void 0:te.length)||0)>0&&o.jsxs("div",{className:"mb-6 space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-zinc-400",children:"Contatos de Hoje:"}),(me=g==null?void 0:g.value)==null?void 0:me.networkingContacts.map((W,q)=>o.jsxs("div",{className:"flex items-center space-x-2 text-white bg-dark-900 p-2 rounded-lg border border-white/5",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),o.jsx("span",{children:W})]},q))]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Novo Contato / Conexo"}),o.jsx("input",{type:"text",value:h,onChange:W=>m(W.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 outline-none transition-all",placeholder:"Nome ou empresa..."})]}),o.jsxs("button",{onClick:k,disabled:!h,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2.5 rounded-lg transition-all flex items-center justify-center space-x-2",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{children:"Adicionar Contato"})]})]})]})]})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Consistncia Profissional"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-zinc-500",children:[o.jsx(cs,{className:"h-4 w-4"}),o.jsxs("span",{children:[ye(I,"dd/MM")," - ",ye(w,"dd/MM")]})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:y.map(W=>{var ie,he,ke;const q=ye(W,"yyyy-MM-dd"),F=e.find(De=>De.date===q&&De.type==="career"),Y=cn(W,new Date),le=(((ie=F==null?void 0:F.value)==null?void 0:ie.currentAmount)||0)>0||(((ke=(he=F==null?void 0:F.value)==null?void 0:he.networkingContacts)==null?void 0:ke.length)||0)>0;return o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("span",{className:`text-xs ${Y?"text-white font-bold":"text-zinc-500"}`,children:ye(W,"EEE",{locale:ha}).slice(0,3)}),o.jsx("div",{className:`w-full aspect-square rounded-lg flex items-center justify-center border transition-all ${le?"bg-cyan-500/20 border-cyan-500/50 text-cyan-400":"bg-dark-900 border-white/5 text-zinc-700"}`,children:le&&o.jsx(bk,{className:"h-4 w-4"})})]},q)})})]})]})}function Z6(){const[t,e]=M.useState("active"),n={title:"Protocolo Espartano",description:"30 dias de disciplina inegocivel. Banho gelado, treino dirio e leitura.",startDate:new Date(new Date().setDate(1)),endDate:Ck(new Date(new Date().setDate(1)),30),participants:1240,myProgress:12,totalDays:30,tasks:[{id:1,title:"Banho Gelado (3min)",completed:!0},{id:2,title:"Sem Acar",completed:!0},{id:3,title:"Leitura (20 pg)",completed:!1},{id:4,title:"Treino de Fora",completed:!1}]},r=[{rank:1,name:"Alexandre G.",points:15400,avatar:"A",trend:"up"},{rank:2,name:"Ricardo M.",points:14200,avatar:"R",trend:"same"},{rank:3,name:"Felipe S.",points:13850,avatar:"F",trend:"up"},{rank:4,name:"Voc",points:12100,avatar:"V",trend:"up"},{rank:5,name:"Joo P.",points:11900,avatar:"J",trend:"down"}],s=eV(n.endDate,new Date),i=Math.round(n.myProgress/n.totalDays*100);return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Desafios & Conquistas"}),o.jsx("p",{className:"text-zinc-400",children:"Supere seus limites e prove seu valor."})]})}),o.jsxs("div",{className:"flex space-x-1 bg-dark-850 p-1 rounded-xl border border-white/10 w-fit",children:[o.jsx("button",{onClick:()=>e("active"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${t==="active"?"bg-dark-700 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,children:"Desafio Ativo"}),o.jsx("button",{onClick:()=>e("leaderboard"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${t==="leaderboard"?"bg-dark-700 text-white shadow-sm":"text-zinc-400 hover:text-zinc-200"}`,children:"Ranking"})]}),t==="active"?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/20 to-dark-850 rounded-2xl border border-yellow-500/20 overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:o.jsx(jk,{className:"h-48 w-48 text-yellow-500"})}),o.jsxs("div",{className:"p-8 relative z-10",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"px-3 py-1 rounded-full bg-yellow-500/20 text-yellow-400 text-xs font-bold uppercase tracking-wider border border-yellow-500/20",children:"Mensal"}),o.jsxs("div",{className:"flex items-center text-zinc-400 text-sm",children:[o.jsx(cs,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:["Termina em ",s," dias"]})]})]}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:n.title}),o.jsx("p",{className:"text-zinc-300 mb-8 max-w-xl leading-relaxed",children:n.description}),o.jsxs("div",{className:"space-y-2 mb-8",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-zinc-400",children:"Seu Progresso"}),o.jsxs("span",{className:"text-white font-medium",children:[i,"%"]})]}),o.jsx("div",{className:"w-full bg-dark-900 h-3 rounded-full overflow-hidden border border-white/5",children:o.jsx("div",{className:"h-full bg-yellow-500 rounded-full transition-all duration-500 shadow-[0_0_15px_rgba(234,179,8,0.3)]",style:{width:`${i}%`}})}),o.jsxs("div",{className:"flex justify-between text-xs text-zinc-500 mt-1",children:[o.jsxs("span",{children:["Dia ",n.myProgress]}),o.jsxs("span",{children:["Meta: ",n.totalDays," dias"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.tasks.map(a=>o.jsxs("div",{className:`p-4 rounded-xl border transition-all flex items-center justify-between ${a.completed?"bg-yellow-500/10 border-yellow-500/30 text-white":"bg-dark-900 border-white/5 text-zinc-400"}`,children:[o.jsx("span",{className:"font-medium",children:a.title}),a.completed?o.jsx(_t,{className:"h-5 w-5 text-yellow-500"}):o.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-zinc-600"})]},a.id))})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Suas Conquistas"}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>o.jsxs("div",{className:"aspect-square rounded-xl bg-dark-900 border border-white/5 flex flex-col items-center justify-center p-2 group hover:border-yellow-500/30 transition-all cursor-pointer",children:[o.jsx(aM,{className:`h-8 w-8 mb-2 ${a<=3?"text-yellow-500":"text-zinc-700"}`}),o.jsx("span",{className:`text-[10px] text-center ${a<=3?"text-white":"text-zinc-600"}`,children:a<=3?"Conquistado":"Bloqueado"})]},a))})]}),o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Participantes"}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3,4].map(a=>o.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-700 border border-dark-850 flex items-center justify-center text-xs text-zinc-400",children:String.fromCharCode(64+a)},a)),o.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-800 border border-dark-850 flex items-center justify-center text-xs text-zinc-500",children:"+"})]}),o.jsxs("span",{className:"text-sm text-zinc-400",children:[n.participants," ativos"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl bg-white/5 hover:bg-white/10 text-white text-sm font-medium transition-all",children:"Convidar Amigo"})]})]})]}):o.jsxs("div",{className:"bg-dark-850 rounded-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Ranking Global"}),o.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Os mais disciplinados da comunidade."})]}),o.jsx("div",{className:"divide-y divide-white/5",children:r.map(a=>o.jsxs("div",{className:`p-4 flex items-center justify-between hover:bg-white/5 transition-colors ${a.name==="Voc"?"bg-yellow-500/5":""}`,children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`w-8 h-8 flex items-center justify-center font-bold rounded-lg ${a.rank===1?"bg-yellow-500 text-black":a.rank===2?"bg-zinc-400 text-black":a.rank===3?"bg-orange-700 text-white":"bg-dark-800 text-zinc-500"}`,children:a.rank}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700 flex items-center justify-center text-zinc-300 font-medium",children:a.avatar}),o.jsxs("div",{children:[o.jsx("div",{className:`font-medium ${a.name==="Voc"?"text-yellow-500":"text-white"}`,children:a.name}),o.jsx("div",{className:"text-xs text-zinc-500",children:"Nvel Elite"})]})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-mono font-medium",children:a.points.toLocaleString()}),o.jsx("div",{className:"text-xs text-zinc-500",children:"XP"})]}),a.trend==="up"&&o.jsx(vp,{className:"h-4 w-4 text-green-500"}),a.trend==="down"&&o.jsx(vp,{className:"h-4 w-4 text-red-500 rotate-180"}),a.trend==="same"&&o.jsx("div",{className:"w-4 h-0.5 bg-zinc-600"})]})]},a.rank))})]})]})}const J6={"Supino Reto":"Flat Bench Press","Supino Reto com Halteres":"Dumbbell Bench Press","Supino Reto Mquina":"Machine Chest Press","Supino Inclinado":"Incline Bench Press","Supino Inclinado com Halteres":"Incline Dumbbell Press",Crucifixo:"Chest Fly","Crucifixo na Polia":"Cable Fly","Crucifixo Reto":"Dumbbell Fly","Crossover Polia Alta":"High Cable Crossover","Flexo de Brao":"Push Up","Puxada Alta":"Lat Pulldown","Puxada Alta Frente":"Lat Pulldown","Puxada Tringulo":"V-Bar Lat Pulldown","Remada Curvada":"Barbell Bent Over Row","Remada Curvada Pegada Supinada":"Reverse Grip Bent Over Row","Remada Unilateral (Serrote)":"One Arm Dumbbell Row",Pulldown:"Straight Arm Pulldown","Barra Fixa":"Pull Up",Graviton:"Assisted Pull Up","Hiperextenso Lombar":"Back Extension","Desenvolvimento Militar":"Overhead Press","Desenvolvimento com Halteres":"Dumbbell Shoulder Press","Desenvolvimento Mquina":"Machine Shoulder Press","Elevao Lateral":"Lateral Raise","Elevao Frontal":"Front Raise","Elevao Frontal Corda":"Cable Front Raise","Crucifixo Inverso":"Reverse Pec Deck","Face Pull":"Face Pull","Encolhimento com Halteres":"Dumbbell Shrug","Rosca Direta":"Barbell Curl","Rosca Direta Halteres":"Dumbbell Curl","Rosca Direta Barra W":"EZ Bar Curl","Rosca Martelo":"Hammer Curl","Rosca Scott":"Preacher Curl","Trceps Corda":"Tricep Rope Pushdown","Trceps Pulley":"Tricep Pushdown","Trceps Testa":"Skullcrushers","Agachamento Livre":"Barbell Squat","Agachamento Goblet":"Goblet Squat","Leg Press":"Leg Press","Leg Press 45":"Leg Press","Cadeira Extensora":"Leg Extension","Mesa Flexora":"Leg Curl","Afundo com Halteres":"Dumbbell Lunges","Levantamento Terra":"Deadlift",Stiff:"Stiff Leg Deadlift","Stiff com Halteres":"Dumbbell Stiff Leg Deadlift","Panturrilha Sentado":"Seated Calf Raise","Panturrilha em P":"Standing Calf Raise","Abdominal Supra":"Crunch","Prancha Abdominal":"Plank"},e9={"Supino Reto com Halteres":"VmB1G1K7v94","Supino Inclinado com Halteres":"8iPEnn-ltC8","Supino Reto":"rT7DgCr-3pg","Supino Inclinado":"SrqOu55lrYU","Crucifixo Reto":"eozdVDA78K0","Crucifixo na Polia":"Iwe6AmxVf7o","Crossover Polia Alta":"taI4XduLpTk","Flexo de Brao":"IODxDxX7oi4","Puxada Alta":"CAwf7n6Luuc","Puxada Alta Frente":"CAwf7n6Luuc","Remada Curvada":"6FZHJGzMFEc","Remada Unilateral (Serrote)":"pYcpY20QaE8","Barra Fixa":"eGo4IYlbE5g",Pulldown:"JGeRYez5zen","Desenvolvimento Militar":"QAQ64hK4Xxs","Desenvolvimento com Halteres":"qEwKCR5JCog","Elevao Lateral":"3VcKaXpzqRo","Elevao Frontal":"-t7fuZ0KRCY","Face Pull":"V8dZqdIdeCc","Encolhimento com Halteres":"g6qqin4skUA","Crucifixo Inverso":"n1e412yqPWA","Trceps Corda":"6yHuuyj-Ex0","Trceps Testa":"d_KZxkY_0cM","Trceps Pulley":"2-LAMcpzODU","Rosca Direta":"i1xrPS-lEkI","Rosca Direta Halteres":"sAq_ocpRh_I","Rosca Martelo":"zC3nLlEpq4w","Rosca Scott":"fIWP8RFNCN8","Agachamento Livre":"UltWZb7TIx8","Agachamento Goblet":"MeIiIdhvXT4","Leg Press":"IZxyjW7MPJQ","Leg Press 45":"IZxyjW7MPJQ","Cadeira Extensora":"YyvSfVjQeL0","Mesa Flexora":"ELOCsoDSmrg","Afundo com Halteres":"D7KaRcUTQeE","Levantamento Terra":"op9kVnSso6Q",Stiff:"1Tq3QdYUuHs","Stiff com Halteres":"1Tq3QdYUuHs","Panturrilha Sentado":"JbyjNymZOt0","Panturrilha em P":"ymkhMbO-u6k","Abdominal Supra":"Xyd_fa5zoEU","Prancha Abdominal":"pSHjTRVQxqk"},t9={Iniciante:{2:{id:"adaptacao-ab",title:"Adaptao Muscular (AB)",level:"Iniciante",frequency:"2x/semana",notes:"Foco em aprender o movimento. Cargas leves, amplitude mxima.",createdAt:new Date().toISOString(),schedule:[{dayName:"Treino A - Superiores",exercises:[{name:"Supino Reto com Halteres",sets:3,reps:"12-15",rest:"60s"},{name:"Puxada Alta Frente",sets:3,reps:"12-15",rest:"60s"},{name:"Desenvolvimento com Halteres",sets:3,reps:"12-15",rest:"60s"},{name:"Rosca Direta Halteres",sets:3,reps:"12-15",rest:"60s"},{name:"Trceps Pulley",sets:3,reps:"12-15",rest:"60s"},{name:"Abdominal Supra",sets:3,reps:"15-20",rest:"45s"}]},{dayName:"Treino B - Inferiores",exercises:[{name:"Leg Press 45",sets:3,reps:"12-15",rest:"90s"},{name:"Cadeira Extensora",sets:3,reps:"12-15",rest:"60s"},{name:"Mesa Flexora",sets:3,reps:"12-15",rest:"60s"},{name:"Panturrilha Sentado",sets:3,reps:"15-20",rest:"45s"},{name:"Prancha Abdominal",sets:3,reps:"30-45s",rest:"60s"}]}]},3:{id:"adaptacao-fullbody",title:"Adaptao Full Body",level:"Iniciante",frequency:"3x/semana",notes:"Treino de corpo inteiro para adaptao neural e metablica.",createdAt:new Date().toISOString(),schedule:[{dayName:"Dia 1 - Full Body A",exercises:[{name:"Agachamento Livre",sets:3,reps:"12",rest:"90s"},{name:"Supino Reto",sets:3,reps:"12",rest:"60s"},{name:"Remada Curvada",sets:3,reps:"12",rest:"60s"},{name:"Desenvolvimento Militar",sets:2,reps:"12",rest:"60s"}]},{dayName:"Dia 2 - Full Body B",exercises:[{name:"Leg Press",sets:3,reps:"12",rest:"90s"},{name:"Puxada Alta",sets:3,reps:"12",rest:"60s"},{name:"Flexo de Brao",sets:3,reps:"Max",rest:"60s"},{name:"Elevao Lateral",sets:2,reps:"15",rest:"45s"}]},{dayName:"Dia 3 - Full Body C",exercises:[{name:"Levantamento Terra",sets:3,reps:"10",rest:"90s"},{name:"Supino Inclinado",sets:3,reps:"12",rest:"60s"},{name:"Rosca Direta",sets:2,reps:"15",rest:"45s"},{name:"Trceps Corda",sets:2,reps:"15",rest:"45s"}]}]}},Intermedirio:{4:{id:"abcd-intermediario",title:"Diviso ABCD (4x)",level:"Intermedirio",frequency:"4x/semana",notes:"Intensidade moderada a alta. Foco na falha concntrica.",createdAt:new Date().toISOString(),schedule:[{dayName:"A - Peito e Trceps",exercises:[{name:"Supino Reto com Halteres",sets:4,reps:"8-12",rest:"90s"},{name:"Supino Inclinado com Halteres",sets:3,reps:"10-12",rest:"60s"},{name:"Crucifixo na Polia",sets:3,reps:"12-15",rest:"60s"},{name:"Trceps Corda",sets:4,reps:"12-15",rest:"45s"},{name:"Trceps Testa",sets:3,reps:"10-12",rest:"60s"}]},{dayName:"B - Costas e Bceps",exercises:[{name:"Puxada Alta Frente",sets:4,reps:"8-12",rest:"90s"},{name:"Remada Curvada",sets:4,reps:"8-10",rest:"90s"},{name:"Pulldown",sets:3,reps:"12-15",rest:"60s"},{name:"Rosca Direta",sets:3,reps:"10-12",rest:"60s"},{name:"Rosca Martelo",sets:3,reps:"12",rest:"60s"}]},{dayName:"C - Pernas Completo",exercises:[{name:"Agachamento Livre",sets:4,reps:"8-10",rest:"120s"},{name:"Leg Press 45",sets:4,reps:"10-12",rest:"90s"},{name:"Cadeira Extensora",sets:3,reps:"12-15",rest:"60s"},{name:"Mesa Flexora",sets:4,reps:"12",rest:"60s"},{name:"Panturrilha em P",sets:4,reps:"15-20",rest:"45s"}]},{dayName:"D - Ombros e Trapzio",exercises:[{name:"Desenvolvimento Militar",sets:4,reps:"8-12",rest:"90s"},{name:"Elevao Lateral",sets:4,reps:"12-15",rest:"45s"},{name:"Crucifixo Inverso",sets:3,reps:"12-15",rest:"45s"},{name:"Encolhimento com Halteres",sets:4,reps:"12-15",rest:"60s"}]}]}},Avanado:{5:{id:"abcde-avancado",title:"Diviso ABCDE (5x)",level:"Avanado",frequency:"5x/semana",notes:"Volume alto por grupo muscular. Recuperao  chave.",createdAt:new Date().toISOString(),schedule:[{dayName:"A - Peito",exercises:[{name:"Supino Inclinado com Halteres",sets:4,reps:"8-10",rest:"90s"},{name:"Supino Reto com Halteres",sets:4,reps:"10-12",rest:"60s"},{name:"Crucifixo Reto",sets:3,reps:"12-15",rest:"60s"},{name:"Crossover Polia Alta",sets:3,reps:"15",rest:"45s",technique:"Drop-set"}]},{dayName:"B - Costas",exercises:[{name:"Barra Fixa",sets:4,reps:"Falha",rest:"90s"},{name:"Remada Curvada",sets:4,reps:"8-10",rest:"90s"},{name:"Remada Unilateral (Serrote)",sets:3,reps:"10-12",rest:"60s"},{name:"Puxada Tringulo",sets:3,reps:"12",rest:"60s"},{name:"Hiperextenso Lombar",sets:3,reps:"15",rest:"60s"}]},{dayName:"C - Pernas (Foco Quadrceps)",exercises:[{name:"Agachamento Livre",sets:4,reps:"6-8",rest:"120s"},{name:"Leg Press 45",sets:4,reps:"10-12",rest:"90s"},{name:"Afundo com Halteres",sets:3,reps:"12",rest:"60s"},{name:"Cadeira Extensora",sets:4,reps:"15",rest:"45s",technique:"Isometria 2s"}]},{dayName:"D - Ombros",exercises:[{name:"Desenvolvimento com Halteres",sets:4,reps:"8-10",rest:"90s"},{name:"Elevao Lateral",sets:5,reps:"12-15",rest:"45s"},{name:"Elevao Frontal Corda",sets:3,reps:"12",rest:"60s"},{name:"Face Pull",sets:4,reps:"15",rest:"60s"}]},{dayName:"E - Braos e Posterior",exercises:[{name:"Rosca Direta Barra W",sets:4,reps:"10",rest:"60s"},{name:"Trceps Testa",sets:4,reps:"10",rest:"60s"},{name:"Rosca Scott",sets:3,reps:"12",rest:"45s"},{name:"Trceps Corda",sets:3,reps:"12",rest:"45s"},{name:"Mesa Flexora",sets:4,reps:"12",rest:"60s"},{name:"Stiff com Halteres",sets:3,reps:"10-12",rest:"90s"}]}]}}},n9=(t,e)=>{const n=t9[t];if(!n)return null;if(n[e])return n[e];const r=Object.keys(n);return r.length>0?n[r[0]]:null},r9=({exercise:t,onClose:e})=>{const[n,r]=M.useState(null),[s,i]=M.useState(!0),[a,l]=M.useState(!1),c=M.useRef(null);M.useEffect(()=>{const p=e9[t.name];p&&r(p),i(!1)},[t.name]);const d=()=>{l(!0)},h=J6[t.name]||t.name,m=`https://www.youtube.com/results?search_query=DeltaBolic+${encodeURIComponent(h)}+shorts`;return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-lg p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-dark-950 border border-red-900/30 w-full max-w-4xl shadow-2xl shadow-red-900/10 relative flex flex-col overflow-hidden rounded-xl",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-dark-950",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:e,className:"bg-transparent border-0 p-0 flex items-center gap-2 text-zinc-500 hover:text-white transition-colors group",children:[o.jsx(ca,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Voltar"})]}),o.jsx("div",{className:"h-4 w-px bg-white/10"}),o.jsx("div",{children:o.jsxs("h3",{className:"text-white font-bold uppercase tracking-wider text-sm flex items-center gap-2",children:[t.name," ",o.jsx("span",{className:"text-xs text-red-500 px-1.5 py-0.5 bg-red-900/20 rounded border border-red-900/30",children:"@DeltaBolic"})]})})]}),o.jsx("button",{onClick:e,className:"bg-transparent border-0 p-2 text-zinc-500 hover:text-white transition-colors",children:o.jsx(us,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"aspect-video w-full bg-black relative group flex items-center justify-center",children:s?o.jsx("div",{className:"flex flex-col items-center gap-3",children:o.jsx("div",{className:"w-8 h-8 border-2 border-dark-800 border-t-red-500 rounded-full animate-spin"})}):n&&!a?o.jsx("iframe",{ref:c,width:"100%",height:"100%",src:`https://www.youtube.com/embed/${n}?autoplay=1&rel=0&modestbranding=1`,title:`DeltaBolic ${t.name}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full",onError:d,onLoad:()=>{setTimeout(()=>{var p;if(c.current)try{const g=c.current.contentDocument||((p=c.current.contentWindow)==null?void 0:p.document);(!g||g.body.innerHTML.includes("Video unavailable"))&&l(!0)}catch{}},3e3)}}):o.jsxs("div",{className:"text-center p-8 max-w-md",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-red-600/20",children:a?o.jsx(YO,{className:"w-8 h-8 text-white"}):o.jsx(vM,{className:"w-8 h-8 text-white fill-current"})}),o.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:a?"Erro no Vdeo":"Vdeo No Mapeado"}),o.jsx("p",{className:"text-zinc-400 mb-6 text-sm leading-relaxed",children:a?"O vdeo no pde ser carregado. Isso pode acontecer devido a restries do YouTube ou vdeo removido.":"O vdeo especfico para este exerccio ainda no foi indexado no sistema."}),o.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-black text-xs font-bold uppercase tracking-widest hover:bg-zinc-200 transition-colors rounded-lg",children:[o.jsx("span",{children:"Buscar no DeltaBolic"}),o.jsx(nM,{className:"w-4 h-4"})]})]})}),o.jsxs("div",{className:"p-6 bg-dark-900 space-y-4",children:[o.jsxs("div",{className:"flex gap-4 text-xs uppercase tracking-widest font-mono text-zinc-400 border-b border-white/10 pb-4",children:[o.jsxs("div",{className:"flex-1 text-center border-r border-white/10 last:border-0",children:[o.jsx("span",{className:"block text-red-500 mb-1",children:"Sries"}),o.jsx("span",{className:"text-white font-bold",children:t.sets})]}),o.jsxs("div",{className:"flex-1 text-center border-r border-white/10 last:border-0",children:[o.jsx("span",{className:"block text-red-500 mb-1",children:"Reps"}),o.jsx("span",{className:"text-white font-bold",children:t.reps})]}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("span",{className:"block text-red-500 mb-1",children:"Descanso"}),o.jsx("span",{className:"text-white font-bold",children:t.rest})]})]}),o.jsx("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4",children:t.technique?o.jsxs("div",{className:"bg-cobalt-900/20 border border-cobalt-900/50 p-3 rounded-lg text-sm text-cobalt-200 flex-1 w-full",children:[o.jsx("strong",{className:"text-cobalt-500 uppercase text-xs block mb-1 tracking-wider",children:"Tcnica Avanada"}),t.technique]}):o.jsx("div",{className:"bg-dark-800/30 border border-white/10 p-3 rounded-lg text-sm text-zinc-500 flex-1 text-center italic w-full",children:"Mantenha o foco na fase excntrica (negativa) do movimento."})})]})]})})},s9=({onClose:t})=>{const{profile:e,saveWorkoutPlan:n}=yt(),[r,s]=M.useState(e!=null&&e.workoutPlan?"result":"input"),[i,a]=M.useState("Iniciante"),[l,c]=M.useState("3"),[d,h]=M.useState((e==null?void 0:e.workoutPlan)||null),[m,p]=M.useState(null),g=async()=>{s("loading"),await new Promise(I=>setTimeout(I,800));const k=n9(i,l);k?(h(k),n(k),s("result")):(s("input"),alert("Protocolo especfico no encontrado para esta combinao. Tentando adaptar..."))},T=()=>{h(null),n(void 0),s("input")};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",children:[o.jsxs("div",{className:"bg-dark-900 border border-white/10 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl relative flex flex-col rounded-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 bg-dark-900/95 sticky top-0 backdrop-blur-sm z-20 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:t,className:"bg-transparent border-0 p-0 flex items-center gap-2 text-zinc-400 hover:text-white transition-colors group",children:[o.jsx(ca,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),o.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),o.jsx("div",{className:"h-4 w-px bg-white/10"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fc,{className:"w-5 h-5 text-gold-500"}),o.jsx("h2",{className:"text-lg font-bold text-white",children:"Iron Log"})]})]}),o.jsx("button",{onClick:t,className:"bg-transparent border-0 p-2 text-zinc-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(us,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-8 flex-1",children:[r==="input"&&o.jsxs("div",{className:"space-y-8 max-w-lg mx-auto",children:[o.jsx("div",{className:"bg-dark-850 p-4 border border-white/5 rounded-lg",children:o.jsx("p",{className:"text-sm text-zinc-400",children:"Selecione seu nvel e disponibilidade para carregar um dos protocolos oficiais (Baseados nos PDFs do sistema)."})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 uppercase tracking-wider",children:"Nvel de Experincia"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Iniciante","Intermedirio","Avanado"].map(k=>o.jsx("button",{onClick:()=>a(k),className:`p-3 text-sm font-medium rounded-lg transition-all border ${i===k?"bg-white text-black border-white":"bg-transparent text-zinc-400 border-white/10 hover:border-white/30 hover:text-white"}`,children:k},k))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-400 uppercase tracking-wider",children:"Dias Disponveis / Semana"}),o.jsx("div",{className:"grid grid-cols-4 gap-3",children:["2","3","4","5"].map(k=>o.jsxs("button",{onClick:()=>c(k),className:`p-3 text-sm font-medium rounded-lg transition-all border ${l===k?"bg-cobalt-600 text-white border-cobalt-600":"bg-transparent text-zinc-400 border-white/10 hover:border-white/30 hover:text-white"}`,children:[k,"x"]},k))})]}),o.jsxs("button",{onClick:g,className:"w-full py-4 bg-gold-500 hover:bg-gold-400 text-black font-bold rounded-xl transition-all shadow-lg shadow-gold-500/20 mt-4 flex items-center justify-center gap-2",children:[o.jsx(_k,{className:"w-5 h-5"}),"Carregar Protocolo"]})]}),r==="loading"&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-6",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-dark-800 border-t-gold-500 rounded-full animate-spin"}),o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-white text-lg font-medium animate-pulse",children:"Buscando Protocolo..."}),o.jsx("p",{className:"text-zinc-500 text-sm mt-2",children:"Carregando estrutura de treino validada."})]})]}),r==="result"&&d&&o.jsxs("div",{className:"space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-white/10 pb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl text-white font-bold",children:d.title}),o.jsxs("div",{className:"flex gap-3 mt-2",children:[o.jsx("span",{className:"px-2 py-1 bg-gold-500/10 text-xs text-gold-500 uppercase font-bold rounded border border-gold-500/20",children:d.level}),o.jsx("span",{className:"px-2 py-1 bg-cobalt-500/10 text-xs text-cobalt-400 uppercase font-bold rounded border border-cobalt-500/20",children:d.frequency})]})]}),o.jsx("button",{onClick:T,className:"bg-transparent border-0 text-sm text-zinc-500 hover:text-white underline",children:"Trocar Protocolo"})]}),o.jsx("div",{className:"grid gap-8",children:d.schedule.map((k,I)=>o.jsxs("div",{className:"border border-white/10 bg-dark-850 p-6 rounded-xl",children:[o.jsx("h4",{className:"text-lg text-white font-bold mb-6 border-l-4 border-cobalt-500 pl-4",children:k.dayName}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-zinc-500 border-b border-white/5 uppercase text-xs tracking-wider",children:[o.jsx("th",{className:"pb-3 font-medium pl-2 w-12",children:"Vdeo"}),o.jsx("th",{className:"pb-3 font-medium",children:"Exerccio"}),o.jsx("th",{className:"pb-3 font-medium w-24",children:"Sries"}),o.jsx("th",{className:"pb-3 font-medium w-24",children:"Reps"}),o.jsx("th",{className:"pb-3 font-medium w-24",children:"Descanso"})]})}),o.jsx("tbody",{className:"divide-y divide-white/5",children:k.exercises.map((w,y)=>o.jsxs("tr",{className:"group hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"py-3 pl-2",children:o.jsx("button",{onClick:()=>p(w),className:"w-8 h-8 rounded-lg bg-dark-800 border border-white/10 flex items-center justify-center hover:bg-red-600 hover:border-red-500 hover:text-white text-zinc-400 transition-all p-0 group/btn",title:"Ver Execuo no DeltaBolic",children:o.jsx(Oc,{className:"w-3 h-3 ml-0.5 fill-current"})})}),o.jsxs("td",{className:"py-4 font-medium text-zinc-200",children:[w.name,w.technique&&o.jsx("span",{className:"block text-xs text-gold-500 font-bold uppercase mt-1",children:w.technique})]}),o.jsx("td",{className:"py-4 text-zinc-400",children:w.sets}),o.jsx("td",{className:"py-4 text-zinc-400",children:w.reps}),o.jsx("td",{className:"py-4 text-zinc-500 text-xs",children:w.rest})]},y))})]})})]},I))}),o.jsxs("div",{className:"bg-dark-850 p-4 border border-gold-500/20 rounded-xl text-zinc-400 text-sm",children:[o.jsx("span",{className:"font-bold text-gold-500 uppercase text-xs block mb-1",children:"Nota Tcnica:"}),'"',d.notes,'"']})]})]})]}),m&&o.jsx(r9,{exercise:m,onClose:()=>p(null)})]})},ol=["Isso  temporrio. Vai passar.","Voc est seguro aqui e agora.","Sinta o cho firme sob seus ps.","Sua respirao  sua ncora.","Apenas observe, no julgue.","Voc  maior que sua ansiedade.","O corpo sabe se regular. Confie.","Solte o controle. Apenas respire.","Este momento  seguro."],i9=({onClose:t})=>{const[e,n]=M.useState(0),[r,s]=M.useState("inhale"),[i,a]=M.useState(4),[l,c]=M.useState(!0),[d,h]=M.useState(!1),[m,p]=M.useState("Prepare-se..."),[g,T]=M.useState(ol[0]),k=[{name:"Quadrada (Foco)",in:4,hold:4,out:4,holdEmpty:4,color:"text-cobalt-400",circle:"border-cobalt-500"},{name:"Relaxamento (4-7-8)",in:4,hold:7,out:8,holdEmpty:0,color:"text-emerald-400",circle:"border-emerald-500"},{name:"Coerncia (Equilbrio)",in:5,hold:0,out:5,holdEmpty:0,color:"text-gold-400",circle:"border-gold-500"}],I=k[e],w=M.useRef(null),y={inhale:["Inspire calma...","Receba energia...","Encha os pulmes..."],hold:["Segure...","Mantenha o foco...","Estabilidade..."],exhale:["Expire a tenso...","Solte o peso...","Deixe ir..."],holdEmpty:["Vazio...","Silncio...","Paz..."]},b=()=>{navigator.vibrate&&navigator.vibrate(50)};M.useEffect(()=>(R(),()=>P()),[e]);const P=()=>{w.current&&clearInterval(w.current)},R=()=>{P(),c(!0),h(!1),s("inhale"),a(I.in),p("Inspire profundamente"),T(ol[Math.floor(Math.random()*ol.length)]),O()},O=()=>{w.current&&clearInterval(w.current),w.current=setInterval(()=>{a(A=>A>1?A-1:0)},1e3)},N=()=>{d?(h(!1),O()):(h(!0),w.current&&clearInterval(w.current))},x=()=>{P(),c(!1),h(!1),a(I.in),s("inhale"),p("Pronto para iniciar")};M.useEffect(()=>{if(!(!l||d)&&i===0){b();const A=E(r);let j=_(A),ne=A;j===0&&(ne=E(A),j=_(ne)),s(ne),a(j);const te=y[ne];te&&p(te[Math.floor(Math.random()*te.length)]),ne==="inhale"&&T(ol[Math.floor(Math.random()*ol.length)])}},[i,l,d,r,e]);const E=A=>A==="inhale"?"hold":A==="hold"?"exhale":A==="exhale"?"holdEmpty":"inhale",_=A=>A==="inhale"?I.in:A==="hold"?I.hold:A==="exhale"?I.out:I.holdEmpty,C=()=>{const A="w-64 h-64 rounded-full border-4 flex items-center justify-center transition-all duration-[1000ms] ease-linear relative ";return l?d?A+`scale-100 bg-dark-800 ${I.circle} opacity-50`:r==="inhale"?A+`scale-110 bg-dark-800/50 ${I.circle} shadow-[0_0_50px_rgba(255,255,255,0.1)]`:r==="hold"?A+`scale-110 bg-dark-800/50 ${I.circle}`:r==="exhale"?A+`scale-90 bg-black ${I.circle}`:A+"scale-90 bg-black border-dark-700":A+"scale-100 bg-black border-dark-700"};return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-xl animate-fade-in",children:o.jsxs("div",{className:"w-full max-w-md p-6 flex flex-col items-center relative h-full md:h-auto justify-center",children:[o.jsx("div",{className:"absolute top-6 left-6 md:top-0 md:left-0 w-full flex justify-between items-center z-20",children:o.jsxs("button",{onClick:t,className:"bg-transparent border border-white/10 flex items-center gap-2 text-zinc-400 hover:text-white transition-colors group px-4 py-2 rounded-full hover:bg-white/5",children:[o.jsx(ca,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Voltar"})]})}),o.jsx("div",{className:"flex gap-2 mb-8 z-10 mt-12 md:mt-0",children:k.map((A,j)=>o.jsx("button",{onClick:()=>n(j),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest rounded-full border transition-all ${e===j?"bg-white text-black border-white":"bg-transparent text-zinc-500 border-white/10 hover:border-white/30 hover:text-white"}`,children:A.name.split(" ")[0]},j))}),o.jsxs("div",{className:"relative mb-8 cursor-pointer",onClick:l?N:R,children:[o.jsx("div",{className:`absolute inset-0 rounded-full blur-3xl opacity-20 transition-all duration-1000 ${l&&!d&&(r==="inhale"||r==="hold")?"bg-white scale-125":"bg-transparent scale-90"}`}),o.jsx("div",{className:C(),children:o.jsx("div",{className:"text-center z-10",children:l?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:`block text-4xl font-black mb-2 transition-colors ${I.color}`,children:[r==="hold"||r==="holdEmpty"?"":i,d&&o.jsx("span",{className:"text-xs block mt-1 text-white",children:"PAUSA"})]}),!d&&o.jsxs("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-zinc-400",children:[r==="inhale"&&"Inspirar",r==="hold"&&"Segurar",r==="exhale"&&"Expirar",r==="holdEmpty"&&"Aguardar"]})]}):o.jsx("div",{className:"text-white font-medium",children:"Iniciar"})})})]}),o.jsxs("div",{className:"text-center h-32 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:`text-xl md:text-2xl font-light text-white mb-1 transition-opacity ${d?"opacity-50":"opacity-100"}`,children:['"',m,'"']}),o.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-widest",children:k[e].name})]}),o.jsx("div",{className:`transition-all duration-1000 ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:o.jsx("p",{className:"text-sm font-medium text-cobalt-400 italic",children:g})})]}),o.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[o.jsx("button",{onClick:x,disabled:!l,className:`p-4 rounded-full border bg-transparent transition-all ${l?"border-white/20 text-zinc-400 hover:bg-white/5 hover:text-white":"border-white/5 text-zinc-700 cursor-not-allowed"}`,children:o.jsx(mM,{className:"w-5 h-5 fill-current"})}),o.jsx("button",{onClick:l?N:R,className:"p-6 rounded-full bg-white text-black hover:bg-zinc-200 hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.1)] border-0",children:!l||d?o.jsx(Oc,{className:"w-6 h-6 ml-1 fill-current"}):o.jsx(Sk,{className:"w-6 h-6 fill-current"})})]})]})})},a9=({onClose:t})=>{const[e,n]=M.useState("input"),[r,s]=M.useState(""),[i,a]=M.useState(""),[l,c]=M.useState(null),d=async()=>{if(!r||!i)return;n("processing");const m=await bL();c(m),n("result")},h=()=>{s(""),a(""),c(null),n("input")};return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-dark-900 border border-white/10 w-full max-w-3xl shadow-2xl relative flex flex-col max-h-[90vh] overflow-y-auto rounded-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 bg-dark-900/95 flex justify-between items-center sticky top-0 backdrop-blur-sm z-10",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:t,className:"bg-transparent border-0 p-0 flex items-center gap-2 text-zinc-400 hover:text-white transition-colors group",children:[o.jsx(ca,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),o.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),o.jsx("div",{className:"h-4 w-px bg-white/10"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ya,{className:"w-5 h-5 text-white"}),o.jsx("h2",{className:"text-lg font-bold text-white",children:"Engenharia Cognitiva"})]})]}),o.jsx("button",{onClick:t,className:"bg-transparent border-0 p-2 text-zinc-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(us,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-8",children:[e==="input"&&o.jsxs("div",{className:"space-y-8 animate-fade-in",children:[o.jsx("div",{className:"bg-dark-850 p-6 border border-white/5 rounded-lg",children:o.jsxs("p",{className:"text-sm text-zinc-400 font-serif italic leading-relaxed",children:['"No so as coisas que perturbam os homens, mas a opinio que tm delas." ',o.jsx("br",{}),o.jsx("span",{className:"text-xs text-zinc-600 not-italic mt-2 block uppercase tracking-widest font-sans font-bold",children:" Epicteto"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-cobalt-500 uppercase tracking-widest block",children:"1. O Evento Gatilho (Realidade Objetiva)"}),o.jsx("input",{className:"w-full bg-dark-950 border-b-2 border-white/10 p-4 text-white placeholder-zinc-700 focus:border-cobalt-600 outline-none transition-colors",placeholder:"O que aconteceu de fato? (Sem julgamentos)",value:r,onChange:m=>s(m.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-red-500 uppercase tracking-widest block",children:"2. A Narrativa Txica (Sua Interpretao)"}),o.jsx("textarea",{className:"w-full bg-dark-950 border border-white/10 p-4 text-white placeholder-zinc-700 focus:border-red-900 outline-none h-32 resize-none transition-colors rounded-lg",placeholder:"O que sua mente est te dizendo sobre isso? O que voc teme?",value:i,onChange:m=>a(m.target.value)})]})]}),o.jsx("button",{onClick:d,disabled:!r||!i,className:`w-full py-4 font-bold rounded-xl uppercase tracking-widest text-sm transition-all ${!r||!i?"bg-dark-800 text-zinc-600 cursor-not-allowed":"bg-white text-black hover:bg-zinc-200 shadow-lg shadow-white/10"}`,children:"Reestruturar Realidade"})]}),e==="processing"&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-6",children:[o.jsxs("div",{className:"relative w-20 h-20",children:[o.jsx("div",{className:"absolute inset-0 border-4 border-dark-800 rounded-full"}),o.jsx("div",{className:"absolute inset-0 border-4 border-t-white rounded-full animate-spin"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-white text-lg font-medium animate-pulse",children:"Examinando Lgica..."}),o.jsx("p",{className:"text-zinc-500 text-sm mt-2",children:"Identificando falcias e aplicando princpios estoicos."})]})]}),e==="result"&&l&&o.jsxs("div",{className:"space-y-8 animate-fade-in",children:[o.jsx("div",{className:"flex items-start gap-4 p-6 bg-red-900/10 border border-red-900/30 rounded-lg",children:o.jsxs("div",{children:[o.jsx("h4",{className:"text-red-500 text-xs font-bold uppercase tracking-widest mb-1",children:"Distoro Detectada"}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:l.distortion}),o.jsx("p",{className:"text-zinc-400 text-sm leading-relaxed",children:l.analysis})]})}),o.jsxs("div",{className:"p-8 border border-gold-500/30 bg-gradient-to-br from-dark-900 to-black relative overflow-hidden rounded-lg",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gold-500/5 blur-3xl rounded-full"}),o.jsxs("h4",{className:"text-gold-500 text-xs font-bold uppercase tracking-widest mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-gold-500 rounded-full"})," A Verdade"]}),o.jsxs("p",{className:"text-lg md:text-xl text-white font-serif leading-relaxed",children:['"',l.reframe,'"']})]}),o.jsxs("div",{className:"bg-dark-850 p-6 border-l-4 border-cobalt-600 rounded-r-lg",children:[o.jsx("h4",{className:"text-cobalt-500 text-xs font-bold uppercase tracking-widest mb-2",children:"Protocolo Imediato"}),o.jsx("p",{className:"text-white font-medium",children:l.action})]}),o.jsx("button",{onClick:h,className:"w-full py-4 mt-8 bg-transparent border border-white/10 text-zinc-500 hover:text-white hover:border-white/30 rounded-xl uppercase tracking-widest text-xs font-bold transition-all",children:"Nova Entrada"})]})]})]})})},o9=({onClose:t})=>{var b,P,R,O,N,x;const{profile:e,saveDietPlan:n}=yt(),[r,s]=M.useState(e!=null&&e.dietPlan?"result":"input"),[i,a]=M.useState(((b=e==null?void 0:e.weight)==null?void 0:b.toString())||""),[l,c]=M.useState(((P=e==null?void 0:e.height)==null?void 0:P.toString())||""),[d,h]=M.useState("Perda de Peso"),[m,p]=M.useState("3"),[g,T]=M.useState(""),[k,I]=M.useState((e==null?void 0:e.dietPlan)||null),w=async()=>{if(!i||!l||!g)return;s("loading");const E=await yL(i,l,d);E?(I(E),n(E),s("result")):(s("input"),alert("Erro ao gerar dieta. Tente novamente com mais detalhes."))},y=()=>{I(null),n(void 0),s("input")};return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-dark-900 border border-white/10 w-full max-w-4xl shadow-2xl relative flex flex-col max-h-[90vh] overflow-y-auto rounded-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 bg-dark-900/95 flex justify-between items-center sticky top-0 backdrop-blur-sm z-10",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:t,className:"bg-transparent border-0 p-0 flex items-center gap-2 text-zinc-400 hover:text-white transition-colors group",children:[o.jsx(ca,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),o.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),o.jsx("div",{className:"h-4 w-px bg-white/10"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(L0,{className:"w-5 h-5 text-white"}),o.jsx("h2",{className:"text-lg font-bold text-white",children:"Arquitetura Nutricional"})]})]}),o.jsx("button",{onClick:t,className:"bg-transparent border-0 p-2 text-zinc-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(us,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-8",children:[r==="input"&&o.jsxs("div",{className:"space-y-8 animate-fade-in max-w-2xl mx-auto",children:[o.jsx("div",{className:"bg-dark-850 p-4 border border-white/5 rounded-lg",children:o.jsx("p",{className:"text-sm text-zinc-400 italic",children:'"O corpo  construdo na cozinha, esculpido no ginsio. Este sistema gera protocolos de combustvel ttico e acessvel."'})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:"Peso (kg)"}),o.jsx("input",{type:"number",className:"w-full bg-dark-950 border border-white/10 rounded-lg p-4 text-white focus:border-cobalt-600 outline-none transition-colors",placeholder:"Ex: 80",value:i,onChange:E=>a(E.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:"Altura (cm)"}),o.jsx("input",{type:"number",className:"w-full bg-dark-950 border border-white/10 rounded-lg p-4 text-white focus:border-cobalt-600 outline-none transition-colors",placeholder:"Ex: 180",value:l,onChange:E=>c(E.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:"Objetivo Ttico"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Perda de Peso","Ganho de Massa","Manuteno"].map(E=>o.jsx("button",{onClick:()=>h(E),className:`p-3 text-sm font-bold rounded-lg border transition-all ${d===E?"bg-white text-black border-white":"bg-transparent border-white/10 text-zinc-400 hover:border-white/30 hover:text-white"}`,children:E},E))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:"Refeies por Dia"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:["2","3","4","5+"].map(E=>o.jsx("button",{onClick:()=>p(E),className:`p-3 text-sm font-bold rounded-lg border transition-all ${m===E?"bg-cobalt-600 text-white border-cobalt-600":"bg-transparent border-white/10 text-zinc-400 hover:border-white/30 hover:text-white"}`,children:E},E))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-gold-500 uppercase tracking-widest",children:"Inventrio de Preferncias"}),o.jsx("textarea",{className:"w-full bg-dark-950 border border-white/10 rounded-lg p-4 text-white focus:border-gold-500 outline-none h-32 resize-none transition-colors",placeholder:"O que voc costuma comer? O que voc gosta? Tem alergias? (Ex: Gosto de frango, ovo, arroz, banana. Odeio peixe. Como s 12h e 20h.)",value:g,onChange:E=>T(E.target.value)})]}),o.jsx("button",{onClick:w,disabled:!i||!l||!g,className:`w-full py-4 font-bold rounded-xl uppercase tracking-widest text-sm transition-all ${!i||!l||!g?"bg-dark-800 text-zinc-600 cursor-not-allowed":"bg-cobalt-600 text-white hover:bg-cobalt-500 shadow-lg shadow-cobalt-500/20"}`,children:"Gerar Protocolo Nutricional"})]}),r==="loading"&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-6",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-dark-800 border-t-cobalt-600 rounded-full animate-spin"}),o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-white text-lg font-medium animate-pulse",children:"Calculando Macros..."}),o.jsx("p",{className:"text-zinc-500 text-sm mt-2",children:"Otimizando custo-benefcio e densidade nutricional."})]})]}),r==="result"&&k&&o.jsxs("div",{className:"space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-white/10 pb-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-1",children:"Estratgia Definida"}),o.jsx("h3",{className:"text-3xl text-white font-black uppercase italic",children:k.title})]}),o.jsxs("div",{className:"flex items-center gap-4 bg-dark-950 p-3 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"text-center px-4 border-r border-white/10",children:[o.jsx("div",{className:"text-xs text-zinc-500 uppercase",children:"Calorias"}),o.jsx("div",{className:"text-xl font-mono font-bold text-white",children:k.calories})]}),o.jsxs("div",{className:"text-center px-2",children:[o.jsx("div",{className:"text-[10px] text-zinc-500 uppercase",children:"Prot"}),o.jsx("div",{className:"text-sm font-mono font-bold text-cobalt-400",children:((R=k.macros)==null?void 0:R.protein)||"-"})]}),o.jsxs("div",{className:"text-center px-2",children:[o.jsx("div",{className:"text-[10px] text-zinc-500 uppercase",children:"Carb"}),o.jsx("div",{className:"text-sm font-mono font-bold text-gold-400",children:((O=k.macros)==null?void 0:O.carbs)||"-"})]}),o.jsxs("div",{className:"text-center px-2",children:[o.jsx("div",{className:"text-[10px] text-zinc-500 uppercase",children:"Gord"}),o.jsx("div",{className:"text-sm font-mono font-bold text-emerald-400",children:((N=k.macros)==null?void 0:N.fats)||"-"})]})]})]}),o.jsx("div",{className:"bg-dark-850 border-l-4 border-gold-500 p-4 rounded-r-lg",children:o.jsxs("p",{className:"text-zinc-300 italic text-sm",children:['"',k.strategy,'"']})}),o.jsx("div",{className:"space-y-6",children:(x=k.meals)==null?void 0:x.map((E,_)=>{var C;return o.jsxs("div",{className:"border border-white/5 bg-dark-850 p-6 rounded-xl hover:border-white/10 transition-colors",children:[o.jsxs("h4",{className:"text-lg text-white font-bold mb-4 uppercase flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-cobalt-600 rounded-full"}),E.name]}),o.jsx("ul",{className:"space-y-2",children:(C=E.items)==null?void 0:C.map((A,j)=>o.jsxs("li",{className:"flex items-center gap-3 text-zinc-300 text-sm border-b border-white/5 pb-2 last:border-0",children:[o.jsx("span",{className:"text-zinc-600",children:""}),A]},j))})]},_)})}),o.jsx("button",{onClick:y,className:"w-full py-4 mt-8 bg-transparent border border-white/10 text-zinc-500 hover:text-white hover:border-white/30 rounded-xl uppercase tracking-widest text-xs font-bold transition-all",children:"Recalcular Protocolo"})]})]})]})})},l9=({onClose:t})=>{const{profile:e,saveFinancialData:n}=yt(),r=(e==null?void 0:e.financialData)||{transactions:[],goal:"",lastAudit:void 0},[s,i]=M.useState(r.transactions),[a,l]=M.useState(r.goal),[c,d]=M.useState(r.lastAudit||null),[h,m]=M.useState(""),[p,g]=M.useState(""),[T,k]=M.useState("expense"),[I,w]=M.useState("Essencial"),[y,b]=M.useState(!1),P=(_,C,A)=>{n({transactions:_,goal:C,lastAudit:A})},R=()=>{if(!h||!p)return;const _={id:Date.now().toString(),description:h,amount:parseFloat(p),type:T,category:I},C=[...s,_];i(C),P(C,a,c||void 0),m(""),g("")},O=async()=>{if(s.length===0)return;b(!0),P(s,a,c||void 0);const _=await xL(s,a);d(_),P(s,a,_||void 0),b(!1)},N=s.filter(_=>_.type==="income").reduce((_,C)=>_+C.amount,0),x=s.filter(_=>_.type==="expense").reduce((_,C)=>_+C.amount,0),E=N-x;return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-dark-900 border border-white/10 w-full max-w-5xl h-[90vh] shadow-2xl relative flex flex-col overflow-hidden rounded-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 bg-dark-900/95 flex justify-between items-center sticky top-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:t,className:"bg-transparent border-0 p-0 flex items-center gap-2 text-zinc-400 hover:text-white transition-colors group",children:[o.jsx(ca,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),o.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),o.jsx("div",{className:"h-4 w-px bg-white/10"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bh,{className:"w-5 h-5 text-cobalt-500"}),o.jsx("h2",{className:"text-lg font-bold text-white",children:"Pipeline Financeiro"})]})]}),o.jsx("button",{onClick:t,className:"bg-transparent border-0 p-2 text-zinc-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(us,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row h-full overflow-hidden",children:[o.jsxs("div",{className:"w-full md:w-1/2 border-r border-white/10 flex flex-col bg-dark-850 p-6 overflow-y-auto",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[o.jsxs("div",{className:"p-4 bg-dark-900 border border-white/10 rounded-lg",children:[o.jsx("div",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-1",children:"Entradas"}),o.jsxs("div",{className:"text-emerald-500 font-mono font-bold",children:["R$ ",N.toFixed(2)]})]}),o.jsxs("div",{className:"p-4 bg-dark-900 border border-white/10 rounded-lg",children:[o.jsx("div",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-1",children:"Sadas"}),o.jsxs("div",{className:"text-red-500 font-mono font-bold",children:["R$ ",x.toFixed(2)]})]}),o.jsxs("div",{className:`p-4 bg-dark-900 border rounded-lg ${E>=0?"border-emerald-900/30":"border-red-900/30"}`,children:[o.jsx("div",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-1",children:"Lquido"}),o.jsxs("div",{className:`font-mono font-bold ${E>=0?"text-white":"text-red-400"}`,children:["R$ ",E.toFixed(2)]})]})]}),o.jsxs("div",{className:"space-y-4 mb-8 bg-dark-900 p-4 border border-white/10 rounded-xl",children:[o.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-widest mb-2",children:"Novo Registro"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>k("income"),className:`flex-1 py-2 text-xs font-bold uppercase tracking-widest rounded-lg border transition-all ${T==="income"?"bg-emerald-900/30 text-emerald-500 border-emerald-900":"bg-transparent border-white/10 text-zinc-500"}`,children:"Entrada"}),o.jsx("button",{onClick:()=>k("expense"),className:`flex-1 py-2 text-xs font-bold uppercase tracking-widest rounded-lg border transition-all ${T==="expense"?"bg-red-900/30 text-red-500 border-red-900":"bg-transparent border-white/10 text-zinc-500"}`,children:"Sada"})]}),o.jsx("input",{type:"text",placeholder:"Descrio (ex: Salrio, Aluguel)",className:"w-full bg-dark-950 border border-white/10 rounded-lg p-3 text-sm text-white placeholder-zinc-600 focus:border-cobalt-600 outline-none",value:h,onChange:_=>m(_.target.value)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",placeholder:"Valor",className:"w-1/2 bg-dark-950 border border-white/10 rounded-lg p-3 text-sm text-white placeholder-zinc-600 focus:border-cobalt-600 outline-none",value:p,onChange:_=>g(_.target.value)}),o.jsxs("select",{className:"w-1/2 bg-dark-950 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-cobalt-600 outline-none",value:I,onChange:_=>w(_.target.value),children:[o.jsx("option",{children:"Essencial"}),o.jsx("option",{children:"Lazer"}),o.jsx("option",{children:"Investimento"}),o.jsx("option",{children:"Dvida"}),o.jsx("option",{children:"Educao"})]})]}),o.jsx("button",{onClick:R,className:"w-full bg-white text-black font-bold text-xs uppercase tracking-widest py-3 rounded-lg hover:bg-zinc-200 transition-colors",children:"Adicionar Transao"})]}),o.jsxs("div",{className:"space-y-2",children:[s.map(_=>o.jsxs("div",{className:"flex justify-between items-center p-3 border border-white/5 bg-dark-900/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white font-medium",children:_.description}),o.jsx("div",{className:"text-xs text-zinc-500 uppercase",children:_.category})]}),o.jsxs("div",{className:`font-mono text-sm ${_.type==="income"?"text-emerald-500":"text-red-500"}`,children:[_.type==="income"?"+":"-"," R$ ",_.amount.toFixed(2)]})]},_.id)),s.length===0&&o.jsx("div",{className:"text-center py-8 text-zinc-600 text-xs uppercase tracking-widest",children:"Nenhum registro"})]})]}),o.jsxs("div",{className:"w-full md:w-1/2 p-6 flex flex-col overflow-y-auto bg-dark-900",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xs font-bold text-gold-500 uppercase tracking-widest mb-4",children:"Alvo Estratgico"}),o.jsx("input",{type:"text",placeholder:"Qual seu objetivo? (ex: Juntar 10k em 6 meses)",className:"w-full bg-dark-900 border-b-2 border-white/10 p-4 text-lg text-white placeholder-zinc-600 focus:border-gold-500 outline-none transition-colors font-light",value:a,onChange:_=>l(_.target.value),onBlur:()=>P(s,a,c||void 0)})]}),o.jsx("div",{className:"flex-1",children:y?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-dark-800 border-t-cobalt-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-cobalt-500 text-xs uppercase tracking-widest animate-pulse",children:"Analisando padres de consumo..."})]}):c?o.jsxs("div",{className:"space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:[o.jsx("h3",{className:"text-2xl text-white font-bold uppercase",children:"Relatrio CFO"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-zinc-500 uppercase tracking-widest",children:"Score de Sade"}),o.jsxs("div",{className:`text-3xl font-mono font-bold ${c.score>70?"text-emerald-500":c.score>40?"text-gold-500":"text-red-500"}`,children:[c.score,"/100"]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})," Deteco de Desperdcio"]}),o.jsx("ul",{className:"space-y-2",children:c.wasteDetection.map((_,C)=>o.jsx("li",{className:"text-sm text-zinc-300 bg-dark-850 p-3 border-l-2 border-red-900 rounded-r-lg",children:_},C))})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-cobalt-500 rounded-full"})," Anlise de Burn Rate"]}),o.jsx("p",{className:"text-sm text-zinc-300 leading-relaxed border border-white/10 p-4 bg-dark-850 rounded-lg",children:c.burnRateAnalysis})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-gold-500 rounded-full"})," Estratgia de Ataque"]}),o.jsxs("p",{className:"text-sm text-white font-medium leading-relaxed border-l-4 border-gold-500 pl-4 py-2",children:['"',c.strategy,'"']})]})]}):o.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center opacity-50",children:o.jsx("p",{className:"text-zinc-500 text-sm max-w-xs",children:"Adicione transaes e defina um objetivo para liberar a auditoria da IA."})})}),o.jsx("button",{onClick:O,disabled:s.length===0||y,className:`w-full py-4 mt-4 font-bold rounded-xl uppercase tracking-widest text-sm transition-all ${s.length>0?"bg-cobalt-600 text-white hover:bg-cobalt-500 shadow-lg shadow-cobalt-500/20":"bg-dark-800 text-zinc-600 cursor-not-allowed"}`,children:y?"Processando...":"Executar Auditoria Ttica"})]})]})]})})},c9=({onClose:t})=>{const{profile:e,saveRelationalAudit:n}=yt(),[r,s]=M.useState(5),[i,a]=M.useState(5),[l,c]=M.useState(5),[d,h]=M.useState(""),[m,p]=M.useState(""),[g,T]=M.useState(!1),[k,I]=M.useState((e==null?void 0:e.relationalAudit)||null),w=async()=>{if(!d||!m)return;T(!0);const P=await wL();I(P),n(P||void 0),T(!1)},y=()=>{I(null),n(void 0)},b=({label:P,value:R,setValue:O})=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:P}),o.jsxs("span",{className:"text-xl font-mono text-white font-bold",children:[R,"/10"]})]}),o.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:R,onChange:N=>O(parseInt(N.target.value)),className:"w-full h-2 bg-dark-800 rounded-lg appearance-none cursor-pointer accent-cobalt-600 hover:accent-cobalt-500 transition-all"})]});return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-dark-900 border border-white/10 w-full max-w-2xl shadow-2xl relative flex flex-col max-h-[90vh] overflow-y-auto rounded-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 bg-dark-900/95 flex justify-between items-center sticky top-0 backdrop-blur-sm z-10",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:t,className:"bg-transparent border-0 p-0 flex items-center gap-2 text-zinc-400 hover:text-white transition-colors group",children:[o.jsx(ca,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),o.jsx("span",{className:"text-sm font-medium",children:"Voltar"})]}),o.jsx("div",{className:"h-4 w-px bg-white/10"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ii,{className:"w-5 h-5 text-purple-500"}),o.jsx("h2",{className:"text-lg font-bold text-white",children:"Auditoria Relacional"})]})]}),o.jsx("button",{onClick:t,className:"bg-transparent border-0 p-2 text-zinc-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(us,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-8",children:k?o.jsxs("div",{className:"space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-widest mb-1",children:"Status da Unio"}),o.jsx("h3",{className:"text-3xl font-bold text-white",children:"Diagnstico Final"})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:`text-5xl font-mono font-bold ${k.healthScore>=80?"text-emerald-500":k.healthScore>=60?"text-gold-500":"text-red-500"}`,children:k.healthScore})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs text-cobalt-500 font-bold uppercase tracking-widest mb-3",children:"Anlise Ttica"}),o.jsx("p",{className:"text-zinc-300 leading-relaxed bg-dark-850 p-4 border-l-2 border-cobalt-600 rounded-r-lg",children:k.diagnosis})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs text-gold-500 font-bold uppercase tracking-widest mb-3",children:"Plano de Ao Imediato"}),o.jsx("ul",{className:"space-y-3",children:k.actionPlan.map((P,R)=>o.jsxs("li",{className:"flex gap-4 bg-dark-850 p-4 border border-white/5 rounded-lg",children:[o.jsxs("span",{className:"font-mono text-zinc-600 font-bold",children:["0",R+1]}),o.jsx("span",{className:"text-zinc-200 text-sm font-medium",children:P})]},R))})]}),o.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10 text-center",children:[o.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-[0.3em] mb-4",children:"Clusula de Ouro (Vigncia: 15 dias)"}),o.jsxs("blockquote",{className:"text-xl md:text-2xl font-serif italic text-white leading-relaxed",children:['"',k.goldenClause,'"']})]}),o.jsx("button",{onClick:y,className:"w-full py-4 mt-8 bg-transparent border border-white/10 text-zinc-500 hover:text-white hover:border-white/30 rounded-xl uppercase tracking-widest text-xs font-bold transition-all",children:"Nova Auditoria"})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-dark-850 p-4 border border-white/5 rounded-lg text-sm text-zinc-400 italic",children:'"A qualidade da sua vida  determinada pela qualidade dos seus relacionamentos. Seja brutalmente honesto com os dados."'}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(b,{label:"Comunicao Operacional",value:r,setValue:s}),o.jsx(b,{label:"Intimidade & Conexo",value:i,setValue:a}),o.jsx(b,{label:"Alinhamento de Viso",value:l,setValue:c})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:"Ponto de Atrito (ltimos 15 dias)"}),o.jsx("textarea",{className:"w-full bg-dark-950 border border-white/10 rounded-lg p-4 text-sm text-white focus:border-cobalt-600 outline-none h-24 resize-none transition-colors",placeholder:"Onde houve falha? Seja especfico e objetivo.",value:d,onChange:P=>h(P.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:"Valor Agregado (Gratido)"}),o.jsx("textarea",{className:"w-full bg-dark-950 border border-white/10 rounded-lg p-4 text-sm text-white focus:border-gold-500 outline-none h-24 resize-none transition-colors",placeholder:"O que seu parceiro fez de excepcional?",value:m,onChange:P=>p(P.target.value)})]})]}),o.jsx("button",{onClick:w,disabled:g||!d||!m,className:`w-full py-4 font-bold rounded-xl uppercase tracking-widest text-sm transition-all ${g||!d||!m?"bg-dark-800 text-zinc-600 cursor-not-allowed":"bg-white text-black hover:bg-zinc-200 shadow-lg shadow-white/10"}`,children:g?"Processando Dinmica...":"Gerar Relatrio de Impacto"})]})})]})})},ba=({title:t,desc:e,action:n,icon:r,onClick:s})=>o.jsxs("div",{onClick:s,className:"bg-dark-850 border border-white/5 p-8 rounded-2xl hover:border-cobalt-500/30 transition-all duration-300 group cursor-pointer relative overflow-hidden hover:shadow-2xl hover:shadow-cobalt-500/10 hover:-translate-y-1",children:[o.jsx("div",{className:"absolute -top-6 -right-6 p-4 opacity-5 group-hover:opacity-10 transition-opacity text-white transform rotate-12 group-hover:rotate-0 duration-500",children:o.jsx(r,{className:"w-32 h-32"})}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[o.jsx("div",{className:"mb-6 p-3 bg-dark-800 w-fit rounded-xl border border-white/5 group-hover:border-cobalt-500/30 group-hover:bg-cobalt-500/10 transition-colors",children:o.jsx(r,{className:"w-6 h-6 text-zinc-400 group-hover:text-cobalt-400 transition-colors"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-3 group-hover:text-cobalt-400 transition-colors",children:t}),o.jsx("p",{className:"text-sm text-zinc-400 mb-8 leading-relaxed flex-grow",children:e}),o.jsxs("div",{className:"flex items-center text-xs font-bold uppercase tracking-widest text-zinc-500 group-hover:text-cobalt-400 transition-colors mt-auto",children:[n,o.jsx(O0,{className:"w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform"})]})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-cobalt-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]});function u9(){const[t,e]=M.useState(null),n=()=>e(null);return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Arsenal"}),o.jsx("p",{className:"text-zinc-400",children:"Ferramentas tticas para reforar o Sistema 8-Core."})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(ba,{title:"Iron Log",desc:"IA Architect: Gera periodizao de treino baseada no seu nvel e disponibilidade.",action:"Gerar Protocolo",icon:Ik,onClick:()=>e("iron_log")}),o.jsx(ba,{title:"Boto de Pnico",desc:"Interveno imediata para ansiedade. Controle autonmico e regulao respiratria.",action:"Ativar SOS",icon:fc,onClick:()=>e("panic_button")}),o.jsx(ba,{title:"Dirio Cognitivo",desc:"Reenquadre pensamentos txicos usando princpios do Estoicismo e TCC.",action:"Nova Entrada",icon:Ya,onClick:()=>e("cognitive_journal")}),o.jsx(ba,{title:"Arquitetura Nutricional",desc:"Crie protocolos de alimentao ttica baseados em macros e custo-efetividade.",action:"Projetar Dieta",icon:L0,onClick:()=>e("diet_generator")}),o.jsx(ba,{title:"Pipeline Financeiro",desc:"Rastreie fluxo de caixa e receba auditoria de IA para cortar desperdcios.",action:"Ver Ledger",icon:Bh,onClick:()=>e("financial_pipeline")}),o.jsx(ba,{title:"Auditoria Relacional",desc:"Diagnstico brutalmente honesto da dinmica do seu relacionamento.",action:"Iniciar Auditoria",icon:ii,onClick:()=>e("relational_audit")})]}),t==="iron_log"&&o.jsx(s9,{onClose:n}),t==="panic_button"&&o.jsx(i9,{onClose:n}),t==="cognitive_journal"&&o.jsx(a9,{onClose:n}),t==="diet_generator"&&o.jsx(o9,{onClose:n}),t==="financial_pipeline"&&o.jsx(l9,{onClose:n}),t==="relational_audit"&&o.jsx(c9,{onClose:n})]})}function d9(){const[t,e]=M.useState(""),[n,r]=M.useState(""),[s,i]=M.useState(!1),[a,l]=M.useState(!1),{login:c,loginWithGoogle:d}=yt(),h=async p=>{if(p.preventDefault(),!t||!n){Ke.error("Por favor, preencha todos os campos");return}l(!0);try{await c(t,n),Ke.success("Login realizado com sucesso!"),window.location.href="/app/dashboard"}catch(g){console.error("Login error:",g),Ke.error(g.message||"Erro ao fazer login. Verifique suas credenciais."),l(!1)}},m=async()=>{l(!0);try{await d(),Ke.success("Login com Google realizado com sucesso!"),window.location.href="/app/dashboard"}catch(p){console.error("Google login error:",p),Ke.error(p.message||"Erro ao entrar com Google"),l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary-600/20 via-transparent to-transparent blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-accent-600/20 via-transparent to-transparent blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),o.jsxs("div",{className:"max-w-6xl w-full grid md:grid-cols-2 gap-8 items-center relative z-10",children:[o.jsxs("div",{className:"hidden md:block space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-primary-500/10 border border-primary-500/20 rounded-full px-4 py-2",children:[o.jsx(Tk,{className:"h-4 w-4 text-primary-400"}),o.jsx("span",{className:"text-sm text-primary-300 font-medium",children:"Respect Pill"})]}),o.jsxs("h1",{className:"text-5xl font-bold text-white leading-tight",children:["Domine sua",o.jsx("span",{className:"block gradient-text",children:"Jornada Pessoal"})]}),o.jsx("p",{className:"text-lg text-zinc-400 max-w-md",children:"Transforme sua vida atravs de disciplina, consistncia e auto-domnio. Junte-se a milhares de homens em evoluo."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 bg-dark-850/50 backdrop-blur-sm border border-white/5 rounded-xl p-4 hover:border-primary-500/30 transition-all",children:[o.jsx("div",{className:"p-2 bg-primary-500/10 rounded-lg",children:o.jsx(V0,{className:"h-5 w-5 text-primary-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium",children:"Protocolo de 90 Dias"}),o.jsx("p",{className:"text-sm text-zinc-500",children:"Sistema completo de transformao"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 bg-dark-850/50 backdrop-blur-sm border border-white/5 rounded-xl p-4 hover:border-accent-500/30 transition-all",children:[o.jsx("div",{className:"p-2 bg-accent-500/10 rounded-lg",children:o.jsx(fc,{className:"h-5 w-5 text-accent-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium",children:"Ferramentas Avanadas"}),o.jsx("p",{className:"text-sm text-zinc-500",children:"IA, tracking e comunidade"})]})]})]})]}),o.jsxs("div",{className:"w-full animate-slide-up",children:[o.jsxs("div",{className:"bg-dark-850/80 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Bem-vindo de volta"}),o.jsx("p",{className:"text-zinc-400",children:"Continue sua jornada de evoluo"})]}),o.jsxs("form",{className:"space-y-6",onSubmit:h,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Email"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:p=>e(p.target.value),className:"w-full px-4 py-3 bg-dark-900/50 border border-white/10 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"seu@email.com"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 pr-12 bg-dark-900/50 border border-white/10 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"Sua senha"}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-zinc-400 hover:text-white transition-colors",onClick:()=>i(!s),children:s?o.jsx(Ek,{className:"h-5 w-5"}):o.jsx(Nk,{className:"h-5 w-5"})})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[o.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-white/20 bg-dark-900/50 text-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 transition-all"}),o.jsx("span",{className:"text-zinc-400 group-hover:text-zinc-300 transition-colors",children:"Lembrar-me"})]}),o.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300 font-medium transition-colors",children:"Esqueceu a senha?"})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-600 text-white font-semibold py-3 px-6 rounded-xl shadow-lg shadow-primary-500/25 hover:shadow-primary-500/40 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-dark-850 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:-translate-y-0.5",children:a?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),o.jsx("span",{children:"Entrando..."})]}):"Entrar na Plataforma"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-white/10"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-dark-850 text-zinc-500",children:"ou"})})]}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-zinc-400",children:["Novo por aqui?"," ",o.jsx(zi,{to:"/register",className:"text-primary-400 hover:text-primary-300 font-semibold transition-colors",children:"Criar conta gratuita"})]})})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center space-x-3 border border-white/10 bg-dark-900/50 hover:bg-white/5 text-white py-3 px-4 rounded-xl transition-all",disabled:a,children:[o.jsxs("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 533.5 544.3",className:"inline-block",children:[o.jsx("path",{fill:"#4285f4",d:"M533.5 278.4c0-17.3-1.5-34-4.3-50.3H272v95.2h146.9c-6.3 34-25.1 62.8-53.6 82.2v68.3h86.5c50.6-46.6 80.7-115.2 80.7-195.4z"}),o.jsx("path",{fill:"#34a853",d:"M272 544.3c72.7 0 133.7-24.1 178.2-65.5l-86.5-68.3c-24 16.1-54.6 25.6-91.7 25.6-70.5 0-130.4-47.6-151.8-111.8h-90.2v70.3C88.2 482.7 171 544.3 272 544.3z"}),o.jsx("path",{fill:"#fbbc04",d:"M120.2 325.8c-11.4-34-11.4-70 0-104l-90.2-70.3C4.2 197.6 0 234.8 0 272s4.2 74.4 29.9 120.5l90.3-67.7z"}),o.jsx("path",{fill:"#ea4335",d:"M272 107.1c39.5 0 75.2 13.5 103.2 40.3l77.3-77.3C417.9 29.4 347.5 0 272 0 171 0 88.2 61.6 29.9 152.6l90.2 70.3C141.6 154.7 201.5 107.1 272 107.1z"})]}),o.jsx("span",{children:"Entrar com Google"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-zinc-600",children:" Seus dados esto protegidos e criptografados"})})]})]})]})}function h9(){const[t,e]=M.useState(""),[n,r]=M.useState(""),[s,i]=M.useState(""),[a,l]=M.useState(!1),[c,d]=M.useState(!1),{register:h}=yt(),m=async p=>{if(p.preventDefault(),!t||!n||!s){Ke.error("Por favor, preencha todos os campos");return}if(n.length<8){Ke.error("A senha deve ter pelo menos 8 caracteres");return}d(!0);try{await h(t,n,s),Ke.success("Conta criada com sucesso! Bem-vindo ao Respect Pill!"),window.location.href="/app/dashboard"}catch(g){console.error("Registration error:",g),Ke.error(g.message||"Erro ao criar conta. Tente novamente."),d(!1)}};return o.jsxs("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-accent-600/20 via-transparent to-transparent blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-primary-600/20 via-transparent to-transparent blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),o.jsxs("div",{className:"max-w-6xl w-full grid md:grid-cols-2 gap-8 items-center relative z-10",children:[o.jsxs("div",{className:"hidden md:block space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-accent-500/10 border border-accent-500/20 rounded-full px-4 py-2",children:[o.jsx(Tk,{className:"h-4 w-4 text-accent-400"}),o.jsx("span",{className:"text-sm text-accent-300 font-medium",children:"Respect Pill"})]}),o.jsxs("h1",{className:"text-5xl font-bold text-white leading-tight",children:["Comece sua",o.jsx("span",{className:"block gradient-text",children:"Transformao"})]}),o.jsx("p",{className:"text-lg text-zinc-400 max-w-md",children:"Junte-se a uma comunidade de homens comprometidos com a excelncia. Sua jornada de 90 dias comea agora."})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-dark-850/50 backdrop-blur-sm border border-white/5 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"1.2k+"}),o.jsx("div",{className:"text-xs text-zinc-500",children:"Membros Ativos"})]}),o.jsxs("div",{className:"bg-dark-850/50 backdrop-blur-sm border border-white/5 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"90"}),o.jsx("div",{className:"text-xs text-zinc-500",children:"Dias de Protocolo"})]}),o.jsxs("div",{className:"bg-dark-850/50 backdrop-blur-sm border border-white/5 rounded-xl p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"4.8"}),o.jsx("div",{className:"text-xs text-zinc-500",children:"Avaliao"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 text-zinc-300",children:[o.jsx("div",{className:"p-1.5 bg-success-500/10 rounded-lg",children:o.jsx(Bd,{className:"h-4 w-4 text-success-400"})}),o.jsx("span",{className:"text-sm",children:"Protocolo personalizado de 90 dias"})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-zinc-300",children:[o.jsx("div",{className:"p-1.5 bg-primary-500/10 rounded-lg",children:o.jsx(Bh,{className:"h-4 w-4 text-primary-400"})}),o.jsx("span",{className:"text-sm",children:"Tracking avanado de progresso"})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-zinc-300",children:[o.jsx("div",{className:"p-1.5 bg-accent-500/10 rounded-lg",children:o.jsx(ii,{className:"h-4 w-4 text-accent-400"})}),o.jsx("span",{className:"text-sm",children:"Comunidade exclusiva de apoio"})]})]})]}),o.jsxs("div",{className:"w-full animate-slide-up",children:[o.jsxs("div",{className:"bg-dark-850/80 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Crie sua conta"}),o.jsx("p",{className:"text-zinc-400",children:"Comece sua jornada de evoluo hoje"})]}),o.jsxs("form",{className:"space-y-5",onSubmit:m,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Nome completo"}),o.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:s,onChange:p=>i(p.target.value),className:"w-full px-4 py-3 bg-dark-900/50 border border-white/10 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all",placeholder:"Seu nome completo"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Email"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:p=>e(p.target.value),className:"w-full px-4 py-3 bg-dark-900/50 border border-white/10 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all",placeholder:"seu@email.com"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 pr-12 bg-dark-900/50 border border-white/10 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all",placeholder:"Mnimo 8 caracteres"}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-zinc-400 hover:text-white transition-colors",onClick:()=>l(!a),children:a?o.jsx(Ek,{className:"h-5 w-5"}):o.jsx(Nk,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"mt-2 text-xs text-zinc-500",children:"Mnimo 8 caracteres, inclua letras e nmeros"})]})]}),o.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-600 text-white font-semibold py-3 px-6 rounded-xl shadow-lg shadow-accent-500/25 hover:shadow-accent-500/40 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2 focus:ring-offset-dark-850 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:-translate-y-0.5",children:c?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),o.jsx("span",{children:"Criando conta..."})]}):"Criar Conta Gratuita"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-white/10"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-dark-850 text-zinc-500",children:"ou"})})]}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-zinc-400",children:["J tem uma conta?"," ",o.jsx(zi,{to:"/login",className:"text-accent-400 hover:text-accent-300 font-semibold transition-colors",children:"Fazer login"})]})})]}),o.jsxs("div",{className:"mt-6 text-center text-xs text-zinc-600",children:["Ao criar sua conta, voc concorda com nossos"," ",o.jsx("a",{href:"#",className:"text-accent-400 hover:text-accent-300 transition-colors",children:"Termos de Servio"})," e ",o.jsx("a",{href:"#",className:"text-accent-400 hover:text-accent-300 transition-colors",children:"Poltica de Privacidade"})]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-zinc-600",children:" Seus dados esto protegidos e criptografados"})})]})]})]})}function f9(){const t=yt(r=>r.initialize),e=yt(r=>r.initialized),n=yt(r=>r.user);return M.useEffect(()=>{t()},[]),e?o.jsxs(o.Fragment,{children:[o.jsxs(Zj,{children:[o.jsx(nt,{path:"/",element:n?o.jsx(ji,{to:"/app/dashboard",replace:!0}):o.jsx(ji,{to:"/login",replace:!0})}),o.jsx(nt,{path:"/login",element:n?o.jsx(ji,{to:"/app/dashboard",replace:!0}):o.jsx(d9,{})}),o.jsx(nt,{path:"/register",element:n?o.jsx(ji,{to:"/app/dashboard",replace:!0}):o.jsx(h9,{})}),o.jsx(nt,{path:"/onboarding",element:n?o.jsx(IL,{}):o.jsx(ji,{to:"/login",replace:!0})}),o.jsxs(nt,{path:"/app",element:n?o.jsx(HM,{}):o.jsx(ji,{to:"/login",replace:!0}),children:[o.jsx(nt,{index:!0,element:o.jsx(ji,{to:"/app/dashboard"})}),o.jsx(nt,{path:"dashboard",element:o.jsx(g3,{})}),o.jsx(nt,{path:"corpo",element:o.jsx(W6,{})}),o.jsx(nt,{path:"mente",element:o.jsx(H6,{})}),o.jsx(nt,{path:"postura",element:o.jsx(G6,{})}),o.jsx(nt,{path:"vida-afetiva",element:o.jsx(K6,{})}),o.jsx(nt,{path:"sexualidade",element:o.jsx(Q6,{})}),o.jsx(nt,{path:"disciplina",element:o.jsx(Y6,{})}),o.jsx(nt,{path:"carreira",element:o.jsx(X6,{})}),o.jsx(nt,{path:"challenges",element:o.jsx(Z6,{})}),o.jsx(nt,{path:"content",element:o.jsx(LL,{})}),o.jsx(nt,{path:"community",element:o.jsx(DL,{})}),o.jsx(nt,{path:"tools",element:o.jsx(u9,{})}),o.jsx(nt,{path:"pricing",element:o.jsx(p6,{})}),o.jsx(nt,{path:"settings",element:o.jsx(PL,{})}),o.jsx(nt,{path:"profile",element:o.jsx(CL,{})}),o.jsx(nt,{path:"general-settings",element:o.jsx(AL,{})})]})]}),o.jsx(qM,{position:"top-right",expand:!0,richColors:!0,closeButton:!0,duration:4e3,theme:"dark",toastOptions:{style:{background:"#1a1a1a",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#e5e5e5"}}})]}):o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-primary-500 border-t-transparent"})})}Yf.createRoot(document.getElementById("root")).render(o.jsx($.StrictMode,{children:o.jsx(iI,{children:o.jsx(f9,{})})}));
//# sourceMappingURL=index-CF3Te1RR.js.map
